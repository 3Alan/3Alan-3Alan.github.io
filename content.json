{"meta":{"title":"Alan|å‰ç«¯åšå®¢","subtitle":"","description":"ä¸€ä¸ªä¸“æ³¨äºå‰ç«¯å¼€å‘çš„å°ç™½ï¼Œåˆ†äº«å‰ç«¯å¼€å‘çŸ¥è¯†","author":"Alan","url":"https://alanwang.site","root":"/"},"pages":[{"title":"404 Not Found","date":"2020-05-13T09:03:12.444Z","updated":"2020-05-13T09:03:12.444Z","comments":true,"path":"404.html","permalink":"https://alanwang.site/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-05-14T12:46:25.030Z","updated":"2020-05-14T12:46:25.030Z","comments":true,"path":"categories/index.html","permalink":"https://alanwang.site/categories/index.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2020-05-14T12:42:42.500Z","updated":"2020-05-14T12:42:42.500Z","comments":true,"path":"about/index.html","permalink":"https://alanwang.site/about/index.html","excerpt":"","text":"Alan å¾…å®Œå–„"},{"title":"","date":"2020-05-14T13:02:13.019Z","updated":"2020-05-14T13:02:13.019Z","comments":true,"path":"list/index.html","permalink":"https://alanwang.site/list/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2020-05-14T13:25:42.778Z","updated":"2020-05-14T13:25:42.778Z","comments":true,"path":"friends/index.html","permalink":"https://alanwang.site/friends/index.html","excerpt":"","text":"è¦æ·»åŠ å‹é“¾çš„æœ‹å‹æŒ‰ç…§ä¸‹é¢æ ¼å¼ç»™æˆ‘ç•™è¨€ğŸ˜˜ 12345678items:- name: # åšå®¢å å¿…å¡« avatar: # å¤´åƒé“¾æ¥ å¿…å¡« url: # åšå®¢é“¾æ¥ å¿…å¡« backgroundColor: &#39;#3E74C9&#39; # å¡ç‰‡èƒŒæ™¯é¢œè‰² textColor: &#39;#fff&#39; # å¡ç‰‡æ–‡å­—é¢œè‰² tags: [æ ‡ç­¾1, æ ‡ç­¾2] # æ ‡ç­¾ desc: æè¿°æ–‡å­—"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2020-05-14T12:58:35.975Z","updated":"2020-05-14T12:58:35.975Z","comments":true,"path":"tags/index.html","permalink":"https://alanwang.site/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰","date":"2020-05-15T12:00:22.000Z","updated":"2020-05-16T05:33:00.000Z","comments":true,"path":"2020/05/15/webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰/","link":"","permalink":"https://alanwang.site/2020/05/15/webpack4.0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%8C%EF%BC%89/","excerpt":"è¿™èŠ‚ä¸»è¦è®²ä¸€è®²ä¸€äº›å¸¸è§çš„Loderçš„ä½¿ç”¨ã€‚åŒ…æ‹¬file-loaderã€url-loaderä»¥åŠcss-loaderå’Œstyle-loaderã€‚","text":"è¿™èŠ‚ä¸»è¦è®²ä¸€è®²ä¸€äº›å¸¸è§çš„Loderçš„ä½¿ç”¨ã€‚åŒ…æ‹¬file-loaderã€url-loaderä»¥åŠcss-loaderå’Œstyle-loaderã€‚ Loaderfile-loaderä¸Šä¸€èŠ‚ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆï¼Œwebpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œå¯ä»¥å°†esçš„æ¨¡å—æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚ä¸Šä¸€èŠ‚æˆ‘ä»¬åªæ‰“åŒ…äº†jsæ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½æ‰“åŒ…å…¶ä»–ç±»å‹çš„æ–‡ä»¶å‘¢ï¼Œå…ˆæ¥è¯•ä¸€è¯•æ‰“åŒ…å›¾ç‰‡å§ã€‚ è¿™é‡Œä½¿ç”¨åˆ°äº†file-loader 1npm i file-loader -D index.jswebpack.config.js123456789101112131415// ES Moudule æ¨¡å—åŒ–å¼•å…¥import ComponentB from './componentB';var root = document.getElementById('root');// CommonJs æ¨¡å—å¼•å…¥var ComponentA = require('./componentA');var img1 = require('./IMG_3294.jpg');console.log(img1);var img = new Image();img.src = img1;root.append(img);new ComponentA();new ComponentB();12345678910111213141516171819202122const path = require('path');module.exports = &#123; mode: 'development', // é»˜è®¤ä¸ºproduction entry: &#123; main: './src/index.js' // æ‰“åŒ…å…¥å£æ–‡ä»¶ &#125;, module: &#123; rules: [ &#123; test: /\\.jpg$/, use: &#123; loader: 'file-loader' &#125; &#125; ] &#125;, output: &#123; // è¾“å‡ºæ–‡ä»¶é…ç½® filename: 'bundle.js', path: path.resolve(__dirname, 'dist') &#125;&#125; npm run buildè¿›è¡Œæ‰“åŒ…ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ§åˆ¶å°æ‰“å°å‡ºæ¥çš„img1 è¿™é‡Œå¯ä»¥çœ‹åˆ°img1æ˜¯ä¸€ä¸ªModuleã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡img1.defaultæ¥è·å–è·¯å¾„æˆ–è€…ç›´æ¥é€šè¿‡importå½¢å¼æ¥å¼•å…¥ï¼Œè¿™æ ·å›¾ç‰‡å°±æˆåŠŸå¾—æ˜¾ç¤ºå‡ºæ¥äº†ğŸ˜„ 1import img1 from './IMG_3294.jpg' é€šè¿‡è¿™ä¸ªä¾‹å­å¯ä»¥çŸ¥é“äº†loaderçš„å¤§è‡´ä½œç”¨æ–¹æ³•äº†ï¼Œé€šè¿‡testæ¥åŒ¹é…ç‰¹å®šæ–‡ä»¶ä½¿ç”¨ï¼ˆuse)ç‰¹å®šçš„loaderæ¥å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…å¤„ç†ã€‚ æˆ‘ä»¬å†çœ‹ä¸€ä¸‹æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ dist â”œâ”€â”€ a2099657cfcaf9f019ccf08e9dc8747d.jpg â”œâ”€â”€ bundle.js â””â”€â”€ index.html å‘ç°æˆ‘ä»¬çš„å›¾ç‰‡åç§°è¢«æ”¹å˜æˆäº†ä¸€é•¿ä¸²å­—ç¬¦ï¼Œé‚£æˆ‘æ€ä¹ˆè®©å®ƒä¸æ”¹å˜åå­—å‘¢ã€‚è¿™æ—¶å€™loaderçš„optionså°±æ´¾ä¸Šç”¨åœºäº†ğŸ˜ 1234567891011rules: [ &#123; test: /\\.(jpg|png)$/, use: &#123; loader: 'file-loader', options: &#123; name: '[name].[ext]' &#125; &#125; &#125;] è¿™é‡Œçš„[name]å’Œ[ext]æ˜¯loaderä¸­çš„placeholder,åˆ†åˆ«è¡¨ç¤ºæ–‡ä»¶çš„åå­—å’Œåç¼€åï¼Œå½“ç„¶loaderä¸­è¿˜æœ‰å¾ˆå¤šçš„placeholderã€‚ è®¾ç½®å¥½åè¿›è¡Œæ‰“åŒ…å¾—åˆ°å¦‚ä¸‹ç»“æœ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ IMG_3294.jpg â””â”€â”€ index.html ç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬çš„å›¾ç‰‡ä¸€æ—¦å¤šèµ·æ¥é‚£å…¨éƒ¨æ‰“åŒ…æ”¾åœ¨æ ¹ç›®å½•ä¸‹æ‹¿å²‚ä¸æ˜¯å¾ˆä¹±ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨optionsä¸­çš„outputæ¥è§„å®šç»è¿‡loaderå¤„ç†åçš„è¾“å‡ºè·¯å¾„äº†ã€‚ 1234options: &#123; name: '[name].[ext]', outputPath: 'images/'&#125; æ‰“åŒ…çœ‹ä¸€ä¸‹ç»“æœæˆåŠŸğŸ‘Œï¼Œè¿è¡Œä¸€ä¸‹htmlæ–‡ä»¶å›¾ç‰‡ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ images â”‚ â””â”€â”€ IMG_3294.jpg â””â”€â”€ index.html åˆ°è¿™é‡Œæˆ‘ä»¬å°±äº†è§£äº†file-loaderçš„åŸºæœ¬ä½¿ç”¨äº†ã€‚ url-loaderurl-loaderä¹Ÿå¯ä»¥æ‰“åŒ…æ–‡ä»¶ï¼Œä½†æ˜¯å’Œfile-loaderä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šå°†æˆ‘ä»¬çš„å›¾ç‰‡è½¬åŒ–æˆbase64ç¼–ç ï¼Œé‚£å¦‚æœæˆ‘ä¸æƒ³è½¬åŒ–å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨optionsä¸­çš„limitå±æ€§æ¥é™åˆ¶æ–‡ä»¶åœ¨å°äºå¤šå°‘æ—¶è½¬åŒ–æˆbase64ç¼–ç ï¼Œä¸€æ—¦å¤§äºè¿™ä¸ªå€¼æ‰“åŒ…å‡ºæ¥çš„æ•ˆæœå°±å’Œfile-loaderä¸€æ ·äº†ã€‚ çœ‹ä¸€ä¸‹ä¾‹å­å°±æ¸…æ¥šäº† 1npm i url-loader -D è¿™é‡Œå‡†å¤‡ä¸¤ä¸ªå›¾ç‰‡ï¼Œä¸€ä¸ªå¤§å°300kï¼Œä¸€ä¸ªå¤§å°7k webpacké…ç½® 123456789101112131415161718192021222324252627const path = require('path');module.exports = &#123; mode: 'development', // é»˜è®¤ä¸ºproduction entry: &#123; main: './src/index.js' // æ‰“åŒ…å…¥å£æ–‡ä»¶ &#125;, module: &#123; rules: [ &#123; test: /\\.(jpg|png)$/, use: &#123; loader: 'url-loader', options: &#123; name: '[name].[ext]', outputPath: 'images/', limit: 10240 &#125; &#125; &#125; ] &#125;, output: &#123; // è¾“å‡ºæ–‡ä»¶é…ç½® filename: 'bundle.js', path: path.resolve(__dirname, 'dist') &#125;&#125; çœ‹ä¸€ä¸‹æ‰“åŒ…åçš„æ–‡ä»¶ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ images â”‚ â””â”€â”€ 300k.jpg â””â”€â”€ index.html ç»“æœæ˜¯å¤§äº10240çš„300k.jpgæ–‡ä»¶è¢«ä»¥å›¾ç‰‡å½¢å¼æ‰“åŒ…å‡ºæ¥äº†ï¼Œé‚£7k.jpgæ–‡ä»¶å»å“ªäº†å‘¢ï¼Œæˆ‘ä»¬åœ¨bundle.jsæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°äº†å®ƒï¼Œå®ƒè¢«è½¬åŒ–æˆäº†base64ç¼–ç ã€‚ 1data:image&#x2F;jpeg;base64,&#x2F;9j&#x2F;4AAQSkZJRgABAQEAYABgAAD... å½“ç„¶limitä¹Ÿå¯ä»¥è®¾ç½®ä¸ºtrue/falseï¼Œæ›´å¤šé…ç½® æˆ‘åœ¨æ“ä½œä¸­å‘ç°äº†å¦‚æœhtmlä¸­æ²¡æœ‰ä½¿ç”¨åˆ°7k.jpgï¼Œurl-loaderæ˜¯ä¸ä¼šå¯¹å®ƒè¿›è¡Œæ‰“åŒ…çš„ã€‚ è¿™é‡Œå¹¶ä¸å»ºè®®æŠŠå¤§æ–‡ä»¶è½¬åŒ–ä¸ºbase64ï¼Œè¿™æ ·ä¼šå¢åŠ bundle.jsçš„ä½“ç§¯ï¼Œå¯¹é¡¹ç›®ä¼˜åŒ–ä¸å¤ªå‹å¥½ æ ·å¼æ–‡ä»¶æ¥ç€ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ç°åœ¨æƒ³è¦ä¸ºé¡µé¢ä¸­çš„å›¾ç‰‡æ·»åŠ ä¸€äº›æ ·å¼ index.jsindex.css123456789101112131415161718// ES Moudule æ¨¡å—åŒ–å¼•å…¥import ComponentB from './componentB';import './index.css';var root = document.getElementById('root');// CommonJs æ¨¡å—å¼•å…¥var ComponentA = require('./componentA');import img1 from './300k.jpg';console.log(img1);var img = new Image();img.src = img1;img.classList.add('circle');root.append(img);new ComponentA();new ComponentB();12345.circle &#123; width: 100px; height: 100px; border-radius: 50px;&#125; ç°åœ¨æˆ‘æƒ³è¦æ‰“åŒ…cssæ–‡ä»¶è¯¥æ€ä¹ˆåŠå‘¢ğŸ˜¶ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°ä¸¤ä¸ªloaderï¼Œcss-loaderå’Œstyle-loader å®‰è£… 1npm i style-loader css-loader -D webpacké…ç½® 1234&#123; test: /\\.css$/, use: ['style-loader', 'css-loader']&#125; æ‰“åŒ…æˆåŠŸï¼Œæ‰“å¼€ç½‘é¡µçœ‹ä¸€çœ‹æ•ˆæœç”Ÿæ•ˆäº† è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹style-loaderå’Œcss-loaderçš„ä½œç”¨ï¼Œé¦–å…ˆå®ƒä»¬æ‰§è¡Œæœ‰å…ˆåé¡ºåºçš„ï¼Œå…ˆä½¿ç”¨css-loaderå¯¹cssæ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œå†ç”¨style-loaderæŠŠæ‰“åŒ…åçš„cssæ–‡ä»¶å†…å®¹ä»¥&lt;style&gt;&lt;/style&gt;åŠ åˆ°é¡µé¢çš„headerä¸­ã€‚ æœ‰æ—¶å€™æˆ‘ä»¬è¦ä¸ºcssåŠ ä¸Šæµè§ˆå™¨å¼•æ“å‰ç¼€-webkitï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªloaderå¯ä»¥å¸®æˆ‘ä»¬å®Œæˆpostcss-loader å®‰è£… 1npm i postcss-loader autoprefixer -D webpacké…ç½® 123456789101112&#123; test: /\\.css$/, use: ['style-loader', 'css-loader', &#123; loader: 'postcss-loader', options: &#123; ident: 'postcss', pulgins: [ require('autoprefixer') ] &#125; &#125;],&#125;, è¿™é‡Œè²Œä¼¼æœ‰ç‚¹é—®é¢˜ï¼ŒåæœŸæˆ‘å†ç ”ç©¶ç ”ç©¶ã€‚ æ‰©å±•cssæ¨¡å—åŒ–å…ˆçœ‹ä¸€ä¸ªåœºæ™¯ index.jscomponentA.js123456789101112import './index.css';import img1 from './300k.jpg';import ComponentA from './componentA';var root = document.getElementById('root');var img = new Image();img.src = img1;img.classList.add('circle');root.append(img);ComponentA();1234567891011import img1 from './300k.jpg';function ComponentA() &#123; var img = new Image(); img.src = img1; img.classList.add('circle'); var root = document.getElementById('root'); root.append(img);&#125;export default ComponentA; æˆ‘ä»¬çœ‹åˆ°circleæ ·å¼åŒæ ·ä½œç”¨åœ¨äº†componentAä¸Šäº†ï¼Œä¹Ÿå°±æ˜¯è¯´circleå·²ç»ç­‰åŒäºæ˜¯å…¨å±€æ ·å¼äº†ğŸ˜¥ã€‚è¿˜å¥½æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®css-loaderçš„optionsæ¥ä½¿ç”¨cssçš„æ¨¡å—åŒ–æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 12345678910111213141516171819&#123; test: /\\.css$/, use: [ 'style-loader', &#123; loader: 'css-loader', options: &#123; modules: true, &#125; &#125;, &#123; loader: 'postcss-loader', options: &#123; ident: 'postcss', pulgins: [require('autoprefixer')], &#125;, &#125;, ],&#125;, é…ç½®å¥½åæˆ‘ä»¬åœ¨è¦ä½¿ç”¨æ ·å¼çš„åœ°æ–¹ä½¿ç”¨ä¸‹é¢è¿™ç§å†™æ³• 123import circle from './index.css';img.classList.add(circle.circle); è¿™æ ·æˆ‘ä»¬å†ä¿®æ”¹æ ·å¼å°±ä¸ä¼šå½±å“åˆ°å…¶ä»–åœ°æ–¹äº†ã€‚ csså¤–éƒ¨å¼•å…¥è¿™é‡Œä¸»è¦ä»‹ç»css-loaderçš„optionsimportLoadersã€‚ æˆ‘ä»¬åœ¨index.cssæ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨cssæ–‡ä»¶ 1@import './import.css'; å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹å‡ ä¸ªloaderå¤„ç†cssæ–‡ä»¶ [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;sass-loader&#39;, &#39;postcss-loader&#39;] å½“webpackå¤„ç†index.cssæ–‡ä»¶æ—¶æŒ‰ç…§postcss-loader-&gt;sass-loader-&gt;css-loaderé¡ºåºæ¥æ‰§è¡Œcssæ–‡ä»¶çš„ å½“é‡åˆ°@importæ—¶å¤„ç†import.cssæ—¶ï¼Œå¦‚æœä¸åšå¤„ç†çš„è¯ï¼Œimport.csså°†ç›´æ¥ä»css-loaderå¼€å§‹å¤„ç†çš„ï¼Œé‚£æˆ‘æƒ³è®©å®ƒä»postcss-loaderä»å¤´å¤„ç†çš„è¯å°±è¦è®¾ç½®imortLoadersæ•°ç›®äº†ã€‚ 123456&#123; loader: 'css-loader', options: &#123; importLoaders: 1, &#125;&#125;, è¿™é‡Œçš„1è¡¨ç¤ºå¤„ç†@importå¼•å…¥çš„cssæ–‡ä»¶æ˜¯ï¼Œå…ˆè¦è¢«å‰é¢çš„1ä¸ªloaderå¤„ç†ï¼Œä¹Ÿå°±æ˜¯import.cssçš„å¤„ç†é¡ºåºæ˜¯sass-loader-&gt;css-loader-style-loaderã€‚ å¤„ç†å­—ä½“æ–‡ä»¶ç›´æ¥ä½¿ç”¨file-loaderå¤„ç†å°±å¯ä»¥äº† webpack.config.jsindex.jsiconfont.css123456&#123; test: /\\.(eot|ttf|svg|woff)$/, use: &#123; loader: 'file-loader', &#125;,&#125;,12345import './font/iconfont.css';var root = document.getElementById('root');root.innerHTML = '&lt;div class=\"iconfont icon-smile\"&gt;&lt;/div&gt;'1234567891011121314151617181920@font-face &#123;font-family: \"iconfont\"; src: url('iconfont.eot?t=1589604469136'); /* IE9 */ src: url('iconfont.eot?t=1589604469136#iefix') format('embedded-opentype'), /* IE6-IE8 */ url('data:application/x-font-woff2;charset=utf-8;base64,è¿™é‡Œbase64ä»£ç å¤ªé•¿åˆ é™¤æ‰äº†') format('woff2'), url('iconfont.woff?t=1589604469136') format('woff'), url('iconfont.ttf?t=1589604469136') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */ url('iconfont.svg?t=1589604469136#iconfont') format('svg'); /* iOS 4.1- */&#125;.iconfont &#123; font-family: \"iconfont\" !important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;&#125;.icon-smile:before &#123; content: \"\\e783\";&#125; ok!è¿™ç« åˆ°æ­¤ä»‹ç»ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿå¤„ç†ä¸€äº›å¸¸è§æ–‡ä»¶çš„æ‰“åŒ…äº†ï¼Œå¯¹webpackçš„è®¤è¯†ä¹Ÿåº”è¯¥ç®—ä¸€ä¸ªç®€å•çš„å…¥é—¨äº†ã€‚ğŸ˜ æ–‡ç« æ˜¯çœ‹è¿‡æ…•è¯¾ç½‘çš„è¯¾ç¨‹åè¿›è¡Œçš„æ€»ç»“è¯¾ç¨‹é“¾æ¥","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰","date":"2020-05-14T08:01:46.000Z","updated":"2020-05-14T08:01:46.000Z","comments":true,"path":"2020/05/14/webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰/","link":"","permalink":"https://alanwang.site/2020/05/14/webpack4.0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"è¿™ä¸€ç¯‡æ–‡ç« ä¸»è¦ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆä»¥åŠwebpackçš„ä¸€äº›ç®€å•é…ç½®ï¼Œä½ åªè¦è·Ÿç€æˆ‘æ•²å®Œè¿™äº›ä»£ç åä¸€å®šä¼šå¯¹webpackæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£çš„ã€‚ğŸ˜","text":"è¿™ä¸€ç¯‡æ–‡ç« ä¸»è¦ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆä»¥åŠwebpackçš„ä¸€äº›ç®€å•é…ç½®ï¼Œä½ åªè¦è·Ÿç€æˆ‘æ•²å®Œè¿™äº›ä»£ç åä¸€å®šä¼šå¯¹webpackæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£çš„ã€‚ğŸ˜ webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚ ä¸Šé¢å¼•ç”¨äº†webpackå®˜ç½‘çš„ä¸€æ®µä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç†è§£webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œé‚£ä»€ä¹ˆæ˜¯æ¨¡å—æ‰“åŒ…å™¨å‘¢ï¼ŸğŸ˜‚å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ index.htmlindex.jscomponentA.jscomponentB.js123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=\"root\"&gt;&lt;/div&gt; &lt;script src=\"./index.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;12345678910// ES Moudule æ¨¡å—åŒ–å¼•å…¥import ComponentB from './componentB';var root = document.getElementById('root');// CommonJs æ¨¡å—å¼•å…¥var ComponentA = require('./componentA');new ComponentA();new ComponentB();1234567function ComponentA() &#123; var componentA = document.createElement('div'); componentA.innerHTML = 'ComponentA'; root.append(componentA);&#125;module.exports = ComponentA;1234567function ComponentB() &#123; var componentB = document.createElement('div'); componentB.innerHTML = 'ComponentB'; root.append(componentB);&#125;export default ComponentB; è¿™é‡Œçš„æ¨¡å—å¯ä»¥ç†è§£æˆcomponentAå’ŒcomponentBï¼Œè¿™ç§å†™æ³•åœ¨vueå’Œreactä¸­éå¸¸å¸¸è§ï¼Œå†™å®Œè¿™äº›æ–‡ä»¶åæ‰“å¼€index.htmlæ–‡ä»¶ï¼Œæµè§ˆå™¨æ˜¯ä¼šæŠ¥é”™çš„ã€‚ Uncaught SyntaxError: Cannot use import statement outside a module è¿™æ˜¯ç”±äºè¿™é‡Œä½¿ç”¨äº†es6ä¸­çš„æ¨¡æ¿å¼•å…¥çš„æ–¹å¼ï¼Œæµè§ˆå™¨æ˜¯è¯†åˆ«ä¸äº†è¿™ç§æ–¹å¼çš„ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼ŸğŸ˜¥ è¿™ä¸ªæ—¶å€™webpackå°±æ´¾ä¸Šç”¨åœºäº†ï¼Œé¦–å…ˆåˆå§‹åŒ–è¯¥é¡¹ç›® 1npm init -y åˆå§‹åŒ–åä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶ å®‰è£…webpack-cliå’Œwebpackï¼ˆä¸å»ºè®®å…¨å±€å®‰è£…ï¼‰ 12npm install webpack-cli -Dnpm install webpack -S å®‰è£…å›ºå®šç‰ˆæœ¬çš„webpack 12npm install webpack@ç‰ˆæœ¬å·npm info webpack &#x2F;&#x2F; æŸ¥çœ‹åŒ…ä¿¡æ¯ æ‰“åŒ…index.js 1npx webpack index.js è¿™é‡Œå¦‚æœä¸ä½¿ç”¨npxçš„è¯nodeä¼šé»˜è®¤åœ¨å…¨å±€ç¯å¢ƒä¸­æ‰¾å¯»webpackï¼ŒåŠ ä¸Šnpxçš„è¯å°±ä¼šä½¿ç”¨é¡¹ç›®ä¸­å®‰è£…çš„webpackæ¥æ‰§è¡Œå‘½ä»¤ æ‰“åŒ…åå¯ä»¥çœ‹åˆ°æ ¹ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªdistæ–‡ä»¶å¤¹ï¼ˆwebpacké»˜è®¤è®¾ç½®å¥½çš„ï¼Œåé¢ä¼šè®²å¦‚ä½•æ”¹å˜ï¼‰ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªmain.jsæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç»è¿‡webpackå¤„ç†åçš„index.jsã€‚ ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹index.htmlçš„ä»£ç  1&lt;script src=\"./dist/main.js\"&gt;&lt;/script&gt; è¿™ä¸‹æµè§ˆå™¨å°±èƒ½æ­£å¸¸è¯†åˆ«htmlä¸­çš„jsæ–‡ä»¶äº†ï¼Œåˆ°è¿™é‡Œä¸ºæ­¢ç†è§£webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨åº”è¯¥ä¸æ˜¯å¾ˆéš¾äº†å§ã€‚webpackå°†æ¨¡å—componentAå’ŒcomponentBæ‰“åŒ…ç”Ÿæˆäº†æœ€åçš„main.jsã€‚ webpacké…ç½®æ–‡ä»¶webpackçš„é…ç½®æ–‡ä»¶åé»˜è®¤æ˜¯webpack.config.jsï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚ å¼€å§‹ä¹‹å‰æˆ‘ä»¬å…ˆä¿®æ”¹ä¸€ä¸‹é¡¹ç›®ç›®å½• webpacktest â”œâ”€â”€ index.html â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â”œâ”€â”€ componentA.js â”‚ â”œâ”€â”€ componentB.js â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.js åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶webpack.config.jsï¼š 123456789101112const path = require('path');module.exports = &#123; mode: 'development', // é»˜è®¤ä¸ºproduction entry: &#123; main: './src/index.js' // æ‰“åŒ…å…¥å£æ–‡ä»¶ &#125;, output: &#123; // è¾“å‡ºæ–‡ä»¶é…ç½® filename: 'bundle.js', path: path.resolve(__dirname, 'dist') &#125;&#125; ä¸Šé¢å¼•ç”¨çš„pathæ˜¯nodeä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œ__dirnameè¡¨ç¤ºwebpack.config.jsæ‰€åœ¨çš„ç›®å½•ã€‚ entryå¯ä»¥ç®€å†™ä¸ºentry: â€˜./src/index.jsâ€™ modeä¸­çš„developmentå’Œproductionæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶bundle.jså°±çŸ¥é“äº†ï¼Œproductionæ¨¡å¼ä¸‹çš„ä»£ç æ˜¯ä¸€æ•´è¡Œçš„ï¼Œä½“ç§¯æ›´å°ã€‚è€Œdevelopmentæ¨¡å¼ä¸‹çš„ä»£ç ä¸æ˜¯ä¸€æ•´è¡Œçš„æœ‰åˆ©äºè°ƒè¯•ã€‚ node pathçš„ æ›´å¤š æ‰§è¡Œä¸‹é¢å‘½ä»¤åå³å¯å®Œæˆæ‰“åŒ…ï¼Œæ•ˆæœå’Œä¸Šä¸€èŠ‚ä¸€æ · 1npx webpack å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ 1npx webpack --config è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ å†™è¿‡é¡¹ç›®çš„å°ä¼™ä¼´åº”è¯¥éƒ½å‘ç°å¹³æ—¶éƒ½æ˜¯ä½¿ç”¨npm run xxxæ¥æ‰“åŒ…é¡¹ç›®çš„ï¼Œä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½® ä¿®æ”¹package.jsonæ–‡ä»¶ä¸­çš„script 123\"scripts\": &#123; \"build\": \"webpack\"&#125;, è¿™æ ·å°±å¯ä»¥é€šè¿‡npm run buildæ¥è¿›è¡Œæ‰“åŒ…äº†ï¼Œä¸è¿‡çœ‹è¿‡ç¬¬ä¸€èŠ‚çš„å°ä¼™ä¼´è‚¯å®šæœ‰ç–‘é—®äº†ï¼Œè¿™æ ·é…ç½®ä¼šä¸ä¼šä½¿ç”¨å…¨å±€çš„webpackå»è¿›è¡Œæ‰“åŒ…å‘¢ğŸ™„ï¼Œå…¶å®å¹¶ä¸ä¼šï¼Œè¿™é‡Œnpm scriptå‘½ä»¤ä¼šåœ¨é¡¹ç›®çš„node_modulesæ–‡ä»¶ä¸­å»å¯»æ‰¾webpackå¹¶æ‰§è¡Œã€‚ æ‰“åŒ…å¥½åæˆ‘ä»¬æ‰“å¼€index.htmlçœ‹çœ‹ï¼Œå‘ç°æ˜¯ä¼šæŠ¥é”™çš„ï¼Œè¿™é‡Œæ³¨æ„ï¼šæˆ‘ä»¬è¦æ‰‹åŠ¨æŠŠindex.htmlç§»åŠ¨åˆ°distç›®å½•ä¸‹å¹¶ä¿®æ”¹ä¸€ä¸‹jsè·¯å¾„ï¼Œå› ä¸ºwebpackå¹¶æ²¡æœ‰å°†index.htmlæ‰“åŒ…åˆ°distç›®å½•ä¸‹ã€‚ 1&lt;script src=\"./bundle.js\"&gt;&lt;/script&gt; è¿™ä¸‹å†è¿è¡Œindex.htmlå°±æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ã€‚ğŸ‰ æ–‡ç« æ˜¯çœ‹è¿‡æ…•è¯¾ç½‘çš„è¯¾ç¨‹åè¿›è¡Œçš„æ€»ç»“è¯¾ç¨‹é“¾æ¥","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"reactåšå®¢-egg-jwtå®ç°ç™»å½•ç³»ç»Ÿ","slug":"reactåšå®¢-egg-jwtå®ç°ç™»å½•ç³»ç»Ÿ","date":"2020-05-13T08:11:11.000Z","updated":"2020-05-13T08:11:11.000Z","comments":true,"path":"2020/05/13/reactåšå®¢-egg-jwtå®ç°ç™»å½•ç³»ç»Ÿ/","link":"","permalink":"https://alanwang.site/2020/05/13/react%E5%8D%9A%E5%AE%A2-egg-jwt%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F/","excerpt":"reactåšå®¢ç³»åˆ—æ–‡ç« ","text":"reactåšå®¢ç³»åˆ—æ–‡ç«  ä½•ä¸ºjwtegg-jwtå®‰è£…egg-jwtyarn add egg-jwt é…ç½®egg-jwt é…ç½®config/plugin.jsæ–‡ä»¶ 1234exports.jwt = &#123; enable: true, package: 'egg-jwt',&#125;; é…ç½®config/config.default.jsæ–‡ä»¶ 1234// è‡ªå·±è®¾å®šçš„å¯†é’¥ï¼Œç”¨äºå¯¹ä¿¡æ¯è¿›è¡Œç­¾åconfig.jwt = &#123; secret: 'xxxxxx',&#125;; å®ä¾‹åå°å®ç°ç™»å½•æ“ä½œè¿”å›token è·¯ç”±å±‚ åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸ŠåŠ ä¸Šjwtå³å¯å®ç°å¯¹è¯¥è·¯ç”±çš„é‰´æƒ ä¸‹é¢çš„jwtæ˜¯è‡ªå®šä¹‰çš„ä¸­é—´ä»¶auth.jsï¼Œè¯¥æ–‡ä»¶åœ¨ä¸‹ä¸€éƒ¨åˆ†ä»‹ç» 12345678910111213'use strict';/** * @param &#123;Egg.Application&#125; app - egg application */module.exports = app =&gt; &#123; const &#123; router, controller, middleware, config &#125; = app; const &#123; admin &#125; = controller.admin; const jwt = middleware.auth(config.jwt); router.post('/admin/login', admin.login); // éœ€è¦é‰´æƒçš„è·¯ç”±å†ç¬¬äºŒä¸ªå‚æ•°ä¸ŠåŠ ä¸Šjwt router.get('/admin/get_type_list', jwt, admin.getTypeList);&#125;; controllerå±‚ ä½¿ç”¨jwt.sign(åŠ å¯†æ•°æ®, å¯†é’¥, [options, callback]) æ¥ç”Ÿæˆtoken ç›¸å…³é…ç½®å¯ä»¥æŸ¥çœ‹jsonwebtoken 12345678910111213141516171819async login() &#123; const &#123; app, ctx &#125; = this; const &#123; username, password &#125; = ctx.request.body; const checkValidate = await ctx.service.admin.admin.checkUserValidate(username, password); if (checkValidate) &#123; // å°†ä¿¡æ¯ä½¿ç”¨jwtè¿›è¡Œç­¾ååŠ å¯†ç”Ÿæˆtokenï¼ŒexpiresInï¼ˆtokenæœ‰æ•ˆæ—¶é—´ï¼‰ const token = app.jwt.sign(&#123; username, password &#125;, app.config.jwt.secret, &#123; expiresIn: '2h' &#125;); ctx.body = &#123; code: '0001', msg: 'ç™»å½•æˆåŠŸ', token, &#125;; &#125; else &#123; ctx.body = &#123; code: '0002', msg: 'ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼', &#125;; &#125;&#125; serviceå±‚ 1234async checkUserValidate(username, password) &#123; const isValidate = await this.app.mysql.get('admin', &#123; username, password &#125;); return !!isValidate;&#125; ä½¿ç”¨postmanè¿›è¡Œæµ‹è¯• å°†ç”Ÿæˆçš„tokenè¿”å›ç»™å‰å°åä½¿ç”¨localStorage.setItemæŠŠtokenä¿å­˜åˆ°æœ¬åœ° å‰å°ä¼ é€’tokenè¿›è¡Œé‰´æƒå°è£…axiosæ–°å»ºaxiosæ–‡ä»¶å¯¹axioè¿›è¡Œå°è£…ï¼Œé€šè¿‡axiosçš„æ‹¦æˆªå™¨æ¥å®ç°æ¯æ¬¡è¯·æ±‚æ—¶è‡ªåŠ¨åœ¨headersä¸Šæºå¸¦tokenæ•°æ®åˆ°åå°ï¼Œåå°ä½¿ç”¨jwt.verifyæ¥æ£€éªŒtokençš„æ­£ç¡®æ€§ axios.js 12345678910111213141516171819import axios from 'axios';axios.interceptors.request.use(config =&gt; &#123; // ç™»å½•æˆåŠŸåä¿å­˜åœ¨æœ¬åœ°çš„token const token = localStorage.getItem('token'); config.headers.Authorization = `Bearer $&#123;token&#125;`; return config;&#125;);axios.interceptors.response.use(response =&gt; &#123; // codeæ˜¯åå°æ¥å£è®¾ç½®çš„ const &#123; code &#125; = response.data; if (code === '0003' || code === '0004') &#123; window.location.href = '/login'; &#125; return response;&#125;);export default axios; å°è£…å¥½åï¼Œä¹‹åéƒ½ä½¿ç”¨è¯¥å°è£…å¥½åçš„axiosè¿›è¡Œè¯·æ±‚ã€‚ åå°æ ¡éªŒå¤„ç†auth.js 1234567891011121314151617181920212223242526272829303132'use strict';module.exports = options =&gt; &#123; return async function auth(ctx, next) &#123; // è·å–å‰å°é€šè¿‡axioså°è£…åç©¿è¿‡æ¥çš„token const token = ctx.header.authorization; if (token) &#123; try &#123; // éªŒè¯å¹¶å¯¹tokenè¿›è¡Œè§£ç  const decode = ctx.app.jwt.verify(token.split(' ')[1], options.secret); console.log(decode); await next(); &#125; catch (error) &#123; console.log(error.name); if (error.name === 'JsonWebTokenError' || error.name === 'TokenExpiredError') &#123; // è¿™é‡Œçš„é”™è¯¯æœ‰è®¸å¤šç§æƒ…å†µï¼š1.tokené”™è¯¯ï¼Œ2.tokenè¿‡æœŸ... è¿™é‡Œç»Ÿä¸€å¤„ç†ä¸ºé‰´æƒå¤±è´¥ ctx.body = &#123; code: '0003', msg: 'ç”¨æˆ·é‰´æƒå¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•', &#125;; &#125; else &#123; throw error; &#125; &#125; &#125; else &#123; ctx.body = &#123; code: '0004', msg: 'æ‚¨æ²¡æœ‰ç™»å½•ï¼Œè¯·å…ˆç™»å½•', &#125;; &#125; &#125;;&#125;; åå°é€šè¿‡/middleware/auth.jsä¸­é—´ä»¶æ¥å®ç°ç»™éœ€è¦é‰´æƒçš„æ¥å£è¿›è¡Œé‰´æƒï¼Œé€šè¿‡å¯¹å‰å°ä¼ è¿‡æ¥çš„tokenæ•°æ®è¿›è¡ŒéªŒè¯jwt.verifyæ¥è¯†åˆ«ç™»å½•çŠ¶æ€ã€‚å¯¹JsonWebTokenErroré”™è¯¯ç»Ÿä¸€å¤„ç†ï¼Œåº”ä¸ºauth.jsä½œä¸ºä¸­é—´ä»¶ï¼Œæ‰€ä»¥æ¥å£ä¸­å‡ºç°çš„å…¶ä»–é”™è¯¯ä¹Ÿä¼šåœ¨è¿™é‡Œè¢«catchåˆ°ï¼Œå¯¹äºä¸æ˜¯JsonWebTokenErrorçš„é”™è¯¯ï¼Œç›´æ¥æŠŠé”™è¯¯æŠ›å‡ºå»ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"ReactHook","slug":"ReactHook","permalink":"https://alanwang.site/tags/ReactHook/"},{"name":"jwt","slug":"jwt","permalink":"https://alanwang.site/tags/jwt/"}]},{"title":"reactåšå®¢-é¡¹ç›®éƒ¨ç½²","slug":"reactåšå®¢-é¡¹ç›®éƒ¨ç½²","date":"2020-05-13T07:51:16.000Z","updated":"2020-05-13T07:51:16.000Z","comments":true,"path":"2020/05/13/reactåšå®¢-é¡¹ç›®éƒ¨ç½²/","link":"","permalink":"https://alanwang.site/2020/05/13/react%E5%8D%9A%E5%AE%A2-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/","excerpt":"é˜¿é‡Œäº‘æœ€è¿‘æ¨å‡ºäº†ä¸€ä¸ªâ€œåœ¨å®¶å®è·µæ´»åŠ¨â€ï¼Œå…è´¹é¢†å–åŠå¹´çš„æœåŠ¡å™¨ï¼ŒçœŸé¦™ã€‚é¢†å–åœ°å€","text":"é˜¿é‡Œäº‘æœ€è¿‘æ¨å‡ºäº†ä¸€ä¸ªâ€œåœ¨å®¶å®è·µæ´»åŠ¨â€ï¼Œå…è´¹é¢†å–åŠå¹´çš„æœåŠ¡å™¨ï¼ŒçœŸé¦™ã€‚é¢†å–åœ°å€ è´­ä¹°é˜¿é‡Œäº‘æœåŠ¡å™¨è´­ä¹°å®Œæˆåä¼šå¾—åˆ°ä¸€ä¸ªå…¬ç½‘ip ä¸‹è½½è½¯ä»¶puttyæ¥è¿æ¥æˆ‘ä»¬åˆšæ‰è´­ä¹°çš„æœåŠ¡å™¨ï¼Œåªéœ€è¾“å…¥å…¬ç½‘ipç‚¹å‡»openå³å¯ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ç”¨æˆ·årootå’Œå¯†ç å¾—åˆ°Welcome to Alibaba Cloud Elastic Compute Service !å³å®Œæˆäº†è¿æ¥ã€‚ ä½¿ç”¨å®å¡”è¿›è¡Œç®¡ç†https://www.bt.cn/bbs/thread-19376-1-1.html è¿æ¥æˆåŠŸæœåŠ¡å™¨ååœ¨å‘½ä»¤è¡Œè¾“å…¥(Centosç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»ŸæŸ¥çœ‹ä¸Šé¢ç½‘å€)ï¼Œå¤åˆ¶æŒ‰ä¸‹é¼ æ ‡å³é”®å®Œæˆå®å¡”çš„å®‰è£… 1yum install -y wget &amp;&amp; wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; sh install.sh å®‰è£…æˆåŠŸåä¼šè¿”å›ä¸€ä¸ªç«¯å£å·ä¸º8888çš„ç½‘ç«™ä»¥åŠè´¦å·å’Œå¯†ç ï¼š è®¿é—®è¯¥åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™ç½‘ç«™æ—¶ä¸èƒ½è®¿é—®çš„ï¼Œå› ä¸ºè¿œç¨‹æœåŠ¡å™¨æ²¡æœ‰å¼€æ”¾8888ç«¯å£ã€‚ è®¾ç½®æ•™ç¨‹ï¼š https://www.bt.cn/bbs/thread-2897-1-1.html ç™»å½•æˆåŠŸåå®‰è£…mysqlå’Œnginxï¼ˆä¹‹åå‡ ä¹æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨å®å¡”ä¸Šè¿›è¡Œï¼‰ éœ€è¦å®‰è£…è½¯ä»¶ phpç¯å¢ƒï¼ˆç”¨äºphpmyadminï¼‰ phpMyAdminï¼ˆç”¨äºç®¡ç†mysqlæ•°æ®åº“ï¼‰ PM2ï¼ˆè‡ªå¸¦nodeç¯å¢ƒï¼‰ nginx å¼€æ”¾80(http)ç«¯å£è®¿é—®æœåŠ¡å™¨åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†æ§åˆ¶å°å®‰å…¨ç»„ä¸­è®¾ç½® è®¾ç½®åå°±å¯ä»¥é€šè¿‡å…¬ç½‘ipè®¿é—®æœåŠ¡å™¨äº† éƒ¨ç½²é¡¹ç›®åˆ‡æ¢é•œåƒæºå®‰è£…nrmï¼ˆç”¨æ¥ç®¡ç†npmé•œåƒæºçš„å·¥å…·ï¼‰npm install -g nrm å¸¸ç”¨å‘½ä»¤ nrm ls æŸ¥çœ‹æ‰€æœ‰æºåœ°å€ nrm use taobao åˆ‡æ¢ä¸ºæ·˜å®é•œåƒæº nrm add [name] [url] æ·»åŠ æºåœ°å€ é€šè¿‡gitå…‹éš†ä»£ç åˆ°æœåŠ¡å™¨æŠŠä»£ç cloneåˆ°æœåŠ¡å™¨ æ‰“åŒ…é¡¹ç›®å¹¶ä¸”éƒ¨ç½² éƒ¨ç½²å‰å°é¡µé¢ï¼ˆnext.jsï¼‰ yarn build yarn start æˆ–è€…ç”¨PM2è¿›è¡Œè¿›ç¨‹å®ˆæŠ¤ï¼ˆå¾…ç ”ç©¶ï¼‰ éƒ¨ç½²åå°æ¥å£ï¼ˆegg.jsï¼‰ npm start éƒ¨ç½²åå°ç®¡ç†ç³»ç»Ÿ ç›´æ¥npm buildç„¶åä½¿ç”¨nginxè¿›è¡Œä»£ç† å¯¼å…¥mysqlæ•°æ®å‡ºé”™åœ¨å¯¼å…¥æœ¬åœ°mysqlæ–‡ä»¶æ—¶é‡åˆ°äº†ä¸€äº›é”™è¯¯ï¼Œå‚è€ƒæ–‡ç« ï¼š https://www.jianshu.com/p/788dceb93eff LinuxæŸ¥çœ‹ç«¯å£å·å ç”¨æƒ…å†µä»¥åŠæ€è¿›ç¨‹å‘½ä»¤ netstart -anpï¼ˆæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µï¼‰ lsof -i:8080ï¼ˆæŸ¥çœ‹8080ç«¯å£å ç”¨æƒ…å†µï¼‰ kill -9 1234ï¼ˆæ€PID=1234è¿›ç¨‹ï¼‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"https://alanwang.site/tags/%E9%83%A8%E7%BD%B2/"},{"name":"é˜¿é‡Œäº‘","slug":"é˜¿é‡Œäº‘","permalink":"https://alanwang.site/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"}]},{"title":"æµ‹è¯•ä¸»é¢˜","slug":"test1","date":"2020-05-13T01:19:17.000Z","updated":"2020-05-13T07:19:17.000Z","comments":true,"path":"2020/05/13/test1/","link":"","permalink":"https://alanwang.site/2020/05/13/test1/","excerpt":"è¿™é‡Œæ˜¯æ‘˜è¦","text":"è¿™é‡Œæ˜¯æ‘˜è¦ è¿™é‡Œæ˜¯æ­£æ–‡ 123456789101112131415161718192021222324252627title: æµ‹è¯•ä¸»é¢˜date: 2020-05-13 09:19:17top: truecategories: æµ‹è¯•åˆ†ç±»tags: æµ‹è¯•æ ‡ç­¾author: name: æµ‹è¯•ä½œè€… avatar: https:&#x2F;&#x2F;gitee.com&#x2F;alannum3&#x2F;MyImages&#x2F;raw&#x2F;master&#x2F;img&#x2F;20200508165134.pngmusic:# æ–‡ç« éŸ³ä¹ server: netease # netease, tencent, kugou, xiami, baidu type: song # song, playlist, album, search, artist id: 16846091 thumbnail:# æ–‡ç« ç¼©ç•¥å›¾https:&#x2F;&#x2F;gitee.com&#x2F;alannum3&#x2F;MyImages&#x2F;raw&#x2F;master&#x2F;img&#x2F;20200508165134.png# å½’æ¡£é¡µé¢å¯¹åº”æ–‡ç« å›¾æ ‡icons: [fas fa-fire red, fas fa-star green]meta:# æ–‡ç« åº•éƒ¨æŒ‰é’® footer: [btns]btns: repo: https:&#x2F;&#x2F;github.com&#x2F;xaoxuu&#x2F;hexo-theme-volantis bug: https:&#x2F;&#x2F;github.com&#x2F;xaoxuu&#x2F;hexo-theme-volantis&#x2F;issues&#x2F; doubt: https:&#x2F;&#x2F;github.com&#x2F;xaoxuu&#x2F;hexo-theme-volantis&#x2F;issues&#x2F; idea: https:&#x2F;&#x2F;github.com&#x2F;xaoxuu&#x2F;hexo-theme-volantis&#x2F;issues&#x2F;cover: false #æ˜¯å¦æ˜¾ç¤ºå°é¢å›¾ h1h2h31ä»£ç å— tab1tab2è¿™é‡Œé¢å†™å†…å®¹ï¼Œæ”¯æŒçš„è¯­æ³•æ ¼å¼æœ‰é™ï¼Œè¯·å°½é‡ä¸è¦å†™å¤ªè¿‡å¤æ‚çš„ä¸œè¥¿ã€‚","categories":[{"name":"æµ‹è¯•åˆ†ç±»","slug":"æµ‹è¯•åˆ†ç±»","permalink":"https://alanwang.site/categories/%E6%B5%8B%E8%AF%95%E5%88%86%E7%B1%BB/"}],"tags":[{"name":"æµ‹è¯•æ ‡ç­¾","slug":"æµ‹è¯•æ ‡ç­¾","permalink":"https://alanwang.site/tags/%E6%B5%8B%E8%AF%95%E6%A0%87%E7%AD%BE/"}],"author":{"name":"æµ‹è¯•ä½œè€…","avatar":"https://gitee.com/alannum3/MyImages/raw/master/img/20200508165134.png"}},{"title":"Typora+PicGo+Giteeï¼ˆä¹¦å†™åšå®¢ç¥å™¨ï¼‰","slug":"Typora-PicGo-Giteeï¼ˆä¹¦å†™åšå®¢ç¥å™¨ï¼‰","date":"2020-05-12T13:06:52.000Z","updated":"2020-05-15T12:49:17.000Z","comments":true,"path":"2020/05/12/Typora-PicGo-Giteeï¼ˆä¹¦å†™åšå®¢ç¥å™¨ï¼‰/","link":"","permalink":"https://alanwang.site/2020/05/12/Typora-PicGo-Gitee%EF%BC%88%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2%E7%A5%9E%E5%99%A8%EF%BC%89/","excerpt":"å†™åšå®¢ï¼Œéš¾å…ä¼šéšæ‰‹æˆªå›¾æ¥è§£é‡Šåšå®¢ä¸­çš„ä¸€äº›çŸ¥è¯†ç‚¹æˆ–è€…å†…å®¹ã€‚å½“é«˜é«˜å…´å…´åœ°åœ¨æœ¬åœ°ç”µè„‘å†™å®Œåšå®¢åå°†å®ƒä¸Šä¼ ä¹‹åå‘ç°æ‰€æœ‰å›¾ç‰‡éƒ½æµè§ˆä¸äº†äº†ï¼Œè¿™å…¶å®å°±æ˜¯å› ä¸ºå›¾ç‰‡éƒ½ä¿å­˜åœ¨æœ¬åœ°äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»é•¿è¿œå’Œè´¢åŠ›æ¥è€ƒè™‘ï¼Œæˆ‘ä½¿ç”¨äº†giteeæ­é…å¼€æºé¡¹ç›®PicGoæ¥åšå›¾åºŠç”Ÿæˆåœ¨çº¿å›¾ç‰‡é“¾æ¥ï¼Œè¿™æ ·æ— è®ºåœ¨å“ªéƒ½èƒ½ç•…é€šæŸ¥çœ‹å›¾ç‰‡äº†ã€‚è€Œä¸ä½¿ç”¨githubä¸»è¦æ˜¯å›½å†…è®¿é—®é€Ÿåº¦æ˜¯éå¸¸åœ°æ…¢ã€‚","text":"å†™åšå®¢ï¼Œéš¾å…ä¼šéšæ‰‹æˆªå›¾æ¥è§£é‡Šåšå®¢ä¸­çš„ä¸€äº›çŸ¥è¯†ç‚¹æˆ–è€…å†…å®¹ã€‚å½“é«˜é«˜å…´å…´åœ°åœ¨æœ¬åœ°ç”µè„‘å†™å®Œåšå®¢åå°†å®ƒä¸Šä¼ ä¹‹åå‘ç°æ‰€æœ‰å›¾ç‰‡éƒ½æµè§ˆä¸äº†äº†ï¼Œè¿™å…¶å®å°±æ˜¯å› ä¸ºå›¾ç‰‡éƒ½ä¿å­˜åœ¨æœ¬åœ°äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»é•¿è¿œå’Œè´¢åŠ›æ¥è€ƒè™‘ï¼Œæˆ‘ä½¿ç”¨äº†giteeæ­é…å¼€æºé¡¹ç›®PicGoæ¥åšå›¾åºŠç”Ÿæˆåœ¨çº¿å›¾ç‰‡é“¾æ¥ï¼Œè¿™æ ·æ— è®ºåœ¨å“ªéƒ½èƒ½ç•…é€šæŸ¥çœ‹å›¾ç‰‡äº†ã€‚è€Œä¸ä½¿ç”¨githubä¸»è¦æ˜¯å›½å†…è®¿é—®é€Ÿåº¦æ˜¯éå¸¸åœ°æ…¢ã€‚ å‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/disILLL/article/details/104944710 å¼€æè½¯ä»¶ç‰ˆæœ¬ typora 0.9.86 PicGo 2.2.2 åˆ›å»ºgiteeä»“åº“åœ¨giteeè´¦æˆ·ä¸­åˆ›å»ºä¸€ä¸ªå…¬å¼€çš„ä»“åº“ç”¨æ¥ä¿å­˜å›¾ç‰‡ PicGoé…ç½®è¿™è¾¹å®‰è£…æœ‰ä¸€ä¸ªå·¨å‘ï¼Œä¸è¦å®‰è£…å†Programe Filesç›®å½•ä¸‹é¢ï¼Œåˆ‡è®° å®‰è£…gitee-uploaderæ’ä»¶ å®‰è£…å®Œåé…ç½®gitee tokenåœ¨è‡ªå·±çš„giteeä¸­åˆ›å»º ç‚¹å‡»commitç”Ÿæˆtokenï¼Œå°†tokenå¡«å…¥PicGoä¸­ç‚¹å‡»ç¡®å®šå³å¯ã€‚ æ£€æŸ¥ä¸€ä¸‹ç«¯å£å·æ˜¯ä¸æ˜¯36677ï¼Œè¿™æ˜¯æˆ‘è¸©è¿‡çš„ä¸€ä¸ªå‘ é…ç½®Typoraå®ç°æ’å…¥å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ æ–°ç‰ˆæœ¬çš„Typoraå·²ç»æ”¯æŒå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼ˆæ–‡ä»¶-&gt;åå¥½è®¾ç½®ï¼‰ï¼š æµ‹è¯•å¯ä»¥çœ‹åˆ°è¿™é‡Œå›¾ç‰‡çš„é“¾æ¥æ˜¯ä¹‹å‰åœ¨giteeä¸­åˆ›å»ºçš„ç”¨æ¥ä¿å­˜å›¾ç‰‡çš„Repositoryçš„åœ°å€äº† å“ˆå“ˆï¼ŒæˆåŠŸäº†ï¼Œè¿™æ ·æ•ˆç‡å°±æé«˜äº†è®¸å¤šäº†ã€‚","categories":[{"name":"æ•ˆç‡å·¥å…·","slug":"æ•ˆç‡å·¥å…·","permalink":"https://alanwang.site/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"Typora","slug":"Typora","permalink":"https://alanwang.site/tags/Typora/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://alanwang.site/tags/%E5%B7%A5%E5%85%B7/"}]}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"},{"name":"æµ‹è¯•åˆ†ç±»","slug":"æµ‹è¯•åˆ†ç±»","permalink":"https://alanwang.site/categories/%E6%B5%8B%E8%AF%95%E5%88%86%E7%B1%BB/"},{"name":"æ•ˆç‡å·¥å…·","slug":"æ•ˆç‡å·¥å…·","permalink":"https://alanwang.site/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"ReactHook","slug":"ReactHook","permalink":"https://alanwang.site/tags/ReactHook/"},{"name":"jwt","slug":"jwt","permalink":"https://alanwang.site/tags/jwt/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"https://alanwang.site/tags/%E9%83%A8%E7%BD%B2/"},{"name":"é˜¿é‡Œäº‘","slug":"é˜¿é‡Œäº‘","permalink":"https://alanwang.site/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"},{"name":"æµ‹è¯•æ ‡ç­¾","slug":"æµ‹è¯•æ ‡ç­¾","permalink":"https://alanwang.site/tags/%E6%B5%8B%E8%AF%95%E6%A0%87%E7%AD%BE/"},{"name":"Typora","slug":"Typora","permalink":"https://alanwang.site/tags/Typora/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://alanwang.site/tags/%E5%B7%A5%E5%85%B7/"}]}