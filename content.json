{"meta":{"title":"Alan|å‰ç«¯åšå®¢","subtitle":"","description":"ä¸€ä¸ªä¸“æ³¨äºå‰ç«¯å¼€å‘çš„å°ç™½ï¼Œåˆ†äº«å‰ç«¯å¼€å‘çŸ¥è¯†","author":"Alan","url":"https://alanwang.site","root":"/"},"pages":[{"title":"404 Not Found","date":"2020-05-13T09:03:12.444Z","updated":"2020-05-13T09:03:12.444Z","comments":true,"path":"404.html","permalink":"https://alanwang.site/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"å…³äºæˆ‘","date":"2020-05-14T12:42:42.500Z","updated":"2020-05-14T12:42:42.500Z","comments":true,"path":"about/index.html","permalink":"https://alanwang.site/about/index.html","excerpt":"","text":"Alan å¾…å®Œå–„"},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2020-06-13T13:12:12.894Z","updated":"2020-06-13T13:12:12.894Z","comments":true,"path":"friends/index.html","permalink":"https://alanwang.site/friends/index.html","excerpt":"","text":"è¦æ·»åŠ å‹é“¾çš„æœ‹å‹æŒ‰ç…§ä¸‹é¢æ ¼å¼ç»™æˆ‘ç•™è¨€ğŸ˜˜ items: - name: # åšå®¢å å¿…å¡« avatar: # å¤´åƒé“¾æ¥ å¿…å¡« url: # åšå®¢é“¾æ¥ å¿…å¡« backgroundColor: &#39;#3E74C9&#39; # å¡ç‰‡èƒŒæ™¯é¢œè‰² textColor: &#39;#fff&#39; # å¡ç‰‡æ–‡å­—é¢œè‰² tags: [æ ‡ç­¾1, æ ‡ç­¾2] # æ ‡ç­¾ desc: æè¿°æ–‡å­—"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-05-14T12:46:25.030Z","updated":"2020-05-14T12:46:25.030Z","comments":true,"path":"categories/index.html","permalink":"https://alanwang.site/categories/index.html","excerpt":"","text":""},{"title":"","date":"2020-05-14T13:02:13.019Z","updated":"2020-05-14T13:02:13.019Z","comments":true,"path":"list/index.html","permalink":"https://alanwang.site/list/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2020-05-14T12:58:35.975Z","updated":"2020-05-14T12:58:35.975Z","comments":true,"path":"tags/index.html","permalink":"https://alanwang.site/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Reactå…¥é—¨å­¦ä¹ æ€»ç»“","slug":"Reactå…¥é—¨å­¦ä¹ æ€»ç»“","date":"2020-06-27T06:12:56.000Z","updated":"2020-06-27T06:12:56.000Z","comments":true,"path":"posts/c05e5480/","link":"","permalink":"https://alanwang.site/posts/c05e5480/","excerpt":"æ€»ç»“å­¦ä¹ Reactä»¥åŠç›¸å…³æ’ä»¶æ—¶é‡åˆ°çš„éš¾ç‚¹ä»¥åŠé‡ç‚¹","text":"æ€»ç»“å­¦ä¹ Reactä»¥åŠç›¸å…³æ’ä»¶æ—¶é‡åˆ°çš„éš¾ç‚¹ä»¥åŠé‡ç‚¹ çŸ¥è¯†ç‚¹ å•å‘æ•°æ®æµï¼ˆå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®ï¼‰ ç»„ä»¶åé¦–å­—æ¯å¤§å†™ å¯ä»¥ä½¿ç”¨&lt;React.Fragment&gt;&lt;/ React.Fragment&gt;å’Œ&lt;&gt;&lt;/&gt;åŒ…è£¹æ ‡ç­¾ å…³é”®å­— class-&gt;className &lt;label for=&quot;idå&quot;&gt;&lt;/lable&gt;-&gt;&lt;label htmlFor=&quot;idå&quot;&gt;&lt;/lable&gt;ç”¨æ¥æ‰©å¤§ç‚¹å‡»èŒƒå›´ ä¸è¦ç›´æ¥ä¿®æ”¹stateè¦ä½¿ç”¨this.setState() thisæŒ‡å‘é—®é¢˜ // åœ¨constructorä½¿ç”¨bindï¼Œæ— æ³•ä¼ å‚æ•° this.handlerClick = this.handlerClick.bind(this); // è°ƒç”¨æ—¶ä½¿ç”¨bindï¼Œå¯¹æ€§èƒ½ä¼˜åŒ–ä¸å‹å¥½,å› ä¸ºæ¯æ¬¡render()æ—¶éƒ½è¦é‡æ–°bind onChange={this.handlerClick.bind(this,num)} // ä½¿ç”¨ç®­å¤´å‡½æ•° onChange={e =&gt; this.handlerClick(num)} // å£°æ˜ä¸ºç®­å¤´å‡½æ•°,æ— æ³•ä¼ å‚ handlerClick = (num) =&gt; { }; å¾ªç¯æ¸²æŸ“åŠ keyï¼Œä¸è¦ä½¿ç”¨indexä½œä¸ºkeyå€¼ã€‚ æ³¨é‡Šå†™æ³•{/**/} dangerouslySetInnerHTML={{__html: item(éœ€è¦å±•ç¤ºçš„æ•°æ®)}}ä¸è½¬ä¹‰htmlæ ‡ç­¾ setState()ç¬¬äºŒä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•° ä¸€æ—¦stateã€propså˜åŒ–ï¼Œrender()å°±ä¼šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦çˆ¶ç»„ä»¶stateå˜åŒ–æ—¶ï¼Œrender()ä¼šæ‰§è¡Œæ‰€ä»¥å…¶çˆ¶ç»„ä»¶çš„ä¸­çš„å­ç»„ä»¶ä¹Ÿä¼šå†render()ä¸€éã€‚ åŠ¨ç”»ç»„ä»¶react-transition-group å½“ç»„ä»¶ä¸­åªæœ‰render()æ—¶ï¼Œå¯ä»¥æŠŠå®ƒå£°æ˜æˆä¸€ä¸ªæ— çŠ¶æ€ç»„ä»¶ï¼Œå¯ä»¥æå‡æ€§èƒ½ refç”¨æ¥è·å–domå…ƒç´ ï¼Œref={(element) =&gt; {}}elementä¸ºè¯¥å…ƒç´  ç»„ä»¶é€šä¿¡çˆ¶-&gt;å­é€šè¿‡å±æ€§ä¼ é€’ï¼Œå­ç»„ä»¶é€šè¿‡this.propsæ¥å—ï¼Œçˆ¶ç»„ä»¶å€¼çš„æ”¹å˜ä¼šç›´æ¥å½±å“åˆ°å­ç»„ä»¶ã€‚ çˆ¶ç»„ä»¶ // çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶ const name = &#39;Alan&#39; &lt;Child name={name} /&gt; å­ç»„ä»¶ &lt;div&gt;{this.props.name}&lt;/div&gt; å­-&gt;çˆ¶äº²çˆ¶ç»„ä»¶å°†è‡ªå·±æ–¹æ³•ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡æ·»åŠ äº‹ä»¶æ¥è°ƒç”¨è¯¥æ–¹æ³•ã€‚è¿™æ ·å°±å¯ä»¥è¾¾åˆ°å­ç»„ä»¶ä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®çš„ç›®çš„ï¼ŒåŒæ—¶å¯ä»¥å°†å­ç»„ä»¶çš„æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚ çˆ¶ç»„ä»¶ this.state = { list: [1,2,3] } &lt;Child handlerEvent={this.deleteItem.bind(this)} /&gt; // æ–¹æ³• deleteItem(index) { const list = [...this.state.list]; list.splice(index,1); this.setState({ list, }); } å­ç»„ä»¶ &lt;button onClick = {() =&gt; this.props.handlerEvent(1)}&gt;&lt;/button&gt; propså‚æ•°æ ¡éªŒåŠé»˜è®¤å€¼å…·ä½“å‚æ•° import PropTypes from &#39;prop-types&#39;; // å‚æ•°æ ¡éªŒ // Childä¸ºç»„ä»¶å // å®šä¹‰this.props.contentä¸ºstringç±»å‹å¹¶ä¸”ä¸ºå¿…é¡»å‚æ•° Child.propTypes = { content: PropTypes.string.isRequired, }; // å‚æ•°é»˜è®¤å€¼ Child.defaultProps = { mobile: &#39;none&#39;, }; å¼‚æ­¥ç»„ä»¶åŠ è½½æ’ä»¶react-loadableä½¿ç”¨æ–¹å¼ import React, { Component } from &#39;react&#39;; import Loadable from &#39;react-loadable&#39;; const LoadableComponent = Loadable({ // éœ€è¦å¼‚æ­¥å¼•å…¥çš„ç»„ä»¶ loader: () =&gt; import(&#39;./index&#39;), loading() { // åŠ è½½æ—¶è¿›è¡Œçš„æ“ä½œï¼Œè¿™é‡Œæ˜¾ç¤ºloadingæå‡ç”¨æˆ·ä½“éªŒ return &lt;div&gt;loading...&lt;/div&gt;; }, }); export default class App extends Component { render() { return &lt;LoadableComponent /&gt;; } } è™šæ‹ŸDOMä½•ä¸ºè™šæ‹ŸDOM ä½¿ç”¨JSå¯¹è±¡æ¥æè¿°çœŸå®DOMï¼Œè™šæ‹ŸDOMï¼ˆJSå¯¹è±¡ï¼‰çš„æ“ä½œæ€§èƒ½è¦è¿œè¿œä¼˜äºçœŸå®DOMæ“ä½œæ€§èƒ½ã€‚ é€šè¿‡React.createElement(type, [props], [...children])æ¥ç”Ÿæˆè™šæ‹ŸDOM ä¼˜ç‚¹ï¼š DOMæ“ä½œå¾ˆè€—æ€§èƒ½ï¼Œè™šæ‹ŸDOMæ“ä½œæ€§èƒ½å¥½ æ— éœ€æ›¿æ¢å…¨éƒ¨DOMï¼Œé€šè¿‡diffç®—æ³•æ¯”å¯¹æ›¿æ¢å±€éƒ¨æ”¹å˜çš„DOM ç”±äºä½¿ç”¨äº†è™šæ‹ŸDOMï¼Œæœ‰åˆ©äºåŸç”Ÿåº”ç”¨çš„å¼€å‘ï¼ˆRNï¼‰ï¼Œå› ä¸ºDOMæ˜¯å­˜åœ¨äºæµè§ˆå™¨ä¸­çš„ã€‚ å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œreactå°†å¤šæ¬¡setState(å¼‚æ­¥å‡½æ•°)åˆå¹¶æˆä¸€æ¬¡setStateï¼Œå› ä¸ºsetStateä¼šå¯¼è‡´è™šæ‹ŸDOMè¿›è¡Œdiffå¯¹æ¯”ã€‚ åŒå±‚æ¯”å¯¹ diffç®—æ³• ç”Ÿå‘½å‘¨æœŸ mounting componentWillMount()/UNSAFE_componentWillMount() render() componentDidMount()åº”ç”¨åœºæ™¯ï¼šå‘é€è¯·æ±‚ updation(props/stateå‘ç”Ÿå˜åŒ–) componentWillReceiveProps()å°†åºŸé™¤ shouldComponentUpdate(): booleanæ›´æ–°ä¹‹å‰ï¼Œè¿”å›trueæ—¶æ‰ä¼šæ›´æ–° render() componentDidUpdate() unmounting componentWillUnmount() æ€§èƒ½ä¼˜åŒ– // åªæœ‰å½“å­ç»„ä»¶æ•°æ®å˜åŒ–æ—¶æ‰å»æ‰§è¡Œrender() shouldComponentUpdate(nextProps, nextState) { return nextProps.content !== this.props.content; // é˜²æ­¢æ›´æ–°å½±å“æ€§èƒ½ } ä¹Ÿå¯ä»¥ä½¿ç”¨ç»„ä»¶å»ç»§æ‰¿React.PureComponentä»¥è¾¾åˆ°å’Œä¸Šé¢ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯åº”è¯¥å‡å°‘ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚é—®é¢˜ å¯ä»¥ä½¿ç”¨Charleså®ç°æ¥å£mockã€‚localhost-&gt;æœ¬åœ°æ–‡ä»¶.json Redux æ€è·¯ï¼š ç»„ä»¶é€šè¿‡dispatch(action)æ¥é€šçŸ¥storeï¼Œstoreæ ¹æ®actionæ¥è°ƒç”¨å¯¹åº”çš„reducersæ¥æ“ä½œstoreå‰¯æœ¬ï¼Œreducerså°†å¤„ç†å¥½çš„æ•°æ®è¿”å›ç»™storeã€‚ storeå’Œç»„ä»¶ä¹‹é—´é€šè¿‡ï¼Œstore.subscribe(this.setState(store.getState()))æ¥åŒæ­¥æœ€æ–°çš„storeæ•°æ®ã€‚ åˆ›å»ºstore(createStore()) import { createStore } from &quot;redux&quot;; import reducer from &quot;./reducer&quot;; // ç¬¬äºŒä¸ªå‚æ•°é…ç½®åå¯ä»¥ä½¿ç”¨è°·æ­Œreduxæ’ä»¶ const store = createStore( reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__() ); export default store; åˆ›å»ºreducerï¼ˆç®¡ç†æ“ä½œæ•°æ®storeå‰¯æœ¬ï¼‰ const defaultState = { todoText: &#39;&#39; }; export default (state = defaultState, action) =&gt; { if (action.type === &#39;actionçš„type&#39;) { let newState = JSON.parse(JSON.stringify(state)); // æ›´æ–°store newState.todoText = action.value; return newState; } return state; } å¯ä»¥é€šè¿‡store.getState()æ¥è·å–storeä¸­çš„æ•°æ®ï¼Œç»™ç»„ä»¶èµ‹åˆå€¼ this.state = store.getState(); åˆ›å»ºaction const action = { type: &#39;&#39;, value: &#39;&#39; // è¦æ”¹å˜çš„å€¼ } é€šè¿‡store.dispatch(action)é€šçŸ¥storeï¼Œreducerå°†æ¥æ”¶åˆ°ä¿®æ”¹ä¹‹å‰çš„storeå’Œaction reduceræ›´æ–°storeçš„å‰¯æœ¬ï¼Œå°†æ–°storeè¿”å›ç»™store ä½¿ç”¨storeçš„ç»„ä»¶ä¸­é€šè¿‡store.subscribe(this.setState(store.getState()))è®¢é˜…storeæ¥åŒæ­¥æœ€æ–°çš„store ä¸ºäº†æé«˜ä»£ç å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼ŒæŠŠactionå•ç‹¬å£°æ˜ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠaction.typeå£°æ˜ä¸ºä¸€ä¸ªå¸¸é‡æ–‡ä»¶ã€‚ store â”œâ”€â”€ actionCreators.js â”œâ”€â”€ actionType.js â”œâ”€â”€ index.js â””â”€â”€ reducer.jsindex.jsactionCreators.jsreducer.jsactionType.jsimport { createStore } from 'redux'; import reducer from './reducer'; const store = createStore( reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__() ); export default store;import { INPUT_CHANGE } from './actionType'; export const changeInputAction = (value) =&gt; ({ type: INPUT_CHANGE, value, });import { INPUT_CHANGE } from './actionType'; const defaultState = { todoText: '', }; export default (state = defaultState, action) =&gt; { if (action.type === INPUT_CHANGE) { let newState = JSON.parse(JSON.stringify(state)); newState.todoText = action.value; return newState; } return state; }export const INPUT_CHANGE = 'inputChange'; reducerså‡½æ•°çš„è¿”å›å€¼è¦å¯é¢„æµ‹ï¼Œä¹Ÿå°±æ˜¯è¯´é‡Œé¢ä¸èƒ½å†™ç±»ä¼¼new Date reducersä¸èƒ½ä¿®æ”¹åŸæ¥çš„stateï¼Œåªèƒ½è¿”å›ä¸€ä¸ªæ–°çš„stateï¼Œä¸ºäº†é˜²æ­¢è¢«è¯¯æ”¹é€ æˆbugï¼Œå¯ä»¥ä½¿ç”¨immutable.jsæ¥è§£å†³ npm i immutable redux-immutable -S immutableå¯¹è±¡é€šè¿‡get()å’Œset()ç­‰apiæ¥æ“ä½œæ•°æ®ï¼Œå½“æœ‰å¤šä¸ªset()è¿ç”¨æ—¶å¯ä»¥ä½¿ç”¨merge({})æ¥å®ç° immutableé€šè¿‡fromJSå¯ä»¥å°†stateè½¬åŒ–æˆimmutableå¯¹è±¡ï¼Œé€šè¿‡toJS()å°†immutableå¯¹è±¡è½¬åŒ–æˆjså¯¹è±¡ redux-immutableä¹Ÿæä¾›äº†combineReducersï¼Œç»“åˆä¸åŒæ¨¡å—çš„reducersçš„åŒæ—¶è¿˜å¯ä»¥å°†stateè½¬åŒ–æˆimmutableå¯¹è±¡ã€‚ å½“é¡¹ç›®è¶Šæ¥è¶Šå¤§æ—¶ï¼Œé¡¹ç›®ä¸­çš„reducer.jsæ–‡ä»¶ä¹Ÿä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡reduxæä¾›çš„combineReducersæ¥å°†reduceræ‹†åˆ†æˆä¸åŒçš„æ¨¡å—ã€‚ import { combineReducers } from &#39;redux&#39;; import mAReducer from &#39;../mAReducer/store/reducer&#39;; import mBReducer from &#39;../mBReducer/store/reducer&#39;; export default combineReducers({ A: mAReducer, B: mBReducer, }); // è¿™æ ·æˆ‘ä»¬åœ¨ä½¿ç”¨mAReducerä¸­çš„æ•°æ®æ˜¯å°±è¦é€šè¿‡state.A.xxxæ¥è·å–å…¶æ•°æ®äº† redux-thunkä¸­é—´ä»¶ï¼šä½äºactionå’Œstoreä¹‹é—´ redux-thunkå¯ä»¥è®©reduxä½¿ç”¨å¼‚æ­¥æ“ä½œ ä½¿ç”¨æ–¹å¼ import { createStore, applyMiddleware, compose } from &#39;redux&#39;; import reducer from &#39;./reducer&#39;; import thunk from &#39;redux-thunk&#39;; const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose; const enhancer = composeEnhancers(applyMiddleware(thunk)); const store = createStore(reducer, enhancer); export default store; ä¾‹å­ actionCreators.jsç»„ä»¶ä½¿ç”¨export const setTodoList = (list) =&gt; ({ type: GET_TODOLIST, list, }); export const getTodoList = () =&gt; { return (dispatch) =&gt; { axios.get('http://localhost:8888/test/getTodoList') .then((res) =&gt; { const todoList = res.data.datas; const action = setTodoList(todoList); dispatch(action); }); } };componentDidMount() { const action = getTodoList(); store.dispatch(action); } redux-sagaä½¿ç”¨æ–¹å¼ index.jsactionCreators.jssagas.jsimport { createStore, applyMiddleware, compose } from 'redux'; import reducer from './reducer'; import createSagaMiddleware from 'redux-saga'; import mySaga from './sagas'; const sagaMiddleware = createSagaMiddleware(); const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose; const enhancer = composeEnhancers(applyMiddleware(sagaMiddleware)); const store = createStore(reducer, enhancer); sagaMiddleware.run(mySaga); export default store;export const getSaga = (list) =&gt; ({ type: GET_SAGA, list, });import { takeEvery } from 'redux-saga/effects'; import { GET_SAGA } from './actionType'; function* getList() { console.log('è¿›è¡Œå¼‚æ­¥æ“ä½œäº†'); } function* mySaga(action) { // å½“dispatchçš„action.type = GET_SAGAæ—¶ï¼Œè°ƒç”¨getListæ–¹æ³• yield takeEvery(GET_SAGA, getList); } export default mySaga; react-reduxä½¿ç”¨Providerå’Œconnectå®ç°storeçš„å…±äº«ï¼Œä¹‹å‰çš„å†™æ³•æ˜¯éœ€è¦åœ¨éœ€è¦ä½¿ç”¨storeçš„ç»„ä»¶ä¸­å¼•å…¥storeï¼Œå¹¶é€šè¿‡store.subscribeå’Œstore.getStateæ¥åŒæ­¥å’Œè·å–æœ€æ–°çš„storeå†…å®¹ã€‚ &lt;Provider store={store}&gt; {/* åŒ…è£¹éœ€è¦ä½¿ç”¨storeçš„ç»„ä»¶ */} &lt;App /&gt; &lt;/Provider&gt; Demo.js import { deleteTodoItemAction } from &#39;../../store/actionCreators&#39;; // å°†storeä¸­çš„stateçš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„propsä¸­ const mapStateToProps = (state) =&gt; ({ ...state, }); // å°†dispatchæ˜ å°„åˆ°propsä¸­ const mapDispatchToProps = (dispatch) =&gt; { return { deleteTodoItem(index) { const action = deleteTodoItemAction(index); dispatch(action); } }; }; // Demoä¸ºéœ€è¦ä½¿ç”¨storeçš„ç»„ä»¶ connect(mapStateToProps, mapDispatchToProps)(Demo); csså†™æ³• ä½¿ç”¨styled-components css-module styled-components(ä½¿ç”¨jsç¼–å†™cssä»£ç ) style.jsä½¿ç”¨æ–¹å¼import styled from 'styled-components'; export const Logo = styled.a.attrs({ href: '/', })` position: absolute; top: 0; left: 0; display: block; width: 100px; height: 56px; background: url(${(props) =&gt; props.imgUrl}); background-size: contain; `;import React, { Component } from 'react'; import { Logo } from './style'; class Header extends Component { constructor(props) { super(props); this.state = {}; } render() { return ( &lt;Logo imgUrl=\"xxx\"/&gt; ); } } export default Header; ä¸Šé¢è¿™ç§å†™æ³•ç­‰åŒäº render() { return ( &lt;a href=&quot;/&quot; style={{position: \"absolute\", top: 0, left: 0}}&gt;&lt;/a&gt; ); } react-routernpm i react-router-dom -Sä½¿ç”¨æ–¹å¼ import React from &#39;react&#39;; import Header from &#39;./common/header&#39;; import store from &#39;./store&#39;; import { BrowserRouter as Router, Route } from &#39;react-router-dom&#39;; import { Provider } from &#39;react-redux&#39;; import Home from &#39;./pages/home&#39;; import Detail from &#39;./pages/detail&#39;; function App() { return ( &lt;Provider store={store}&gt; &lt;Router&gt; &lt;Header /&gt; &lt;Route path=&quot;/&quot; exact component={Home}&gt;&lt;/Route&gt; &lt;Route path=&quot;/detail&quot; exact component={Detail}&gt;&lt;/Route&gt; &lt;/Router&gt; &lt;/Provider&gt; ); } export default App; exactä¸ºç²¾å‡†åŒ¹é…è·¯ç”± é¡µé¢è·³è½¬ï¼Œä½¿ç”¨react-router-domä¸­çš„&lt;Link to=&quot;xxx&quot;&gt;&lt;/Link&gt;ï¼Œé‡å®šå‘ä½¿ç”¨&lt;Redirect to=&quot;xxx&quot;&gt;&lt;/Redirect&gt; ç¼–ç¨‹å¼å†™æ³•ï¼š this.props.history.(push()/goBack(num)/go()/replace()) åŠ¨æ€è·¯ç”± &lt;Route path=&quot;/post/:id&quot; exact component={POST}&gt;&lt;/Route&gt; // POSTç»„ä»¶é€šè¿‡this.props.match.params.idæ¥è·å–idå€¼ å¯ä»¥ä½¿ç”¨withRouteråŒ…è£¹ç»„ä»¶æ¥è·å–history","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"}]},{"title":"webpack4.0è¿›é˜¶ï¼ˆä¸‰ï¼‰","slug":"webpack4.0è¿›é˜¶ï¼ˆä¸‰ï¼‰","date":"2020-06-05T02:24:19.000Z","updated":"2020-06-13T08:06:00.000Z","comments":true,"path":"posts/f9d92613/","link":"","permalink":"https://alanwang.site/posts/f9d92613/","excerpt":"æ‰‹å†™ç®€å•çš„loaderã€Pluginã€ç®€å•çš„webpack","text":"æ‰‹å†™ç®€å•çš„loaderã€Pluginã€ç®€å•çš„webpack æ‰‹å†™ç®€å•çš„loaderç›®å½• myLoader â”œâ”€â”€ loaders â”‚ â””â”€â”€ myLoader.js â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.jsindex.jswebpack.config.jsmyLoader.jsconsole.log('hello webpack!');const path =require('path'); module.exports = { mode: 'development', entry: './src/index.js', module: { rules: [{ test: /\\.js$/, exclude: /node_modules/, use: [ { loader: path.resolve(__dirname, './loaders/myLoader.js'), options: { key: 'my option value', }, }, ], }], }, output: { path: path.resolve(__dirname, 'dist'), filename: '[name].js', }, };module.exports = function (source) { return source.replace('webpack', this.query.key); } è¿™ä¸ªä¾‹å­éå¸¸ç®€å•ï¼Œå°±æ˜¯é€šè¿‡è‡ªå»ºçš„loaderå°†é¡¹ç›®ä¸­çš„webpackå­—ç¬¦ä¸²æ›¿æ¢æˆwebpackä¸­é…ç½®çš„å­—ç¬¦ä¸²ã€‚myLoader.jsä¸­å¯ä»¥é€šè¿‡this.queryæ¥å—webpackä¸­é…ç½®çš„optionså‚æ•°ã€‚æ›´å¤šthisä¸Šçš„å±æ€§å‚è€ƒï¼ˆåŒ…æ‹¬å¼‚æ­¥å¤„ç†ã€å›è°ƒâ€¦ï¼‰ ä¸Šé¢çš„ä¾‹å­é€šè¿‡æ‰“åŒ…åä»£ç å¦‚ä¸‹ console.log(&#39;hello my option value!&#39;) webpack5ä¸­å¯ä»¥ç›´æ¥é€šè¿‡this.getOptions (schema)æ¥è·å–optionså‚æ•° webpack resolveLoader: å’Œä¹‹å‰æåˆ°çš„resolveçš„ä½¿ç”¨ç±»ä¼¼ï¼Œå°±æ˜¯ç”¨æ¥å·æ‡’çš„ğŸ˜‚ ä½¿ç”¨resolveLoaderæ”¹å†™åçš„wepack.config.js const path =require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, entry: &#39;./src/index.js&#39;, resolveLoader: { modules: [&#39;node_modules&#39;, &#39;./loaders&#39;], }, module: { rules: [{ test: /\\.js$/, exclude: /node_modules/, use: [ { loader: &#39;myLoader&#39;, options: { key: &#39;my option&#39;, }, }, ], }], }, output: { path: path.resolve(__dirname, &#39;dist&#39;), filename: &#39;[name].js&#39;, }, }; ä¸Šé¢è¿™ä¸ªä¾‹å­å¯ä»¥ç›´æ¥ä½¿ç”¨myLoaderåï¼Œwebpackä¼šåœ¨node_modules å’Œ./loadersä¸­å¯»æ‰¾å¯¹åº”çš„Loaderã€‚ è‡ªå®šä¹‰çš„loaderä¸­ä¸è¦ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¼šäº§ç”ŸthisæŒ‡å‘é—®é¢˜ æ‰‹å†™ç®€å•çš„Pluginç›®å½• myPlugin â”œâ”€â”€ package.json â”œâ”€â”€ plugins â”‚ â””â”€â”€ date-webpack-plugin.js â”œâ”€â”€ src â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.jscomplieræä¾›äº†è®¸å¤šé’©å­ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨æ‰“åŒ…çš„ä¸åŒæ—¶åˆ»æ¥è¿›è¡Œä¸åŒçš„å¤„ç†ï¼Œè¿™é‡Œä½¿ç”¨äº†emité’©å­ ä¸‹é¢é€šè¿‡æ‰‹å†™çš„pluginæ¥å®ç°åœ¨distç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªauthor.txtæ–‡ä»¶ date-webpack-plugin.jswebpack.config.jsclass DateWebpackPlugin { constructor(options) { // optionsæ˜¯newæ’ä»¶æ—¶ä¼ è¿›æ¥çš„å‚æ•° this.options = options; } apply(compiler) { const _this = this; compiler.hooks.emit.tapAsync('DateWebpackPlugin', (compilation, cb) =&gt; { compilation.assets['author.txt'] = { // è¿”å›çš„èµ„æº source: function () { return `created by ${_this.options.author} ${new Date()}`; }, // æœ€åç”Ÿæˆçš„æ–‡ä»¶å¤§å° size: function () { return 19; } }; // ç”±äºemitæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥æœ€åè¦æ‰§è¡Œå›è°ƒå‡½æ•° cb(); }) } } module.exports = DateWebpackPlugin;const path = require('path'); const DateWebpackPlugin = require('./plugins/date-webpack-plugin'); module.exports = { mode: 'development', entry: './src/index.js', output: { path: path.resolve(__dirname, 'dist'), filename: '[name].js', }, plugins: [ new DateWebpackPlugin({ author: 'Alan', }), ], }; æ‰“åŒ…åä¼šåœ¨distç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªauthor.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ created by AlanSun Jun 07 2020 11:49:42 GMT+0800 (GMT+08:00)reactå’Œvueè„šæ‰‹æ¶webpacké…ç½® create-react-appé€šè¿‡npm run ejectæš´éœ²webpacké…ç½® vue-clié€šè¿‡vue.config.jsé…ç½®webpack(å¯ä»¥é€šè¿‡configureWebpackè‡ªå®šä¹‰webpacké…ç½®) æ‰‹å†™ä¸€ä¸ªç®€å•çš„webpackæ‰“åŒ…å·¥å…·å…ˆæå‰å®‰è£…ä»¥ä¸‹éœ€è¦çš„æ’ä»¶ npm i @babel/parser -D // å°†jså†…å®¹è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ npm i @babel/traverse -D // ç”¨æ¥éå†æŠ½è±¡è¯­æ³•æ ‘ npm i @babel/core -D npm i @babel/preset-env -D //es6-&gt;es5 npm i cli-highlight -D // å¯é€‰ï¼Œå‘½ä»¤è¡Œé«˜äº®æ’ä»¶å‰ç½®çŸ¥è¯†ï¼š nodeï¼š fs.readFileSync(åŒæ­¥è¯»å–æ–‡ä»¶å†…å®¹) path_dirname(è·å–æ–‡ä»¶çš„ç›®å½•) é¡¹ç›®ç›®å½•ï¼š bundler â”œâ”€â”€ bundler.js // ä¸»è¦æ–‡ä»¶ â””â”€â”€ src â”œâ”€â”€ course.js â”œâ”€â”€ index.js â””â”€â”€ learn.jsindex.jslearn.jscourse.jsimport notify from './learn.js'; console.log(notify);import { course } from './course.js'; const learnNotify = `time to learn ${course}`; export default learnNotify;export const course = 'webpack'; æˆ‘å°†æ•´ä¸ªé¡¹ç›®æ‹†åˆ†æˆ2ä¸ªéƒ¨åˆ†æ¥åˆ†æ å¤„ç†å…¥å£æ–‡ä»¶æ‰¾åˆ°æ‰€æœ‰importæ–‡ä»¶æ€è·¯ï¼š é€šè¿‡fs.readFileSyncè¯»å–index.jsçš„å†…å®¹ ä½¿ç”¨@babel/parserå°†è¯»å–çš„å†…å®¹è½¬åŒ–ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘ ä½¿ç”¨@babel/traverseéå†æ‰¾åˆ°æ‰€æœ‰importè¯­å¥ åˆ†æå‡ºå¼•ç”¨çš„æ–‡ä»¶ï¼Œä¿å­˜å…¶è·¯å¾„ ä»£ç ï¼š const fs = require(&#39;fs&#39;); const parser = require(&#39;@babel/parser&#39;); const traverse = require(&#39;@babel/traverse&#39;).default; // å‘½ä»¤è¡Œé«˜äº®å·¥å…· const highlight = require(&#39;cli-highlight&#39;).highlight const moduleAnalysis = (filename) =&gt; { // è¯»å–å‡ºindex.jsæ–‡ä»¶å†…å®¹ const content = fs.readFileSync(filename, &#39;utf-8&#39;); // å°†æ–‡ä»¶å†…å®¹è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ const ast = parser.parse(content, { sourceType: &#39;module&#39; }); // éå†æŠ½è±¡è¯­æ³•æ ‘ traverse(ast, { ImportDeclaration({ node }) { console.log(node); } }) // console.log(highlight(ast)); console.log(ast.program.body); } moduleAnalysis(&#39;./src/index.js&#39;); é€šè¿‡ä¸Šå›¾å¯ä»¥æ¸…æ¥šçœ‹åˆ°æˆ‘ä»¬ç°åœ¨è¦åšçš„äº‹æƒ…å°±æ˜¯æ‰¾åˆ°æ‰€æœ‰ä¸ºtypeä¸ºimportDeclarationçš„nodeå±æ€§ æœ€åå¯¹jsæ–‡ä»¶è¿›è¡Œbabelå¤„ç†ï¼Œè½¬åŒ–æˆæµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„ä»£ç  å®Œæ•´ä»£ç  const fs = require(&#39;fs&#39;); const parser = require(&#39;@babel/parser&#39;); const traverse = require(&#39;@babel/traverse&#39;).default; const path = require(&#39;path&#39;); const babel = require(&#39;@babel/core&#39;); // å‘½ä»¤è¡Œé«˜äº®å·¥å…· const highlight = require(&#39;cli-highlight&#39;).highlight const moduleAnalysis = (filename) =&gt; { // è¯»å–å‡ºindex.jsæ–‡ä»¶å†…å®¹ const content = fs.readFileSync(filename, &#39;utf-8&#39;); // å°†æ–‡ä»¶å†…å®¹è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ const ast = parser.parse(content, { sourceType: &#39;module&#39; }); const dependencies = {}; // éå†æŠ½è±¡è¯­æ³•æ ‘ traverse(ast, { ImportDeclaration({ node }) { // æ–‡ä»¶å¯¹åº”ç›®å½•./src const dirPath = path.dirname(filename); // ç»å¯¹è·¯å¾„./src/learn.js(windowæ“ä½œç³»ç»Ÿ) let filePath = (&#39;./&#39; + path.join(dirPath, node.source.value)).replace(&#39;\\\\&#39;, &#39;/&#39;); dependencies[node.source.value] = filePath; // { &#39;./learn.js&#39;: &#39;./src/learn.js&#39; } console.log(dependencies); } }); // è½¬åŒ–æˆæµè§ˆå™¨å¯ä»¥æ‰§è¡Œçš„ä»£ç  const { code } = babel.transformFromAst(ast, null, { presets: [&#39;@babel/preset-env&#39;] }); console.log(highlight(code)); return { filename, dependencies, code } } moduleAnalysis(&#39;./src/index.js&#39;); é€šè¿‡å…¥å£æ–‡ä»¶åˆ†æå‡ºæ‰€æœ‰æ–‡ä»¶ä¾èµ–ä¸Šé¢å·²ç»åˆ†æå‡ºäº†å…¥å£æ–‡ä»¶çš„ä¸€äº›ä¾èµ–ï¼Œæ¥ä¸‹æ¥å¯ä»¥é€šè¿‡é€’å½’éå†æ¥åˆ†æå‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¾èµ–å¹¶ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œå…ˆåˆ†æä¸€äº›ç»è¿‡ä¸Šé¢å‡½æ•°å¤„ç†åçš„æ•°æ® { filename: &#39;./src/index.js&#39;, dependencies: { &#39;./learn.js&#39;: &#39;./src/learn.js&#39; }, code: &#39;&quot;use strict&quot;;\\n&#39; + &#39;\\n&#39; + &#39;var _learn = _interopRequireDefault(require(&quot;./learn.js&quot;));\\n&#39; + &#39;\\n&#39; + &#39;function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { &quot;default&quot;: obj }; }\\n&#39; + &#39;\\n&#39; + &#39;console.log(_learn[&quot;default&quot;]);&#39; } æˆ‘ä»¬åªéœ€è¦éå†å¯¹è±¡ä¸­çš„dependencieså±æ€§ï¼ŒæŠŠé‡Œé¢çš„è·¯å¾„åä¼ å…¥åˆ°ä¸Šé¢çš„moduleAnalysiså‡½æ•°ä¸­ï¼Œæœ€ç»ˆè·å–æ‰€æœ‰çš„ä¾èµ–ä¿¡æ¯ã€‚ å…·ä½“ä»£ç å¦‚ä¸‹ const analysisDependenciesGraph = (entry) =&gt; { const entryModule = moduleAnalysis(entry); const graphList = [entryModule]; for (let i = 0; i &lt; graphList.length; i++) { const item = graphList[i]; const { dependencies } = item; if (dependencies) { for (let i in dependencies) { graphList.push(moduleAnalysis(dependencies[i])) } } } const graph = {}; graphList.forEach(({ filename, dependencies, code }) =&gt; { graph[filename] = { dependencies, code } }); return graph; } åˆ†æå‡ºçš„æ‰€æœ‰ä¾èµ–å¯¹è±¡ { &#39;./src/index.js&#39;: { dependencies: { &#39;./learn.js&#39;: &#39;./src/learn.js&#39; }, code: &#39;&quot;use strict&quot;;\\n&#39; + &#39;\\n&#39; + &#39;var _learn = _interopRequireDefault(require(&quot;./learn.js&quot;));\\n&#39; + &#39;\\n&#39; + &#39;function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { &quot;default&quot;: obj }; }\\n&#39; + &#39;\\n&#39; + &#39;console.log(_learn[&quot;default&quot;]);&#39; }, &#39;./src/learn.js&#39;: { dependencies: { &#39;./course.js&#39;: &#39;./src/course.js&#39; }, code: &#39;&quot;use strict&quot;;\\n&#39; + &#39;\\n&#39; + &#39;Object.defineProperty(exports, &quot;__esModule&quot;, {\\n&#39; + &#39; value: true\\n&#39; + &#39;});\\n&#39; + &#39;exports[&quot;default&quot;] = void 0;\\n&#39; + &#39;\\n&#39; + &#39;var _course = require(&quot;./course.js&quot;);\\n&#39; + &#39;\\n&#39; + &#39;var learnNotify = &quot;time to learn &quot;.concat(_course.course);\\n&#39; + &#39;var _default = learnNotify;\\n&#39; + &#39;exports[&quot;default&quot;] = _default;&#39; }, &#39;./src/course.js&#39;: { dependencies: {}, code: &#39;&quot;use strict&quot;;\\n&#39; + &#39;\\n&#39; + &#39;Object.defineProperty(exports, &quot;__esModule&quot;, {\\n&#39; + &#39; value: true\\n&#39; + &#39;});\\n&#39; + &#39;exports.course = void 0;\\n&#39; + &quot;var course = &#39;webpack&#39;;\\n&quot; + &#39;exports.course = course;&#39; } } ç”Ÿæˆä»£ç const generateCode = (entry) =&gt; { const graph = JSON.stringify(analysisDependenciesGraph(entry)); return ` (function(graph){ function require(module) { function localRequire(relativePath) { return require(graph[module].dependencies[relativePath]); } var exports = {}; (function(require, exports, code){ eval(code) })(localRequire, exports, graph[module].code); return exports; }; require(&#39;${entry}&#39;) })(${graph}); `; } ç”Ÿæˆåçš„ä»£ç å°±å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œäº† å®Œæ•´ä»£ç  const fs = require(&#39;fs&#39;); const parser = require(&#39;@babel/parser&#39;); const traverse = require(&#39;@babel/traverse&#39;).default; const path = require(&#39;path&#39;); const babel = require(&#39;@babel/core&#39;); // å‘½ä»¤è¡Œé«˜äº®å·¥å…· const highlight = require(&#39;cli-highlight&#39;).highlight const moduleAnalysis = (filename) =&gt; { // è¯»å–å‡ºindex.jsæ–‡ä»¶å†…å®¹ const content = fs.readFileSync(filename, &#39;utf-8&#39;); // å°†æ–‡ä»¶å†…å®¹è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ const ast = parser.parse(content, { sourceType: &#39;module&#39; }); const dependencies = {}; // éå†æŠ½è±¡è¯­æ³•æ ‘ traverse(ast, { ImportDeclaration({ node }) { // æ–‡ä»¶å¯¹åº”ç›®å½•./src const dirPath = path.dirname(filename); // ç»å¯¹è·¯å¾„./src/learn.js(windowæ“ä½œç³»ç»Ÿ) let filePath = (&#39;./&#39; + path.join(dirPath, node.source.value)).replace(&#39;\\\\&#39;, &#39;/&#39;); dependencies[node.source.value] = filePath; // { &#39;./learn.js&#39;: &#39;./src/learn.js&#39; } console.log(dependencies); } }); // è½¬åŒ–æˆæµè§ˆå™¨å¯ä»¥æ‰§è¡Œçš„ä»£ç  const { code } = babel.transformFromAst(ast, null, { presets: [&#39;@babel/preset-env&#39;] }); return { filename, dependencies, code } } const analysisDependenciesGraph = (entry) =&gt; { const entryModule = moduleAnalysis(entry); const graphList = [entryModule]; for (let i = 0; i &lt; graphList.length; i++) { const item = graphList[i]; const { dependencies } = item; if (dependencies) { for (let j in dependencies) { graphList.push(moduleAnalysis(dependencies[j])) } } } const graph = {}; graphList.forEach(({ filename, dependencies, code }) =&gt; { graph[filename] = { dependencies, code } }); return graph; } const generateCode = (entry) =&gt; { const graph = JSON.stringify(analysisDependenciesGraph(entry)); return ` (function(graph){ function require(module) { function localRequire(relativePath) { return require(graph[module].dependencies[relativePath]); } var exports = {}; (function(require, exports, code){ eval(code) })(localRequire, exports, graph[module].code); return exports; }; require(&#39;${entry}&#39;) })(${graph}); `; } const code = generateCode(&#39;./src/index.js&#39;); console.log(highlight(code)); æ€»ç»“åˆ°è¿™é‡Œæ€»ç®—æ˜¯å¯¹webpackæœ‰äº†å¤§ä½“çš„äº†è§£äº†ã€‚å¥ˆä½•å½“æˆ‘å­¦å®Œwebpackåçœ‹åˆ°äº†viteè¿™ä¸ªä¸œè¥¿ğŸ˜’ã€‚ã€‚ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"webpack4.0è¿›é˜¶ï¼ˆäºŒï¼‰","slug":"webpack4.0è¿›é˜¶ï¼ˆäºŒï¼‰","date":"2020-06-03T07:58:33.000Z","updated":"2020-06-03T07:58:33.000Z","comments":true,"path":"posts/b4c78541/","link":"","permalink":"https://alanwang.site/posts/b4c78541/","excerpt":"TSã€Eslintã€webpackæ€§èƒ½ä¼˜åŒ–","text":"TSã€Eslintã€webpackæ€§èƒ½ä¼˜åŒ– åŸºç¡€å†…å®¹æ‰“åŒ…TSæ–‡ä»¶ä½¿ç”¨ts-loader npm i ts-loader typescript -Dé¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š ts-test â”œâ”€â”€ dist â”‚ â””â”€â”€ main.js â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â””â”€â”€ index.tsx â”œâ”€â”€ tsconfig.json â””â”€â”€ webpack.config.jstsconfig.jsonä¸ºTSçš„é…ç½®æ–‡ä»¶ï¼Œæ›´å¤šé…ç½®æŸ¥çœ‹ index.tsx interface person { name: string; ts?: boolean; } function Recruit(personObj:person) : string{ if(personObj.ts) { return `congratulations!${personObj.name}`; } else { return `sorry,${personObj.name}, we need a employee who know ts!`; } } let person1 = {name: &#39;Alan&#39;, age: 21, ts: true}; console.log(Recruit(person1)); let person2 = {name: &#39;Bob&#39;, age: 21}; console.log(Recruit(person2)); tsconfig.json { &quot;compilerOptions&quot;: { &quot;outDir&quot;: &quot;./dist/&quot;, // ç”±äºwebpackä¸­é…ç½®äº†ï¼Œè¿™é‡Œå¯é…å¯ä¸é… &quot;module&quot;: &quot;es6&quot;, &quot;target&quot;: &quot;es5&quot;, &quot;allowJs&quot;: true } } webpack.config.js const path = require(&#39;path&#39;); module.exports = { mode: &#39;production&#39;, entry: &#39;./src/index.tsx&#39;, module: { rules: [ { test: /\\.tsx?$/, exclude: /node_modules/, use: &#39;ts-loader&#39;, } ] }, output: { filename: &#39;[name].js&#39;, path: path.resolve(__dirname, &#39;dist&#39;) } } å½“æˆ‘ä»¬é¡¹ç›®å®‰è£…äº†ä¸‰æ–¹åº“æ—¶å¹¶ä¸”è¦åœ¨tsæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå¾—å®‰è£…è¯¥ä¸‰æ–¹åº“çš„definitionsï¼Œå…·ä½“åº“å¯ä»¥åœ¨TypeSearchæŸ¥æ‰¾ devServer.historyApiFallbackå¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨å•é¡µåº”ç”¨éœ€è¦é…ç½®devServer.historyApiFallbackï¼š true EslintEslintæ˜¯ç”¨æ¥ç»Ÿä¸€ä»£ç é£æ ¼çš„ï¼Œåœ¨å›¢é˜Ÿåä½œæ—¶èƒ½å¤Ÿä¿è¯æ¯ä¸ªäººä¹¦å†™å‡ºçš„ä»£ç é£æ ¼éƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œæœ‰åˆ©äºä»£ç çš„ç»´æŠ¤ã€‚ ä½¿ç”¨æ–¹å¼ï¼š npm i eslint -Dåˆå§‹åŒ–é…ç½® npx eslint --init åˆå§‹åŒ–é…ç½®åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œè¿™é‡Œæˆ‘å®‰è£…çš„æ˜¯airbnbæ ‡å‡†ã€‚ ä¸Šé¢å›¾ç‰‡ä¸­eslintæç¤ºjsxè¯­æ³•ä¸èƒ½åœ¨jsæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œè¿™ã€‚ã€‚ã€‚ã€‚ğŸ˜°ã€‚é‚£æˆ‘å°±æ˜¯è¦ä½¿ç”¨æ€ä¹ˆåŠï¼Œå¯ä»¥åœ¨ç”Ÿæˆçš„.eslintrc.jsæ–‡ä»¶ä¸­é…ç½®ruleså¿½ç•¥è¿™ä¸€æ ‡å‡†ã€‚ rules: { &#39;react/jsx-filename-extension&#39;: 0, }, ç”±äºå›¢é˜Ÿåä½œå¾ˆéš¾ç¡®ä¿æ¯ä¸ªäººçš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯ä¸€æ ·çš„ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠeslintå’Œwebpackç»“åˆèµ·æ¥ï¼Œä½¿ç”¨ä¸€ä¸ªloaderåœ¨æ¯æ¬¡æ‰“åŒ…æ—¶å¯¹ä»£ç è¿›è¡Œeslintæ£€æŸ¥ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå½±å“æ‰“åŒ…é€Ÿåº¦ï¼Œä½¿ç”¨æ—¶è¦å¯¹é€Ÿåº¦å’Œä»£ç è´¨é‡è¿›è¡Œå–èˆã€‚è¿™é‡Œä»‹ç»ä¸€ä¸‹ä½¿ç”¨åˆ°çš„eslint-loader npm i eslint-loader -Dwebpack.common.jsé…ç½® rules: [ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† use: [&#39;babel-loader&#39;, &#39;eslint-loader&#39;], }, ], å½“ç„¶ä¹Ÿå¯ä»¥è®¾ç½®devServer.overlay: trueæ¥å®ç°é”™è¯¯å®æ—¶æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸Šï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚ å¤šé¡µåº”ç”¨æ‰“åŒ…éœ€è¦è®¾ç½®å¤šä¸ªentryï¼Œæ‰“åŒ…åç”Ÿæˆå¤šä¸ª.htmlæ–‡ä»¶ã€‚ src â”œâ”€â”€ index.html â”œâ”€â”€ index.js â””â”€â”€ list.js// webpackçš„entryå’Œpluginsçš„é…ç½® entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ list: &#39;./src/list.js&#39;, }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, filename: &#39;index.html&#39;, chunks: [&#39;main&#39;], }), new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, filename: &#39;list.html&#39;, chunks: [&#39;list&#39;], }), new CleanWebpackPlugin(), ], æ‰“åŒ…åç”Ÿæˆçš„ç›®å½• dist â”œâ”€â”€ index.html â”œâ”€â”€ list.8c4e5ed5eb6302c4c5ef.js â”œâ”€â”€ list.8c4e5ed5eb6302c4c5ef.js.map â”œâ”€â”€ list.html â”œâ”€â”€ main.acc2939e4489e5d76660.js â”œâ”€â”€ main.acc2939e4489e5d76660.js.map â”œâ”€â”€ vendors~list~main.2d42972bf2bf50e6d3cd.js â””â”€â”€ vendors~list~main.2d42972bf2bf50e6d3cd.js.mapç°åœ¨åªæœ‰ä¸¤ä¸ªé¡µé¢è¿˜å¥½è¯´ï¼Œä½†æ˜¯å½“é¡µé¢ä¸€å¤šæˆ‘ä»¬å°±è¦é…ç½®å¤šä¸ªHtmlWebpackPluginã€‚é‚£å¦‚ä½•è®©å®ƒè‡ªåŠ¨é…ç½®å‘¢ï¼Œè¿™é‡Œå°è£…ä¸€ä¸ªå‡½æ•°å¤„ç†ä¸€ä¸‹å°±å¥½äº† const generateHtmlPlugin = (entry) =&gt; { const plugins = [ new CleanWebpackPlugin(), new webpack.ProvidePlugin({ _: &#39;lodash&#39;, }), ]; Object.keys(entry).forEach((item) =&gt; { plugins.push( new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, filename: `${item}.html`, chunks: [item], }), ); }); return plugins; }; webpackå®Œæ•´é…ç½®ï¼ˆwebpack.common.jsï¼‰ const path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;); const webpack = require(&#39;webpack&#39;); const generateHtmlPlugin = (entry) =&gt; { const plugins = [ new CleanWebpackPlugin(), new webpack.ProvidePlugin({ _: &#39;lodash&#39;, }), ]; Object.keys(entry).forEach((item) =&gt; { plugins.push( new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, filename: `${item}.html`, chunks: [item], }), ); }); return plugins; }; const configs = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ list: &#39;./src/list.js&#39;, }, module: { rules: [ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† use: [&#39;babel-loader&#39;], }, ], }, optimization: { usedExports: true, splitChunks: { chunks: &#39;all&#39;, }, }, output: { path: path.resolve(__dirname, &#39;dist&#39;), }, }; configs.plugins = generateHtmlPlugin(configs.entry); module.exports = configs; webpackæ€§èƒ½ä¼˜åŒ–Loader å‡å°‘ä½¿ç”¨ä¸å¿…è¦çš„Loader åˆç†ä½¿ç”¨excludeå’Œincludeæ¥é’ˆå¯¹æ€§çš„ä½¿ç”¨loader Plugin å‡å°‘ä¸å¿…è¦çš„pluginçš„ä½¿ç”¨ Resolveï¼ˆå·æ‡’ç”¨çš„ï¼ŸğŸ˜‚ï¼‰ å‡å°‘extensionsçš„ä½¿ç”¨ å‡å°‘mainFilesçš„ä½¿ç”¨ å‡å°‘aliasçš„ä½¿ç”¨ extensionsçš„ä½¿ç”¨ é…ç½®äº†extensionsåå¯ä»¥ä¸å†™æ‰©å±•åğŸ¤£ ç›®å½•æ–‡ä»¶ webpacktest â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â”œâ”€â”€ index.html â”‚ â”œâ”€â”€ index.js â”‚ â””â”€â”€ tool â”‚ â””â”€â”€ tool.jsx â”œâ”€â”€ webpack.common.js â”œâ”€â”€ webpack.dev.js â””â”€â”€ webpack.prod.jswebpack.config.jsindex.jstool.jsxresolve: { extensions: ['.js', '.jsx'], },import tool from './tool/tool'; tool();export default function Tool() { console.log('my tool'); } è®¾ç½®äº†extensionsåï¼Œwebpackç”±äºæ‰¾ä¸åˆ°./tool/toolä¼šå…ˆå»å¯»æ‰¾./tool/tool.jsï¼Œå¦‚æœæ²¡æ‰¾åˆ°å†å»å¯»æ‰¾./tool/tool.jsxã€‚ mainFilesçš„ä½¿ç”¨ é…ç½®äº†mainFilesåå¯ä»¥ä¸å†™é»˜è®¤æ–‡ä»¶ï¼ˆè¯´ç™½äº†å°±æ˜¯å·æ‡’ğŸ˜ï¼‰ ä¿®æ”¹index.jsæ–‡ä»¶ import tool from &#39;./tool/&#39;; tool(); webpacké…ç½® resolve: { extensions: [&#39;.js&#39;, &#39;.jsx&#39;], mainFiles: [&#39;index&#39;, &#39;tool&#39;], }, è®¾ç½®äº†mainFilesåï¼Œwebpackä¼šå…ˆå»å¯»æ‰¾./tool/index.jså’Œ./tool/index.jsx ï¼Œå¦‚æœæ²¡æ‰¾åˆ°å†å»å¯»æ‰¾./tool/tool.jså’Œ./tool/tool.jsxã€‚ aliasçš„ä½¿ç”¨ å·æ‡’ç¥å™¨ï¼Œå…å»å†™é•¿é•¿çš„è·¯å¾„ã€‚ ä¿®æ”¹index.jsæ–‡ä»¶ import tool from &#39;myTool&#39;; //è¿™é‡Œä½¿ç”¨çš„æ˜¯åˆ«åalias tool(); webpacké…ç½® resolve: { extensions: [&#39;.js&#39;, &#39;.jsx&#39;], mainFiles: [&#39;index&#39;, &#39;tool&#39;], alias: { myTool: path.resolve(__dirname, &#39;./src/tool/tool.jsx&#39;), }, }, è¿™æ ·å°±å¯ä»¥ä½¿ç”¨åˆ«åmyToolæ¥ç›´æ¥å¼•ç”¨tool.jsxæ–‡ä»¶äº†ã€‚ DllPluginä¼˜åŒ–é¡¹ç›®ä¸­ç¬¬ä¸‰æ–¹æ¨¡å—çš„æ‰“åŒ…é€Ÿåº¦ å¤šè¿›ç¨‹æ‰“åŒ…å¤šè¿›ç¨‹æ‰“åŒ…æ’ä»¶æœ‰ï¼šthread-loaderï¼Œparallel-webpackï¼Œhappypack sourceMapæ ¹æ®ä¸åŒç¯å¢ƒæ¥é…ç½®ä¸åŒçš„sourceMapæœ€å¤§ç¨‹åº¦ä¸Šä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ status.jsoné€šè¿‡status.jsonæ–‡ä»¶æ¥åˆ†ææ‰“åŒ…è¿‡ç¨‹ï¼Œæ‰¾åˆ°æœ€å½±å“æ€§èƒ½çš„åœ°æ–¹å¯¹ç—‡ä¸‹è¯ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"å‰ç«¯é¢è¯•é¢˜","slug":"å‰ç«¯é¢è¯•é¢˜","date":"2020-05-31T08:41:48.000Z","updated":"2020-06-01T09:10:00.000Z","comments":true,"path":"posts/20802113/","link":"","permalink":"https://alanwang.site/posts/20802113/","excerpt":"è®°å½•äº†è‡ªå·±ç–«æƒ…æœŸé—´è‡ªå­¦+å¤ä¹ æ€»ç»“çš„ä¸€äº›é¢è¯•é¢˜ï¼Œè™½ç„¶æœŸé—´åªé¢è¯•äº†ä¸€å®¶ã€‚ğŸ˜¥ï¼ˆæ‹¿åˆ°äº†offerï¼ˆå®ä¹ ï¼‰ï¼Œä¸ªäººåŸå› æ²¡å»ï¼‰","text":"è®°å½•äº†è‡ªå·±ç–«æƒ…æœŸé—´è‡ªå­¦+å¤ä¹ æ€»ç»“çš„ä¸€äº›é¢è¯•é¢˜ï¼Œè™½ç„¶æœŸé—´åªé¢è¯•äº†ä¸€å®¶ã€‚ğŸ˜¥ï¼ˆæ‹¿åˆ°äº†offerï¼ˆå®ä¹ ï¼‰ï¼Œä¸ªäººåŸå› æ²¡å»ï¼‰ èƒŒæ™¯ç”±äºä»Šå¹´ç–«æƒ…çš„åŸå› ä»¥åŠä¸€äº›ä¸ªäººåŸå› ï¼Œè¾å»äº†ä¹‹å‰çš„å®ä¹ å·¥ä½œã€‚åœ¨å®¶å¾…äº†ä¹Ÿå¿«3ä¸ªæœˆäº†ã€‚å»å¹´åœ¨å…¬å¸å®ä¹ é”™è¿‡äº†ç§‹æ‹›ï¼Œä»Šå¹´åˆç¢°ä¸Šç–«æƒ…ï¼Œå¯¹æˆ‘è¿™ä¸ªåº”å±Šç”Ÿæ¥è¯´ç®€ç›´æ˜¯éš¾ä¸ŠåŠ éš¾ã€‚åœ¨å®¶è¿™æ®µæ—¶é—´è‡ªå·±å­¦ä¹ äº†Reactã€webpackã€‚ç”¨Reactæ­å»ºäº†ä¸€ç›´æƒ³åšä½†æ˜¯è€½æäº†åŠå¹´çš„åšå®¢ï¼Œæ­å»ºå‡ºæ¥åè€ƒè™‘åæœŸç»´æŠ¤æˆæœ¬ï¼ˆæœåŠ¡å™¨è´¹ç”¨ï¼‰ï¼Œå°±æ²¡æœ‰ç»§ç»­ç»´æŠ¤äº†ã€‚æ”¹ç”¨äº†Hexo+githubæ­å»ºäº†ä¸€ä¸ªé™æ€åšå®¢ã€‚çœŸé¦™ğŸ˜‚ã€‚ JSåŸå‹ æ·±æ‹·è´å’Œæµ…æ‹·è´åœ¨JSä¸­ï¼Œå˜é‡åˆ†ä¸ºäº†åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œèµ‹å€¼æ—¶æ˜¯å¯¹å€¼è¿›è¡Œæ‹·è´çš„ï¼Œè€Œå¯¹å¼•ç”¨ç±»å‹è¿›è¡Œèµ‹å€¼åˆ™æ˜¯å¯¹åœ°å€è¿›è¡Œæ‹·è´ã€‚ åŸºæœ¬ç±»å‹å¼•ç”¨ç±»å‹let a = 1; let b= a; console.log(a); // 1 a++; console.log(a); // 2 console.log(b); // 1const obj = { name: 'Alan', age: 22, } const cloneObj = obj; obj.age = 18; console.log(cloneObj.age); // 18 é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬çŸ¥é“ï¼ŒcloneObjå’Œobjæ˜¯æŒ‡å‘åŒä¸€ä¸ªåœ°å€çš„ï¼Œä»»ä½•ä¸€æ–¹ä¿®æ”¹éƒ½ä¼šå½±å“åˆ°å¯¹æ–¹ï¼Œé‚£å¦‚ä½•åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„cloneObj?ï¼Œè¿™å°±è¦ä½¿ç”¨æ·±æ‹·è´å’Œæµ…æ‹·è´äº†ã€‚ æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼š æ ¹æ®æ‹·è´çš„å±‚çº§è¿›è¡ŒåŒºåˆ†ï¼Œæµ…æ‹·è´åªè¿›è¡Œä¸€å±‚æ‹·è´ï¼Œæ·±æ‹·è´è¿›è¡Œå¤šå±‚æ‹·è´ã€‚ æµ…æ‹·è´ æ–¹æ³•1æ–¹æ³•2const obj = {a:1, b:{b1:1, b2:2}, c:0}; function shallowClone(source) { const result= {}; for (const key in source) { if (source.hasOwnProperty(key)) { result[key] = source[key]; } } return result; } const shallowObj = shallowClone(obj); obj.a = 10; console.log(shallowObj.a); // 1 obj.b.b1 = 6; console.log(shallowObj.b.b1); // 6const obj = {a:1, b:{b1:1, b2:2}, c:0}; function shallowClone1(source) { return Object.assign({}, source); } const shallowObj = shallowClone1(obj); obj.a = 10; console.log(shallowObj.a); // 1 obj.b.b1 = 6; console.log(shallowObj.b.b1); // 6 æ·±æ‹·è´ æ–¹æ³•1æ–¹æ³•2const obj = {a:1, b:{b1:1, b2:2}, c:0}; function deepClone(source) { const result = {}; for (const key in source) { if (source.hasOwnProperty(key)) { if (typeof source[key] === 'object') { result[key] = deepClone(source[key]); } else { result[key] = source[key]; } } } return result; } const deepObj = deepClone(obj); obj.a = 10; console.log(deepObj.a); // 1 obj.b.b1 = 6; console.log(deepObj.b.b1); // 1const obj = {a:1, b:{b1:1, b2:2}, c:0}; function deepClone(source) { return JSON.parse(JSON.stringify(source)); } const deepObj = deepClone(obj); obj.a = 10; console.log(deepObj.a); // 1 obj.b.b1 = 6; console.log(deepObj.b.b1); // 1 æ•°ç»„å»é‡æ–¹æ³•1æ–¹æ³•2æ–¹æ³•3 Set// ç¬¨æ–¹æ³• const arr = [1,3,45,6,3,2,0]; const newArr = []; let isRepeat; for (let i = 0; i &lt; arr.length; i++) { isRepeat = false; for (let j = 0; j &lt; newArr.length; j++) { if (arr[i] === newArr[j]) { isRepeat = true; break; } } if (!isRepeat) { newArr.push(arr[i]); } } console.log(arr); // [1, 3, 45, 6, 3, 2, 0] console.log(newArr); // [1, 3, 45, 6, 2, 0]const arr = [1,3,45,6,3,2,0]; const newArr = arr.filter((item,index) =&gt; { return arr.indexOf(item) === index }) console.log(arr); // [1, 3, 45, 6, 3, 2, 0] console.log(newArr); // [1, 3, 45, 6, 2, 0]const arr = [1,3,45,6,3,2,0]; const newArr = [...new Set(arr)]; console.log(arr); // [1, 3, 45, 6, 3, 2, 0] console.log(newArr); // [1, 3, 45, 6, 2, 0] for in å’Œ for of for in ä¼šéå†æ•°ç»„ä¸­çš„å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬åŸå‹ã€‚å¯ä»¥éå†å¯¹è±¡ for ofåªæ˜¯éå†æ•°ç»„çš„å…ƒç´ æˆ–è€…å¯ä»¥è¿­ä»£çš„å¯¹è±¡ã€‚ä½†æ˜¯ä¸èƒ½éå†å¯¹è±¡ Array.prototype.testMethod = function () { console.log(&#39;testMethod&#39;); } const mArr = [1,2,3,7]; const mObject = { name: &#39;Alan&#39;, age: 1 } for (const key in mArr) { console.log(mArr[key]); // 1 2 3 7 /* Æ’ () { console.log(&#39;testMethod&#39;); } */ } // è§£å†³æ–¹æ¡ˆ for (const key in mArr) { if (mArr.hasOwnProperty(key)) { console.log(mArr[key]); // 1 2 3 7 } } for (const key in mObject) { console.log(key); // name // age } try { for (const iterator of mObject) { console.log(iterator); } } catch (error) { console.log(error); //mObject is not iterable } äº‹ä»¶å§”æ‰˜äº‹ä»¶å§”æ‰˜åˆ©ç”¨äº†äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šäº†ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚ ä¾‹å¦‚ï¼Œclickäº‹ä»¶ä¼šä¸€ç›´å†’æ³¡åˆ°documentå±‚æ¬¡ã€‚ä¾‹å¦‚ä¸‹é¢ä¾‹å­ä¸­æˆ‘ä»¬æ— éœ€å¯¹æ‰€æœ‰liå…ƒç´ æ·»åŠ onclickäº‹ä»¶ï¼Œåªéœ€ä½¿ç”¨äº‹ä»¶å†’æ³¡çš„ç‰¹æ€§æ¥å®ç°äº‹ä»¶å§”æ‰˜ã€‚ &lt;body&gt; &lt;ul id=&quot;myList&quot;&gt; &lt;li id=&quot;sayName&quot;&gt;Name&lt;/li&gt; &lt;li id=&quot;sayHello&quot;&gt;Hello&lt;/li&gt; &lt;li id=&quot;sayAge&quot;&gt;Age&lt;/li&gt; &lt;/ul&gt; &lt;script&gt; const myList = document.getElementById(&#39;myList&#39;); myList.addEventListener(&#39;click&#39;, function (e) { const target = e.target; if (target.id === &#39;sayName&#39;) { alert(&#39;Alan&#39;); } else if(target.id === &#39;sayHello&#39;) { alert(&#39;Hello&#39;); } else { alert(&#39;sayAge&#39;); } }) &lt;/script&gt; &lt;/body&gt; å®ç°æ»‘åŠ¨åŠ¨ç”»&lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt; &lt;script&gt; const myDiv = document.getElementById(&#39;myDiv&#39;); const time = Date.now(); //æ—¶é—´æˆ³ const transition = setInterval(() =&gt; { const timeLength = Date.now() - time; const step = (5000 - timeLength) / 1000; console.log(step); if (timeLength &gt; 5000) { clearInterval(transition); // 5såç»“æŸ } myDiv.style.left = myDiv.offsetLeft + step + &#39;px&#39;; }, 50); &lt;/script&gt; æ•°ç»„æ‰å¹³åŒ–æ–¹æ³•1æ–¹æ³•2æ–¹æ³•3æ–¹æ³•3// ç¬¨æ–¹æ³•ï¼šé€’å½’ const arr = [1,2,7,[2,[2,3],6]]; function flat(arr) { let result = []; for (let i = 0; i &lt; arr.length; i++) { if(Array.isArray(arr[i])) { result = result.concat(flat(arr[i])); } else { result.push(arr[i]); } } return result; } console.log(flat(arr));// ä½¿ç”¨for of let arr = [1,2,7,[2,[2,3],6]]; function flat(arr) { let newArr =[]; for (const item of arr) { if(Array.isArray(item)){ newArr = newArr.concat(flat(item)); } else { newArr.push(item); } } return newArr; } console.log(flat(arr));const arr = [1,2,7,[2,[2,3],6]]; function flat(arr) { while (arr.some(item =&gt; Array.isArray(item))) { arr = [].concat(...arr); } return arr; } console.log(flat(arr));// éªšæ“ä½œ const arr = [1,2,7,[2,[2,3],6]]; function flat(arr) { const result = arr.toString().split(',').map(item =&gt; { return +item; }); return result; } console.log(flat(arr)); eventLoopJSæ˜¯å•çº¿ç¨‹çš„ï¼Œé‚£ä¸ºä»€ä¹ˆä¸æ˜¯å¤šçº¿ç¨‹çš„å‘¢ï¼Œè®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†bodyçš„backgroundä¸ºredï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†bodyçš„backgroundä¸ºgreenã€‚é‚£æœ€ç»ˆæµè§ˆå™¨å°±ä¸çŸ¥é“backgroundåˆ°åº•ä¸ºä»€ä¹ˆã€‚ç”±æ­¤å¯ä»¥çœ‹åˆ°å¤šçº¿ç¨‹ä¼šä¸ºæµè§ˆå™¨çš„DOMæ“ä½œå¸¦æ¥å¾ˆå¤šåŒæ­¥é—®é¢˜ã€‚ JSçš„ä»»åŠ¡å¯ä»¥åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ã€‚ 1.åŒæ­¥ä»»åŠ¡ä¼˜å…ˆåœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œä¼šå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆã€‚ 2.å¼‚æ­¥ä»»åŠ¡ä¼šè¢«æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“æ‰§è¡Œæ ˆæ¸…ç©ºæ—¶ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸¢è¿›æ‰§è¡Œæ ˆä¸­ã€‚ 1ã€2ä¸¤æ­¥åå¤æ‰§è¡Œå½¢æˆäº†eventLoopã€‚ å¦‚æœå°†ä»»åŠ¡ç»†åˆ†çš„è¯è¿˜å¯ä»¥åˆ†æˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼š macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptï¼ŒsetTimeoutï¼ŒsetInterval micro-task(å¾®ä»»åŠ¡)ï¼šPromise.then()ï¼Œprocess.nextTick ä¼˜å…ˆçº§ï¼šprocess.nextTick&gt;Promise.then() è¯¦ç»†æŸ¥çœ‹æ–‡ç« è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶ this æŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œå‡½æ•°è¿è¡Œæ—¶è·å¾—çš„ã€‚ ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å–å†³äºå®šä¹‰æ—¶æœ€è¿‘ä¸€å±‚çš„éç®­å¤´å‡½æ•°çš„thiså€¼ã€‚å–å†³äºå¤–éƒ¨çš„ä¸Šä¸‹æ–‡ã€‚ æ±‚æ•°ç»„æœ€å¤§å€¼const arr = [1,2,1,4,2,10]; console.log(Math.max.apply(null, arr)); const arr = [1,2,1,4,2,10]; console.log(arr.sort((a,b) =&gt; (a-b))[arr.length-1]); const arr = [1,2,1,4,2,10]; console.log(Math.max(...arr)); Promise// new Promise(executor)ï¼Œå½“new Promiseè¢«åˆ›å»ºï¼Œexecutorè‡ªåŠ¨æ‰§è¡Œ let promise = new Promise(function (resolve, reject) { resolve(&#39;finished&#39;); // reject(new Error); }); // Promise.then(f1,f2) f1åœ¨resolveåè¿è¡Œï¼ˆå‚æ•°ä¸ºresolveç»“æœï¼‰ï¼Œf2åœ¨rejectåè¿è¡Œï¼ˆå‚æ•°ä¸ºrejecté”™è¯¯ï¼‰ promise.then( result =&gt; console.log(result), //finished error =&gt; console.log(error) //è¾“å‡ºé”™è¯¯ ); promise.all()åŒæ—¶æ‰§è¡Œå¤šä¸ªpromiseï¼Œåªè¦æœ‰ä¸€ä¸ªpromiseè¢«rejectï¼Œé‚£ä¹ˆå°†ä¸å†æ‰§è¡Œ promise.allSettled()å’Œpromise.all()ç±»ä¼¼ï¼Œåªæ˜¯ä¼šç­‰æ‰€æœ‰promiseæ‰§è¡Œå®Œã€‚ promise.race()è¿”å›æœ€å¿«æ‰§è¡Œå®Œçš„promiseç»“æœã€‚ https://zh.javascript.info/promise-basics é˜²æŠ–å’ŒèŠ‚æµ èŠ‚æµ å‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ¯”å¦‚ç‚¹å‡»æŒ‰é’®åå›å»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œä½¿ç”¨èŠ‚æµå¯ä»¥é˜²æ­¢çŸ­æ—¶é—´å†…è¯·æ±‚å¤šæ¬¡ï¼Œå‡å°‘æœåŠ¡å™¨çš„å‹åŠ› é˜²æŠ– åœ¨ä¸€å®šæ—¶é—´åæ‰æ‰§è¡Œï¼ˆè§¦å‘å¤šæ¬¡åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚åº”ç”¨åœºæ™¯ï¼šinputæœç´¢æ¡†åœ¨waitç§’åå†å‘é€è¯·æ±‚ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; body { height: 4000px; width: 100px; background: rgb(241, 165, 165); } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;button id=&quot;fetchBtn&quot;&gt;fetch data&lt;/button&gt; &lt;span&gt;searchBar&lt;/span&gt;&lt;input id=&quot;inputBar&quot;/&gt; &lt;script&gt; // èŠ‚æµ function throttle(func, wait) { let last = 0; return function (...args) { let now = new Date(); if (now - last &gt; wait) { last = now; func.apply(this, args); } } } // é˜²æŠ– function debounce(func, wait) { let timer = 0; return function (...args) { if (timer) clearTimeout(timer); timer = setTimeout(() =&gt; { func.apply(this, args); }, wait) } } document.getElementById(&#39;fetchBtn&#39;).addEventListener(&#39;click&#39;, throttle(function (numb) { console.log(&#39;fetching&#39;); },1000)); document.getElementById(&#39;inputBar&#39;).addEventListener(&#39;input&#39;, debounce(function (numb) { console.log(&#39;searching&#39;); },1000)); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; XMLHttpRequestå¸¸ç”¨æ–¹æ³•ï¼š open(method, url, [async, user, password])åˆå§‹åŒ–ï¼Œasync(false/true)æ§åˆ¶åŒæ­¥/å¼‚æ­¥ send([body])å‘é€è¯·æ±‚ abort()ä¸­æ­¢è¯·æ±‚ setRequestHeader(name, value)è®¾ç½®è¯·æ±‚å¤´ å¸¸ç”¨å±æ€§ï¼š status: 404/200â€¦ statusText: Not Found/OKâ€¦ responseType: å“åº”æ ¼å¼ readyStateï¼š çŠ¶æ€ withCredentials: è·¨åŸŸè®¾ç½® UNSENT = 0; // åˆå§‹çŠ¶æ€ OPENED = 1; // open è¢«è°ƒç”¨ HEADERS_RECEIVED = 2; // æ¥æ”¶åˆ° response header LOADING = 3; // å“åº”æ­£åœ¨è¢«åŠ è½½ï¼ˆæ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼‰ DONE = 4; // è¯·æ±‚å®Œæˆ å¸¸ç”¨ç›‘å¬äº‹ä»¶ï¼š onload onerror onprogress é¢˜ç›®const a = [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt); // æ•°ç»„aä¸­çš„&#39;1&#39;è½¬åŒ–ä¸º10è¿›åˆ¶ã€‚ console.log(a); // [1, NaN, NaN] // mapçš„ä¸‰ä¸ªå‚æ•°(item,index,array) /* parseInt(string, radix) å½“radixç­‰äº0æˆ–è€…undefinedæˆ–è€…æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œå¦‚æœstringä»¥&#39;0x&#39;æˆ–è€…&#39;&#39;0X&#39;å¼€å¤´ï¼Œåˆ™radix=16 ä»¥&#39;0&#39;å¼€å¤´ï¼Œæ ¹æ®å®é™…æƒ…å†µradix=10/8ã€‚ */ const users = [ { name: &#39;Alan&#39;, age: 19 }, { name: &#39;Bob&#39;, age: 25 } ]; const userList = users.sort((a, b) =&gt; b.age-a.age); // æ ¹æ®å¹´é¾„è¿›è¡Œæ’åºï¼Œæ³¨æ„ï¼šsortä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„ function isSameLetter(a, b) { a = a.toString().toLowerCase(); b = b.toString().toLowerCase(); return a.split(&#39;&#39;).sort().join(&#39;&#39;) === b.split(&#39;&#39;).sort().join(&#39;&#39;); } console.log(isSameLetter(&#39;176as&#39;, &#39;a17s6&#39;)); //åˆ¤æ–­ä¸¤è€…æ˜¯å¦æ˜¯ç”±ç›¸åŒçš„å­—æ¯ç»„æˆï¼Œé¡ºåºå¯ä»¥ä¸ä¸€æ · CSStranslateå’Œä½¿ç”¨ç»å¯¹å®šä½çš„åŒºåˆ«translateä¼šå æ®åŸæ¥çš„ä½ç½®ï¼Œç»å¯¹å®šä½ä¼šè„±ç¦»æ–‡æ¡£æµã€‚ BFCæ¦‚å¿µï¼šå¾ˆæ¨¡ç³ŠæŠ½è±¡ï¼Œæ˜¯é¡µé¢ä¸Šä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ åˆ›å»ºæ–¹å¼ï¼š æ ¹å…ƒç´  floatä¸ä¸ºnone position: absolute/fixed display: inline-block/table-cell overflowä¸ä¸ºvisible å¼¹æ€§ç›’å­ é€‰æ‹©å™¨ä¼˜å…ˆçº§!important &gt; è¡Œå†…æ ·å¼&gt;IDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾ &gt; é€šé…ç¬¦ &gt; ç»§æ‰¿ å‚ç›´å±…ä¸­&lt;div class=&quot;outer&quot;&gt; &lt;div class=&quot;inner&quot;&gt;&lt;/div&gt; &lt;/div&gt; table-cell .outer { width: 400px; height: 400px; background: aqua; display: table-cell; vertical-align: middle; text-align: center; } .inner { width: 100px; height: 100px; background: brown; display: inline-block; } flexå¸ƒå±€ ç»å¯¹å®šä½ å·²çŸ¥å­å…ƒç´ å®½é«˜æœªçŸ¥å­å…ƒç´ å®½é«˜margin.outer { position: relative; } .inner { position: absolute; left: 50%; top: 50%; margin-left: -50px; /* å®½åº¦ä¸€åŠ */ margin-top: -50px; /* é«˜åº¦ä¸€åŠ */ }.outer { position: relative; } .inner { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }.outer { position: relative; } .inner { position: absolute; left: 0; right: 0; top: 0; bottom: 0; margin: auto; } ç½‘ç»œä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å‘ç”Ÿäº†ä»€ä¹ˆ æµè§ˆå™¨æŸ¥æ‰¾å½“å‰URLæ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¹¶æ¯”è¾ƒç¼“å­˜æ˜¯å¦è¿‡æœŸ æ ¹æ®DNSè§£æå¾—åˆ°IPåœ°å€ å»ºç«‹TCPè¿æ¥ï¼ˆ3æ¬¡æ¡æ‰‹ï¼‰ HTTPå‘è¯·æ±‚ æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›æ•°æ® æ¸²æŸ“é¡µé¢ï¼Œæ„å»ºDOMæ ‘ å…³é—­TCPè¿æ¥ï¼ˆ4æ¬¡æŒ¥æ‰‹ï¼‰ å¸¸ç”¨çŠ¶æ€ç  åˆ†ç±» åˆ†ç±»æè¿° 1** ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 2** æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç† 3** é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 4** å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 5** æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ çŠ¶æ€ç  æè¿° 200 è¯·æ±‚æˆåŠŸ 204 æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›å†…å®¹ 301 æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿ 302 ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI 304 æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå¤´ä¿¡æ¯æŒ‡å‡ºå®¢æˆ·ç«¯å¸Œæœ›åªè¿”å›åœ¨æŒ‡å®šæ—¥æœŸä¹‹åä¿®æ”¹çš„èµ„æº 400 å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£ 401 è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯ 403 æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚ 404 æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚é€šè¿‡æ­¤ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯è®¾ç½®â€æ‚¨æ‰€è¯·æ±‚çš„èµ„æºæ— æ³•æ‰¾åˆ°â€çš„ä¸ªæ€§é¡µé¢ 500 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ ç½‘ç»œä¸ƒå±‚åè®®å¼•ç”¨ç½‘ä¸Šçš„ä¸€å¼ å›¾ï¼Œå¦‚ä¾µæƒè¯·è”ç³»æˆ‘åˆ é™¤ğŸ˜‚ å¼•è‡ªç»´åŸºç™¾ç§‘TCP/IPåè®®æ—æ˜¯ä¸€ä¸ªç½‘ç»œé€šä¿¡æ¨¡å‹ï¼Œä»¥åŠä¸€æ•´ä¸ªç½‘ç»œä¼ è¾“åè®®å®¶æ—ï¼Œä¸ºäº’è”ç½‘çš„åŸºç¡€é€šä¿¡æ¶æ„ã€‚è¯¥åè®®å®¶æ—çš„ä¸¤ä¸ªæ ¸å¿ƒåè®®ï¼šTCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒIPï¼ˆç½‘é™…åè®®ï¼‰ï¼Œä¸ºè¯¥å®¶æ—ä¸­æœ€æ—©é€šè¿‡çš„æ ‡å‡†ã€‚è¿™ä¸ªåè®®æ—ç”±äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„è´Ÿè´£ç»´æŠ¤ã€‚ TCPï¼ˆTransmission Control Protocol ä¼ è¾“æ§åˆ¶åè®®ï¼‰:é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªå…¨åŒå·¥çš„é€šä¿¡ï¼Œåœ¨æ•°æ®ä¼ é€ä¹‹å‰æŠŠæ•°æ®åˆ†å‰²æˆIPåŒ…ï¼Œåœ¨åˆ°è¾¾æœåŠ¡å™¨æ—¶å†å°†ä»–ä»¬é‡ç»„ã€‚ IPï¼ˆInternet Protocol ç½‘é™…åè®®ï¼‰:IPè´Ÿè´£å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„é€šä¿¡ï¼ŒIPè´Ÿè´£åœ¨å› ç‰¹ç½‘ä¸Šå‘é€å’Œæ¥å—æ•°æ®åŒ…ã€‚é€šè¿‡IPï¼Œæ•°æ®è¢«åˆ†å‰²æˆå°çš„ç‹¬ç«‹çš„åŒ…ï¼Œç„¶åé€šè¿‡äº’è”ç½‘åœ¨è®¡ç®—æœºä¹‹é—´ä¼ é€ã€‚ HTTPHTTP(HyperText Transfer Protocol)ï¼ŒåŸºäºTCPå®ç°çš„åº”ç”¨å±‚åè®®ã€‚HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œå³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¸ç”¨å»ºç«‹æŒä¹…çš„é“¾æ¥ï¼Œå½“å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡ç«¯è¿”å›å“åº”æ—¶ï¼Œè¿æ¥å°±è¢«å…³é—­äº†ã€‚ å½“è¯·æ±‚ä¸€ä¸ªurlæ—¶www.baidu.comï¼Œé¦–å…ˆDNSè§£æå‡ºè¯¥åœ°å€å¯¹åº”çš„IPåœ°å€ï¼Œç„¶åå°†ç›¸å…³ä¿¡æ¯å°è£…æˆä¸€ä¸ªHTTPè¯·æ±‚æ•°æ®åŒ…ã€‚ç„¶åTCPï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸåå‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”å›æ¥åï¼Œå…³é—­TCPè¿æ¥ã€‚å¦‚æœæµè§ˆå™¨æˆ–æœåŠ¡å™¨åœ¨å¤´éƒ¨åŠ å…¥äº†Connection:keep-aliveï¼Œé‚£ä¹ˆTCPåœ¨å‘é€å®Œä¿¡æ¯åä»ç„¶ä¿å­˜è¿æ¥ï¼Œè¿™æ ·å¯ä»¥å‡å°‘TCPè¿æ¥æ¬¡æ•°ï¼Œèƒ½æå‡æ€§èƒ½å’ŒæœåŠ¡å™¨ååç‡ã€‚ ç¼ºç‚¹ï¼š é€šè¡Œä½¿ç”¨æ˜æ–‡ï¼Œä¸å®‰å…¨ ä¸éªŒè¯èº«ä»½ï¼Œå¯èƒ½é­é‡ä¼ªè£… æ— æ³•éªŒè¯æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½é­é‡ç¯¡æ”¹ å‰é¢æåˆ°äº†HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œé‚£å¦‚ä½•è®©å®ƒæ‹¥æœ‰çŠ¶æ€ï¼Ÿ sessionå’Œcookie cookie(key/valueå½¢å¼): å®¢æˆ·ç«¯è¿”å›cookieé™„åœ¨å“åº”å¤´ä¸­çš„Set-Cookieæˆ–è€…Set-Cookie2ï¼Œcookieä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è¿åŒcookieå‘é€ç»™æœåŠ¡ç«¯ cookieçš„åŒæºå’Œè·¨åŸŸ: cookieåªå…³æ³¨åŸŸåï¼Œå¿½ç•¥åè®®å’Œç«¯å£ï¼Œæ„æ€æ˜¯åè®®æˆ–è€…ç«¯å£ä¸åŒä¸å±äºè·¨åŸŸ sessionæœºåˆ¶ï¼ˆæœåŠ¡ç«¯ç»´æŠ¤çš„ï¼‰ï¼ŒåŸºäºcookieå·¥ä½œï¼š sessionå’ŒsessionIdï¼ˆè¿”å›ç»™å®¢æˆ·ç«¯ï¼‰ å½“å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ç«¯æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦åŒ…æ‹¬sessionIdã€‚å¦‚æœæœ‰ï¼Œé€šè¿‡sessionIdæ£€ç´¢å‡ºå¯¹åº”sessionè¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚å¦‚æœæ²¡æœ‰sessionIdï¼Œåˆ›å»ºä¸€ä¸ªsessionä»¥æ­¤å¯¹åº”çš„sessionIdé€šè¿‡cookieå­˜åœ¨å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¹‹åè®¿é—®æœåŠ¡ç«¯æ—¶é€šè¿‡è¿™ä¸ªsessionIdç»´æŠ¤HTTPçŠ¶æ€ã€‚ HTTPSHTTPS = HTTP + TLS/SSL ç»è¿‡åŠ å¯†çš„HTTPï¼Œæ›´åŠ å®‰å…¨ï¼Œåˆ©ç”¨SSL/TLSåŠ å¯†æ•°æ®åŒ…ï¼› TLS/SSL:å®‰å…¨ä¼ è¾“å±‚åè®®Transport Layer Security TSL/SSLæ¶‰åŠåˆ°ä¸‰ç§ç®—æ³•ï¼š æ•£åˆ—å‡½æ•°Hashï¼šMD5ã€SHA1ã€SHA256ï¼ˆå‡½æ•°å•å‘ä¸å¯é€†ï¼ŒåŠ å¯†ä¼ è¾“ä¿¡æ¯ä»¥åŠä¿¡æ¯æ‘˜è¦ï¼‰ å¯¹ç§°åŠ å¯†ï¼šAES-CBCã€DESã€3DESã€AES-GCM éå¯¹ç§°åŠ å¯†ï¼šRSAï¼ˆåˆ†å…¬é’¥å’Œç§é’¥ï¼‰ TSLå·¥ä½œæ–¹å¼ï¼š é¦–å…ˆä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†è¿›è¡Œé€šä¿¡ï¼ŒæœåŠ¡ç«¯è¿”å›å…¬é’¥å¹¶åå•†ä½¿ç”¨å¯¹ç§°åŠ å¯†åçš„å¯†é’¥å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚ RSAå­˜åœ¨çš„éšæ‚£ï¼š æ— æ³•ç¡®ä¿æœåŠ¡å™¨èº«ä»½çš„åˆæ³•æ€§ï¼ˆå› ä¸ºå…¬é’¥ä¸åŒ…å«æœåŠ¡å™¨ä¿¡æ¯ï¼‰ï¼š ä¾‹å¦‚ï¼š Cï¼ˆå®¢æˆ·ç«¯ï¼‰å’ŒSï¼ˆæœåŠ¡ç«¯ï¼‰é€šä¿¡æ—¶ï¼ŒHï¼ˆåŠ«æŒè€…ï¼‰æˆªè·äº†Sä¸Cçš„é€šä¿¡ï¼ŒHå°†è‡ªå·±çš„å…¬é’¥pub_Hç»™äº†Cï¼Œå½“Cå‘Så‘é€è¯·æ±‚æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä½¿ç”¨pub_HåŠ å¯†çš„ï¼Œè¿™æ ·Hå°±èƒ½è·å–åˆ°Cå‘é€çš„æ¶ˆæ¯äº†ã€‚è¿™æ ·åŸæœ¬å±äºCå’ŒSçš„é€šä¿¡ç°åœ¨å°±å˜æˆäº†Cå’ŒHçš„é€šè¡Œäº†ã€‚ è§£å†³æ–¹æ¡ˆï¼šå¼•å…¥ç¬¬ä¸‰æ–¹è®¤è¯æœºæ„ï¼ŒéªŒè¯å…¬é’¥æ‹¥æœ‰è€…çš„ä¿¡æ¯ç„¶åé¢å‘è¯ä¹¦ï¼Œç®€ç§°PKIä½“ç³» - Så‘ç¬¬ä¸‰æ–¹æœºæ„æäº¤å…¬é’¥å’Œå…¬å¸ç›¸å…³ä¿¡æ¯ - CAï¼ˆå³ä¸‰æ–¹è®¤è¯æœºæ„ï¼‰é€šè¿‡ä¸€ç³»åˆ—æ¸ é“éªŒè¯å®¡æ ¸Sä¿¡æ¯çš„æ­£ç¡®æ€§ - å®¡æ ¸é€šè¿‡åï¼ŒCAå‘Sç­¾å‘è¯ä¹¦ï¼Œè¯ä¹¦ä¿¡æ¯åŒ…æ‹¬ï¼šSçš„å…¬é’¥ã€Så…¬å¸ç›¸å…³ä¿¡æ¯ã€ç­¾å‘æœºæ„CAçš„ä¿¡æ¯ã€æœ‰æ•ˆæ—¶é—´ã€è¯ä¹¦åºåˆ—å·ï¼ˆå‰é¢è¿™äº›ä¿¡æ¯å…¨æ˜¯æ˜æ–‡æ˜¾ç¤ºï¼‰ã€‚ç­¾åï¼ˆä½¿ç”¨æ•£åˆ—å‡½æ•°è®¡ç®—å…¬å¼€çš„æ˜æ–‡ä¿¡æ¯çš„ä¿¡æ¯æ‘˜è¦ï¼Œç„¶åç”¨CAçš„ç§é’¥å¯¹ä¿¡æ¯æ‘˜è¦åŠ å¯†ï¼‰ - Cå‘Så‘é€è¯·æ±‚ï¼ŒSè¿”å›è¯ä¹¦ - Cè¯»å–è¯ä¹¦ä¸­çš„æ˜æ–‡ä¿¡æ¯ï¼Œé‡‡ç”¨ç›¸åŒçš„æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°ä¿¡æ¯æ‘˜è¦ï¼Œç„¶ååˆ©ç”¨CAå¯¹åº”çš„å…¬é’¥å¯¹ç­¾åè¿›è¡Œè§£å¯†ï¼Œå¯¹æ¯”è¯ä¹¦ä¸­çš„ä¿¡æ¯æ‘˜è¦æ¥éªŒè¯è¯ä¹¦/å…¬é’¥çš„åˆæ³•æ€§ã€‚è·¨åŸŸéåŒæºè¯·æ±‚ï¼Œå‡ä¸ºè·¨åŸŸã€‚åè¯è§£é‡Šï¼šåŒæº â€”â€” å¦‚æœä¸¤ä¸ªé¡µé¢æ‹¥æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ï¼Œç«¯å£ï¼ˆportï¼‰å’Œä¸»æœºï¼ˆhostï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé¡µé¢å°±å±äºåŒä¸€ä¸ªæºï¼ˆoriginï¼‰ã€‚ jsonp: é€šè¿‡scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç° CORS: æœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originå’ŒAccess-Control-Allow-Credentialsä¸ºtrue Vueè®¾ç½®è·¨åŸŸï¼š vue.http.options.credentials = true Nginxä»£ç† æ¡†æ¶å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š åŸºäºajaxåŠ è½½æ•°æ®ï¼Œæ— éœ€åˆ·æ–°é¡µé¢ï¼Œç”¨æˆ·ä½“éªŒå¥½ å‰åç«¯åˆ†ç¦»ï¼Œåç«¯ä»£ç å¯ä»¥åº”ç”¨åˆ°å¤šç«¯ å‡è½»æœåŠ¡å™¨å‹åŠ› ç¼ºç‚¹ï¼š ä¸åˆ©äºSEOï¼Œå¯ä»¥ä½¿ç”¨SSRè§£å†³ é¦–å±åŠ è½½é€Ÿåº¦æ…¢ ä¸æ”¯æŒæµè§ˆå™¨å‰è¿›åé€€åŠŸèƒ½","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"é¢è¯•é€ è½®","slug":"å‰ç«¯/é¢è¯•é€ è½®","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%80%A0%E8%BD%AE/"}],"tags":[{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://alanwang.site/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"}]},{"title":"webpack4.0è¿›é˜¶ï¼ˆä¸€ï¼‰","slug":"webpack4.0è¿›é˜¶ï¼ˆä¸€ï¼‰","date":"2020-05-25T06:43:46.000Z","updated":"2020-05-30T09:20:00.000Z","comments":true,"path":"posts/84d16999/","link":"","permalink":"https://alanwang.site/posts/84d16999/","excerpt":"webpack4.0è¿›é˜¶å­¦ä¹ ","text":"webpack4.0è¿›é˜¶å­¦ä¹  Tree ShakingæŒ‰éœ€æ‰“åŒ…æ–‡ä»¶index.jsmoment.jsimport { used } from './moment'; used();export function used() { console.log('used function'); } export function notUsed() { console.log('notUsed funtion'); } ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬åªä½¿ç”¨åˆ°äº†momentä¸­çš„usedï¼Œä½†æ˜¯æ‰“åŒ…åè¿åŒnotUsedä¸€èµ·è¢«æ‰“åŒ…è¿›äº†main.jsæ–‡ä»¶ä¸­ Tree Shakingå¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æ³¨æ„ï¼š1.Tree Shakingåªåœ¨productionæ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚2.åªæ”¯æŒES Module è¯­æ³•ï¼ˆimportï¼‰ï¼Œä¸æ”¯æŒCommonJs package.jsonwebpack.config.js\"sideEffects\": false, æˆ–è€… \"sideEffects\": [ \"**/*.css\", \"**/*.scss\", \"./esnext/index.js\", \"./esnext/configure.js\" ], æ„æ€æ˜¯å¯¹è¿™äº›æ–‡ä»¶ä¸è¿›è¡Œtree shakingå¤„ç† ä¾‹å¦‚ import './common.css'; è™½ç„¶æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨common.cssçš„ä¸€äº›ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒèµ·åˆ°äº†æ ·å¼çš„ä½œç”¨çš„ï¼Œå¦‚æœä¸åœ¨sideEffectä¸­è®¾ç½®çš„è¯ï¼Œwebpackæ˜¯ä¸ä¼šå¯¹å®ƒè¿›è¡Œæ‰“åŒ…çš„ã€‚optimization: { usedExports: true, } // productionæ¨¡å¼æ˜¯ä¼šè‡ªåŠ¨é…ç½®å¥½ï¼Œå¯å†™å¯ä¸å†™ å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶ç”±äºå¼€å‘ç¯å¢ƒéœ€è¦è°ƒè¯•ä»£ç æ‰€ä»¥ä¼šå¼•å…¥devServerä¹‹ç±»çš„æ’ä»¶ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†æ’ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ˜¯ä¸éœ€è¦ä½¿ç”¨åˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒåˆ†åˆ«è®¾ç½®ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚ é¦–å…ˆå®‰è£…æ’ä»¶webpack-mergeç”¨æ¥å°†æ‹¼æ¥commoné…ç½® npm i webpack-merge -Dç›®å½•å¦‚ä¸‹ï¼š webpacktest â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â”œâ”€â”€ index.html â”‚ â”œâ”€â”€ index.js â”‚ â””â”€â”€ moment.js â”œâ”€â”€ webpack.common.js â”œâ”€â”€ webpack.dev.js â””â”€â”€ webpack.prod.jswebpack.common.js const path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, module: { rules: [ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† loader: &#39;babel-loader&#39; }, { test: /\\.css$/, use: [&#39;style-loader&#39;, &#39;css-loader&#39;], }, ], }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;[name].js&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, optimization: { usedExports: true, }, plugins: [ new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39;, }), new CleanWebpackPlugin(), ], }; webpack.dev.js const merge = require(&#39;webpack-merge&#39;); const commonConfig = require(&#39;./webpack.common.js&#39;); const devConfig = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction devtool: &#39;cheap-module-eval-source-map&#39;, devServer: { contentBase: &#39;./dist&#39;, open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ port: 3001, // æœåŠ¡å™¨ç«¯å£å· hot: true, // å¼€å¯HRM } }; module.exports = merge(commonConfig, devConfig); webpack.prod.js const merge = require(&#39;webpack-merge&#39;); const commonConfig = require(&#39;./webpack.common.js&#39;); const prodConfig = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction devtool: &#39;cheap-module-source-map&#39; }; module.exports = merge(commonConfig, prodConfig); npm script &quot;scripts&quot;: { &quot;dev&quot;: &quot;webpack-dev-server --config webpack.dev.js&quot;, &quot;build&quot;: &quot;webpack --config webpack.prod.js&quot; }, é…ç½®å¥½åï¼Œå¼€å‘ç¯å¢ƒä½¿ç”¨npm run devè¿›è¡Œæ‰“åŒ…ï¼Œç”Ÿäº§ç¯å¢ƒç”¨npm run buildè¿›è¡Œæ‰“åŒ…ã€‚ ä»£ç åˆ†å‰²ä»£ç åˆ†å‰²æœ‰åˆ©äºæ€§èƒ½çš„ä¼˜åŒ–ã€‚ä½•ä¸ºä»£ç åˆ†å‰²ï¼š æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘åœ¨index.jsä¸­ä½¿ç”¨åˆ°äº†ä¸€äº›å…¬å…±ä»£ç åº“/å·¥å…·åº“ï¼ˆlodashï¼‰ï¼Œindex.jsä¸­çš„ä»£ç æ˜¯ä¾èµ–äºlodashä¸­çš„ä¸€äº›å·¥å…·çš„ã€‚å½“æˆ‘ä»¬æ‰“åŒ…æ—¶ï¼Œlodashä¹Ÿæ˜¯è¢«æ‰“åŒ…åˆ°äº†main.jsæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”ä¸€æ—¦index.jsä¸­çš„ä¸šåŠ¡ä»£ç æ”¹å˜äº†ï¼Œè¿åŒlodashä¹Ÿè¦ä¸€åŒé‡æ–°æ‰“åŒ…åŠ è½½ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬æ˜¯ä¸ä¼šå»æ”¹åŠ¨lodashè¿™ç±»å·¥å…·åº“çš„ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä»£ç åˆ†å‰²æ¥å°†ä¸šåŠ¡ä»£ç å’Œlodashè¿›è¡Œåˆ†å‰²ï¼Œè¿™æ ·ä¸‹æ¬¡å†ä¿®æ”¹ä¸šåŠ¡ä»£ç æ—¶ï¼Œæˆ‘ä»¬å°±æ— éœ€é‡æ–°åŠ è½½lodashçš„å†…å®¹äº†ã€‚ å…ˆå®‰è£…lodash npm i lodash -Sè¿™é‡Œä¸ºäº†ä¾¿äºæŸ¥çœ‹æ‰“åŒ…åçš„æ–‡ä»¶å†…å®¹ï¼Œæˆ‘ä»¬åŠ ä¸Šä¸€æ¡npm script&quot;start&quot;: &quot;webpack --config webpack.dev.js&quot;(ç”±äºdevServerä¸ä¼šç”Ÿæˆæ‰“åŒ…å†…å®¹) index.js import _ from &#39;lodash&#39;; console.log(_.compact([0, 1, false, 2, &#39;&#39;, 3])); npm run startæ‰“åŒ…ï¼Œå‘ç°æ‰“åŒ…åçš„main.jsæ–‡ä»¶ä¸­åŒ…å«lodashå†…å®¹ã€‚ é‚£å¦‚ä½•å®ç°ä»£ç åˆ†å‰²å‘¢ï¼Œåªéœ€é…ç½®webpack.common.jsæ–‡ä»¶ optimization: { splitChunks: { chunks: &#39;all&#39; } } å†æ¬¡æ‰“åŒ…ï¼Œå‘ç°æ‰“åŒ…åçš„æ–‡ä»¶ä¸­å¤šäº†ä¸€ä¸ªvendor~main.jsï¼Œwebpackè‡ªåŠ¨å°†lodashå†…å®¹æ‰“åŒ…è¿›å»äº†ï¼Œè€Œmain.jsæ–‡ä»¶ä¸­å°±æ²¡æœ‰äº†lodashçš„å†…å®¹äº†ã€‚ dist â”œâ”€â”€ index.html â”œâ”€â”€ main.js â””â”€â”€ vendors~main.jsä¸Šé¢ä»‹ç»çš„æ—¶åŒæ­¥ä»£ç åˆ†å‰²ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹å¼‚æ­¥ä»£ç åˆ†å‰²index.jsï¼Œå¯ä»¥å®ç°æ‡’åŠ è½½ async function createElement() { const { default: _ } = await import(/* webpackChunkName: &quot;lodash&quot; */&#39;lodash&#39;); const element = document.createElement(&#39;div&#39;); element.innerHTML = _.compact([0, 1, false, 2, &#39;&#39;, 3]); return element; } document.addEventListener(&#39;click&#39;, () =&gt; { createElement().then(element =&gt; { document.body.appendChild(element); }) }) /* webpackChunkName: &quot;lodash&quot; */è®¾ç½®æ‰“åŒ…åçš„æ–‡ä»¶åä¸ºvendors~lodash.jsï¼Œæ‰“å¼€æµè§ˆå™¨å¯ä»¥çœ‹åˆ°åªæœ‰ç‚¹å‡»é¡µé¢æ—¶ï¼Œæ‰ä¼šå¼•å…¥vendors~lodash.jsï¼Œå®ç°äº†æ‡’åŠ è½½ã€‚ æ‰“åŒ…åçš„ç›®å½• dist â”œâ”€â”€ index.html â”œâ”€â”€ main.js â”œâ”€â”€ vendors~lodash.js â””â”€â”€ vendors~main.jså½“ç„¶å¯ä»¥é€šè¿‡å…¶ä»–é…ç½®æ¥è®¾ç½®æ‰“åŒ…åçš„æ–‡ä»¶åç§°ã€‚ ä»£ç åˆ†å‰²æ›´å¤šé…ç½® æ‰“åŒ…åˆ†æå·¥å…·é¦–å…ˆè¦æ‹¿åˆ°status.jsonæ–‡ä»¶ï¼Œå…·ä½“è·å–æ–¹å¼åªéœ€é…ç½®npm scriptå³å¯ &quot;start&quot;: &quot;webpack --profile --json &gt; status.json --config webpack.dev.js&quot;, æ‰“åŒ…åä¼šç”Ÿæˆstatus.jsonæ–‡ä»¶ã€‚ ç„¶åä½¿ç”¨å®˜ç½‘æä¾›çš„ä¸€äº›å·¥å…·å°±å¯ä»¥å¯è§†åŒ–åˆ†ææ‰“åŒ…ç»“æœäº†ã€‚ åœ¨å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬è¦å°½å¯èƒ½çš„ä½¿ç”¨å¼‚æ­¥å¼•å…¥ï¼Œè¿™æ ·å¯ä»¥æé«˜ä»£ç çš„ä½¿ç”¨ç‡ï¼Œæå‡æ€§èƒ½ï¼Œå‡å°‘åŠ è½½ä¸å¿…è¦çš„ä»£ç ã€‚ æŸ¥çœ‹ä»£ç ä½¿ç”¨ç‡çš„æ–¹æ³•ï¼Œæµè§ˆå™¨æ§åˆ¶å°æŒ‰ä¸‹ctrl+shift+pï¼Œè¾“å…¥show coverage ä»£ç ä¼˜åŒ–ç°åœ¨æœ‰ä¸€ä¸ªä¼˜åŒ–åœºæ™¯ï¼Œæˆ‘æœ‰ä¸€ä¸ªç™»å½•æŒ‰é’®ï¼Œå½“ç‚¹å‡»æŒ‰é’®åå¼¹å‡ºç™»å½•æ¡†ã€‚è¿™é‡Œçš„ä¼˜åŒ–æ€è·¯æ˜¯ï¼Œé¡µé¢åŠ è½½æ—¶åªåŠ è½½ç™»å½•æŒ‰é’®çš„ä»£ç ï¼Œå½“æŒ‰é’®ä»£ç åŠ è½½å®Œåã€‚åˆ©ç”¨ç©ºé—²æ—¶é—´å»åŠ è½½ç™»å½•æ¡†çš„ä»£ç ã€‚è¿™æ ·æ—¢å¯ä»¥ä¼˜åŒ–é¦–å±åŠ è½½é€Ÿåº¦ï¼Œè¿˜å¯ä»¥è§£å†³å› ä½¿ç”¨æ‡’åŠ è½½ç™»å½•æ¡†ï¼ˆä¹Ÿå°±æ˜¯ç‚¹å‡»æŒ‰é’®åå†å»åŠ è½½ï¼‰è€Œå¸¦æ¥çš„ç”¨æˆ·ä½“éªŒè¾ƒå·®çš„é—®é¢˜ã€‚ å…·ä½“ä»£ç ï¼š(åªéœ€è¦åœ¨importä¸­åŠ å…¥/* webpackPrefetch: true */) index.js document.addEventListener(&#39;click&#39;, () =&gt; { import(/* webpackPrefetch: true */&#39;./loginModal.js&#39;).then(({default: login}) =&gt; { login(); }) }) loginModal.js export default function () { alert(&#39;loginModal&#39;); } cssæ–‡ä»¶å¤„ç†MiniCssExtractPlugin This plugin should be used only on production builds without style-loader in the loaders chain, especially if you want to have HMR in development. å®˜æ–¹æ¨èä¸è¦åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå› ä¸ºä¸æ”¯æŒHMRï¼Œä¸åˆ©äºæé«˜å¼€å‘æ•ˆç‡ã€‚ npm install --save-dev mini-css-extract-pluginindex.js import &#39;./style.css&#39;; style.css body { background: #e65; } webpack.common.jswebpack.dev.jswebpack.prod.jspackage.jsonconst path = require('path'); const HtmlWebpackPlugin = require('html-webpack-plugin'); const { CleanWebpackPlugin } = require('clean-webpack-plugin'); module.exports = { mode: 'development', // é»˜è®¤ä¸ºproduction entry: { main: './src/index.js', // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, module: { rules: [ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† loader: 'babel-loader', }, ], }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: '[name].js', chunkFilename: '[name].chunk.js', path: path.resolve(__dirname, 'dist'), }, plugins: [ new HtmlWebpackPlugin({ template: './src/index.html', }), new CleanWebpackPlugin(), ], optimization: { usedExports: true, splitChunks: { chunks: 'all', }, }, };const merge = require('webpack-merge'); const commonConfig = require('./webpack.common.js'); const devConfig = { mode: 'development', devtool: 'cheap-module-eval-source-map', devServer: { contentBase: './dist', open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ port: 3001, // æœåŠ¡å™¨ç«¯å£å· hot: true, // å¼€å¯HRM }, module: { rules: [ { test: /\\.css$/, use: ['style-loader', 'css-loader'], } ], }, }; module.exports = merge(commonConfig, devConfig);const merge = require('webpack-merge'); const commonConfig = require('./webpack.common.js'); const MiniCssExtractPlugin = require('mini-css-extract-plugin'); const prodConfig = { mode: 'development', devtool: 'cheap-module-source-map', module: { rules: [ { test: /\\.css$/, use: [MiniCssExtractPlugin.loader, 'css-loader'], } ], }, plugins: [ new MiniCssExtractPlugin({}) ] }; module.exports = merge(commonConfig, prodConfig);\"sideEffects\": [ \"*.css\" ], ä¹Ÿå¯ä»¥ä½¿ç”¨optimize-css-assets-webpack-pluginæ¥å‹ç¼©cssä»£ç  é…ç½®outputè§£å†³æµè§ˆå™¨cacheé—®é¢˜æµè§ˆå™¨æ˜¯æœ‰ç¼“å­˜åŠŸèƒ½çš„ï¼Œåœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡åŠ è½½main.jsåï¼Œæµè§ˆå™¨ä¼šä¿æœ‰main.jsçš„ç¼“å­˜ï¼Œä¸‹æ¬¡å†åŠ è½½æ—¶å°±ç›´æ¥ä»ç¼“å­˜è·å–äº†ã€‚ä½†æ˜¯å½“æˆ‘ä»¬ä¸‹æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼ˆä¿®æ”¹äº†main.jsæ–‡ä»¶ï¼‰ï¼Œæµè§ˆå™¨è¿˜æ˜¯ä½¿ç”¨ä»¥å‰ç¼“å­˜çš„main.jså†…å®¹ï¼Œæ‰€ä»¥æ˜¾ç¤ºçš„å†…å®¹å¹¶ä¸æ˜¯æœ€æ–°çš„ã€‚ å¤„ç†æ–¹æ³• è®¾ç½®outputçš„filenameï¼Œæ·»åŠ [contenthash]å ä½ç¬¦ã€‚ output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;[name].[contenthash].js&#39;, chunkFilename: &#39;[name].[contenthash].js&#39;, }, shimmingçœ‹ä¸€ä¸ªåœºæ™¯ï¼Œå‡è®¾library.jsæ˜¯ä¸€ä¸ªæ¯”è¾ƒè€çš„ç¬¬ä¸‰æ–¹åº“ã€‚ index.jslibrary.jsimport './style.css'; import { createText } from './library'; createText();// è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ä¸­ä½¿ç”¨åˆ°äº†loadshï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¼•å…¥lodash export function createText() { document.getElementById('root').innerHTML = _.compact([0, 1, false, 2, '', 3]); } npm run devæ‰“åŒ…åæµè§ˆå™¨æŠ¥é”™ Uncaught ReferenceError: _ is not defined å¦‚æœlibrary.jsæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„åº“é‚£è¿˜å¥½è¯´ï¼Œç›´æ¥è‡ªå·±æ‰‹åŠ¨å¼•å…¥lodashå°±å¯ä»¥äº†ã€‚ä½†æ˜¯ç”±äºæ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œæºæ–‡ä»¶æ˜¯åœ¨node_moduleä¸­çš„ï¼Œä¸åˆ©äºä¿®æ”¹ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨shimmingæ¥è§£å†³äº†ã€‚ é…ç½®webpack.common.js // è®°å¾—å¼•å…¥const webpack =require(&#39;webpack&#39;); // ä¸‹é¢ä»£ç çš„æ„æ€ï¼šå½“é‡åˆ°_æ—¶ï¼Œä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ·»åŠ ä¸‹é¢ä»£ç  // import _ from &#39;lodash&#39; plugins: [ new webpack.ProvidePlugin({ _: &#39;lodash&#39; }) ], æ›´å¤šé…ç½®å‚è€ƒshimming ç»†ç²’åº¦ shimming è¯•ç€åœ¨index.jsä¸­æ‰“å°å‡ºthisï¼Œå‘ç°thiså…¶å®æ˜¯æŒ‡å‘æ¨¡å—æœ¬èº«ã€‚é‚£å¦‚ä½•æŠŠthisæŒ‡å‘windowå‘¢ï¼Œè¿™é‡Œè¦å€ŸåŠ©imports-loader npm i imports-loader -Dé…ç½®å¥½loader rules: [ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† use: [ { loader: &#39;babel-loader&#39;, }, { loader: &#39;imports-loader?this=&gt;window&#39; } ] }, ] æ€»ç»“ Tree Shakingå¯ä»¥å®ç°å¯¹jsæ–‡ä»¶çš„æŒ‰éœ€æ‰“åŒ…ï¼Œåªåœ¨productionä¸‹ç”Ÿæ•ˆã€‚ ä¸ºç”Ÿäº§å’Œå¼€å‘ç¯å¢ƒåˆ†åˆ«åˆ›å»ºä¸åŒé…ç½®æ–‡ä»¶ã€‚ åˆ©ç”¨ä»£ç åˆ†å‰²å®ç°æ‡’åŠ è½½ï¼ˆåˆ©ç”¨é­”æ³•æ³¨é‡Šï¼‰ã€‚ åˆ©ç”¨status.jsonæ¥åˆ†ææ‰“åŒ…è¿‡ç¨‹ã€‚ å•ç‹¬ç”Ÿæˆcssæ–‡ä»¶ï¼Œå‡å°‘mian.jsä½“ç§¯ã€‚ ä¸ºoutputæ–‡ä»¶è®¾ç½®hashå€¼ï¼Œé˜²æ­¢æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"è®°å½•ç”Ÿæ´»2020/5","slug":"è®°å½•ç”Ÿæ´»2020-5","date":"2020-05-22T14:50:26.000Z","updated":"2020-05-22T14:50:26.000Z","comments":true,"path":"posts/66d3b164/","link":"","permalink":"https://alanwang.site/posts/66d3b164/","excerpt":"è¿™æ˜¯ä¸€ç¯‡è®°å½•5æœˆç”Ÿæ´»çš„ä¸ªäººéšè®°ã€‚ğŸ“","text":"è¿™æ˜¯ä¸€ç¯‡è®°å½•5æœˆç”Ÿæ´»çš„ä¸ªäººéšè®°ã€‚ğŸ“ 2020-05-22ç°åœ¨æ˜¯22:53ï¼Œæˆ‘çš„è®ºæ–‡åˆç¨¿ç»ˆäºä¸Šä¼ å®¡æ ¸äº†ğŸˆï¼ŒæŸ¥é‡ç‡4.8%ã€‚è®°å½•ä¸€ä¸‹ï¼Œåå¤©å°±è¦çº¿ä¸Šç­”è¾©äº†ã€‚","categories":[{"name":"è®°å½•ç”Ÿæ´»","slug":"è®°å½•ç”Ÿæ´»","permalink":"https://alanwang.site/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"},{"name":"2020","slug":"è®°å½•ç”Ÿæ´»/2020","permalink":"https://alanwang.site/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/2020/"}],"tags":[{"name":"è®°å½•ç”Ÿæ´»","slug":"è®°å½•ç”Ÿæ´»","permalink":"https://alanwang.site/tags/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"}]},{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆå››ï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆå››ï¼‰","date":"2020-05-18T02:24:19.000Z","updated":"2020-05-20T07:19:00.000Z","comments":true,"path":"posts/35b500c6/","link":"","permalink":"https://alanwang.site/posts/35b500c6/","excerpt":"webpackçš„devServerçƒ­æ›´æ–°ä»¥åŠHMRå±€éƒ¨çƒ­æ›´æ–°","text":"webpackçš„devServerçƒ­æ›´æ–°ä»¥åŠHMRå±€éƒ¨çƒ­æ›´æ–° DevServerDevServerå¯ä»¥èµ·ä¸€ä¸ªæœ¬åœ°æœåŠ¡å¹¶ä¸”å®ç°ä»£ç çš„çƒ­æ›´æ–°ã€‚å¯ä»¥çœå»æˆ‘ä»¬æ¯æ¬¡æ›´æ–°ä»£ç åé‡å¯æœåŠ¡é¢æ“ä½œã€‚ npm i webpack-dev-server -Dé…ç½®æ–‡ä»¶ package.json &quot;scripts&quot;: { &quot;build&quot;: &quot;webpack&quot;, &quot;start&quot;: &quot;webpack-dev-server&quot; }, webpack.config.js devServer: { contentBase: &#39;./dist&#39;, open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ port: 3001, // æœåŠ¡å™¨ç«¯å£å· }, æˆ‘ä»¬ä¹‹ååªéœ€è¦ä½¿ç”¨npm run startå°±å¯ä»¥æŠŠæœåŠ¡è·‘èµ·æ¥äº†ï¼Œä¹‹ååªè¦æ”¹åŠ¨ä»£ç å°±ä¼šè‡ªåŠ¨æ›´æ–°äº†ï¼Œå¼€å‘æ•ˆç‡æé«˜äº†å¾ˆå¤šæœ‰æ²¡æœ‰ğŸ˜ devServeræ›´å¤šé…ç½®å†…å®¹ HMRå®ç°å±€éƒ¨çƒ­æ›´æ–°HMRï¼ˆHot Module Replacementï¼‰ å½“æˆ‘ä»¬æ›´æ”¹äº†éƒ¨åˆ†æ–‡ä»¶åï¼Œæˆ‘ä»¬å‘ç°webpack-dev-serverå¸®æˆ‘ä»¬é‡æ–°æ¸²æŸ“æ‰€æœ‰å†…å®¹ï¼Œå‡å¦‚æˆ‘åªæ”¹åŠ¨äº†ä¸€å°éƒ¨åˆ†ï¼Œåªæƒ³æ›´æ–°è¿™ä¸€éƒ¨åˆ†å†…å®¹å°±å¯ä»¥ç”¨äº†ä½¿ç”¨HMRæ¥å®ç°äº†ã€‚ è¯´å†å¤šä¸å¦‚çœ‹ä¸€ä¸ªä¾‹å­ index.js import &#39;./index.css&#39;; var root = document.getElementById(&#39;root&#39;); root.innerHTML = &#39;&lt;button id=&quot;btn&quot;&gt;add new block&lt;/button&gt;&#39;; document.getElementById(&#39;btn&#39;).onclick = function() { var newBlock = document.createElement(&#39;p&#39;); newBlock.innerHTML = &#39;new Block&#39;; root.append(newBlock); } index.css p { width: 100px; } p:nth-child(6) { background: red; } è¿™é‡Œä¾‹å­å°±æ˜¯ç‚¹å‡»æŒ‰é’®æ·»åŠ ä¸€ä¸ªpå…ƒç´ ï¼Œç¬¬6ä¸ªpå…ƒç´ æ˜¾ç¤ºä¸ºçº¢è‰²èƒŒæ™¯ è¿™ä¸ªæ—¶å€™æˆ‘è§‰å¾—çº¢è‰²ä¸å¥½çœ‹ï¼Œæƒ³æ¢æˆé»„è‰²ï¼Œä¿®æ”¹ï¼Œä¿å­˜ä¸€æ°”å‘µæˆã€‚ ç»“æœwebpack-dev-serverç»™æˆ‘å…¨éƒ¨é‡æ–°æ¸²æŸ“äº†ï¼Œæˆ‘è¿˜è¦å†ç‚¹6ä¸‹æ‰èƒ½çœ‹åˆ°æ•ˆæœï¼Œè¿™é‡Œå¦‚æœæ˜¯1000ï¼ˆè™½ç„¶ä¸å¤ªå¯èƒ½ï¼‰å‘¢ï¼Œé‚£æˆ‘å²‚ä¸æ˜¯è¦ç‚¹1000ä¸‹ğŸ˜±ã€‚ è¿™ä¸ªæ—¶å€™é…ç½®HRMå°±å¯ä»¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚ åªéœ€è¦å†webpack.config.jsä¸­é…ç½® devServer: { contentBase: &#39;./dist&#39;, // Tell the server where to serve content from open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ port: 3001, // æœåŠ¡å™¨ç«¯å£å· hot: true, // å¼€å¯HRM }, æå®šğŸ˜ï¼Œä¸è¿‡è¿™é‡Œç”±äºæœ‰css-loaderå¸®æˆ‘ä»¬åšäº†ä¸€äº›æ›´æ–°çš„ä»»åŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶æ²¡æœ‰å†™è¿‡å¤šçš„ä»£ç ã€‚é‚£å¦‚æœæ²¡æœ‰css-loaderå¤„ç†é‚£æ€ä¹ˆåŠï¼Ÿä¸‹é¢çœ‹ä¸€ä¸‹å…·ä½“é…ç½®ã€‚ index.jscounter.jsnumber.jsimport Counter from './counter' import Number from './number' Counter(); Number();function Counter() { var root = document.getElementById('root'); var counter = document.createElement('div'); counter.innerHTML = 0; counter.onclick = function () { counter.innerHTML = parseInt(counter.innerHTML, 10) + 1; } root.append(counter); } export default Counter;function Number() { var root = document.getElementById('root'); var data = document.createElement('div'); data.setAttribute('id', 'number'); data.innerHTML = '2000'; root.append(data); } export default Number; å¯ä»¥çœ‹åˆ°å½“æˆ‘ä¸€æ”¹å˜numberï¼Œcounterä¸­çš„çŠ¶æ€åˆé‡æ–°æ¸²æŸ“å˜æˆ0äº†ğŸ˜©ã€‚ è¿™é‡Œæˆ‘ä»¬å°±è¦é€šè¿‡ä¸€éƒ¨åˆ†ä»£ç æ¥å¤„ç†ä¸€ä¸‹äº†ï¼ˆcss-loaderå°±æ˜¯å¸®æˆ‘ä»¬å®Œæˆäº†è¿™éƒ¨åˆ†å·¥ä½œï¼‰ import Counter from &#39;./counter&#39; import Number from &#39;./number&#39; Counter(); Number(); if (module.hot) { // å¦‚æœå¼€å¯HMR module.hot.accept(&#39;./number.js&#39;, () =&gt; { var root = document.getElementById(&#39;root&#39;); root.removeChild(document.getElementById(&#39;number&#39;)); console.log(&#39;number is updated&#39;); Number(); // ä¸€æ—¦number.jsæ–‡ä»¶æ”¹å˜ï¼Œè¿›è¡Œä¸€ç³»åˆ—å¤„ç† }) } HMRè¯¦ç»†æ–‡æ¡£ å¤„ç†ES6è¯­æ³•æˆ‘ä»¬å…ˆç”¨ES6å†™ä¸€äº›ä»£ç  const name = &#39;Alan&#39;; const list = [1, 8, 4, 6]; const resultList = list.filter(item =&gt; item &gt; 5); new Promise(() =&gt; { console.log(&#39;666&#39;); }) console.log(resultList); npm run buildæ‰“åŒ…çœ‹ä¸€ä¸‹chromeæ•ˆæœ å¥ˆä½•è¿™ä¸ªä¸–ç•Œä¸Šè¿˜æœ‰IEè¿™ç§ä¸œè¥¿ğŸ˜£ï¼ŒIEä¸Šçœ‹ä¸€ä¸‹æ•ˆæœ å¯ä»¥çœ‹ä¸€ä¸‹æŠ¥é”™çš„åœ°æ–¹ï¼š eval(&quot;const name = &#39;Alan&#39;;\\r\\nconst list = [1, 8, 4, 6];\\r\\n\\r\\nconst resultList = list.filter(item =&gt; item &gt; 5);\\r\\n\\r\\nnew Promise(() =&gt; {\\r\\n console.log(&#39;666&#39;);\\r\\n})\\r\\n\\r\\nconsole.log(resultList);\\r\\n\\n\\n//# sourceURL=webpack:///./src/index.js?&quot;); çœ‹æ¥IEæ˜¯è¯†åˆ«ä¸äº†ES6è¯­æ³•çš„ï¼Œé‚£æˆ‘ä»¬è¿™é‡Œå°±è¦å€ŸåŠ©babelå¤„ç†äº†ã€‚ npm install --save-dev babel-loader @babel/core @babel/preset-env @babel/preset-envæŠŠES6è½¬åŒ–ä¸ºES5 @babel/corebabelæ ¸å¿ƒå†…å®¹ é…ç½®webpack { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† loader: &#39;babel-loader&#39;, options: { presets: [&#39;@babel/preset-env&#39;] } }, å†æ‰“åŒ…çœ‹ä¸€çœ‹ æ‰“åŒ…åçš„index.jsæ–‡ä»¶ var name = &#39;Alan&#39;; var list = [1, 8, 4, 6]; var resultList = list.filter(function (item) { return item &gt; 5; }); new Promise(function () { console.log(&#39;666&#39;); }); console.log(resultList); è™½ç„¶å¤„ç†äº†ä¸€äº›ES6è¯­æ³•ï¼ˆç®­å¤´å‡½æ•°ï¼Œconstï¼‰ï¼Œä½†æ˜¯åƒfilterå’ŒPromiseè¿˜æ˜¯æ²¡æœ‰å¤„ç†çš„ã€‚ è¿™é‡Œå°±è¦ä½¿ç”¨@babel-polyfillï¼Œå®ƒä¼šæ¨¡æ‹Ÿä¸€ä¸ªES5ç¯å¢ƒ npm install --save @babel/polyfillå®‰è£…ååœ¨æ–‡ä»¶å¼€å¤´å¼•å…¥å°±å¯ä»¥äº† import &#39;@babel/polyfill&#39;; const name = &#39;Alan&#39;; const list = [1, 8, 4, 6]; const resultList = list.filter(item =&gt; item &gt; 5); new Promise(() =&gt; { console.log(&#39;666&#39;); }) console.log(resultList); å†æ¬¡æ‰“åŒ…è¿è¡Œ è™½ç„¶æ•ˆæœå®Œæˆäº†ï¼Œä½†æ˜¯å¯¹æ¯”ä¸€ä¸‹æ²¡ä½¿ç”¨@babel/polyfillå’Œä½¿ç”¨äº†@babel/polyfillæ‰“åŒ…åçš„å¤§å°ğŸ˜® å°±å¼•å…¥äº†ä¸€ä¸ª@babel-polyfillï¼Œä½“ç§¯å°±å¢åŠ äº†è¿™ä¹ˆå¤šï¼Ÿ å…¶å®æ˜¯å› ä¸º@babel-polyfillæ¨¡æ‹Ÿäº†æ‰€æœ‰çš„ES5ç¯å¢ƒï¼Œè€Œæˆ‘ä»¬è¿™é‡Œåªä½¿ç”¨äº†Promiseå’Œfilterï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®useBuiltInsè®©å®ƒåªæ¨¡æ‹Ÿæˆ‘ä»¬ä½¿ç”¨åˆ°çš„ã€‚ é…ç½®äº†useBuiltInsåï¼Œå®ƒæ˜¯ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¼•å…¥@babel/polyfillæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æ— éœ€å†å¼•å…¥ã€‚ { test: /\\.js$/, exclude: /node_modules/, // ä¸å¯¹node_modulesä¸‹çš„jsæ–‡ä»¶å¤„ç† loader: &#39;babel-loader&#39;, options: { presets: [[&#39;@babel/preset-env&#39;, { useBuiltIns: &#39;usage&#39; }]] } }, main.js 68.6 KiB main [emitted] main å†çœ‹ä¸€ä¸‹æ‰“åŒ…åçš„æ–‡ä»¶å°äº†å¾ˆå¤šæœ‰æ²¡æœ‰ï¼Ÿ babelçš„é…ç½®æ˜¯å¯ä»¥å•ç‹¬æ”¾åœ¨.babelrcæ–‡ä»¶ä¸­çš„ï¼Œç›´æ¥å°†optionsä¸­çš„å†…å®¹æ”¾åˆ°.babelrcç›®å½•ä¸‹å³å¯ { &quot;presets&quot;: [[&quot;@babel/preset-env&quot;, { &quot;useBuiltIns&quot;: &quot;usage&quot; }]] } ä½¿ç”¨@babel/preset-reactæ‰“åŒ…Reactæ–‡ä»¶npm install --save-dev @babel/preset-react.babelrcindex.js{ \"presets\": [[\"@babel/preset-env\", { \"useBuiltIns\": \"usage\" }], \"@babel/preset-react\" ] }import React, { Component } from 'react'; import ReactDom from 'react-dom'; class App extends Component { render() { return ( &lt;div&gt;Hello React&lt;/div&gt; ); } } ReactDom.render(&lt;App /&gt;, document.getElementById('root')); è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œpresetsé¡ºåºæ˜¯ä»åå¾€å‰çš„ï¼Œå’Œcss-loaderä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯jsæ–‡ä»¶æ˜¯å…ˆè¢«@babel/preset-reactå¤„ç†çš„å†è¢«@babel/preset-envå¤„ç†çš„ã€‚ æ€»ç»“ä½¿ç”¨çš„babel@babel/preset-reactå¤„ç†reactçš„jsxè¯­æ³• @babel-polyfillå¤„ç†ä½ç‰ˆæœ¬æµè§ˆå™¨æ— æ³•å¤„ç†çš„è¯­æ³•ï¼Œç±»ä¼¼Promiseã€Array.fromã€Object.assign @babel/preset-envæŠŠES6è½¬åŒ–ä¸ºES5 @babel/corebabelæ ¸å¿ƒå†…å®¹ useBuiltIns:usageæŒ‰éœ€å¼•å…¥ æ›´å¤šé…ç½®å‚è€ƒbabelå®˜ç½‘","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸‰ï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸‰ï¼‰","date":"2020-05-17T02:05:14.000Z","updated":"2020-05-16T05:33:00.000Z","comments":true,"path":"posts/829819a3/","link":"","permalink":"https://alanwang.site/posts/829819a3/","excerpt":"è¿™èŠ‚ä»‹ç»äº†webpackä¸€äº›å¸¸ç”¨çš„pluginsçš„ä½¿ç”¨","text":"è¿™èŠ‚ä»‹ç»äº†webpackä¸€äº›å¸¸ç”¨çš„pluginsçš„ä½¿ç”¨ æˆ‘çš„æ€»ç»“ç¯‡çš„ç¬¬ä¸€èŠ‚ä¸­æåˆ°äº†index.htmlæ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç§»åŠ¨åˆ°æ‰“åŒ…åçš„distç›®å½•ä¸‹çš„ï¼Œé‚£æˆ‘æ¯”è¾ƒæ‡’èƒ½ä¸èƒ½è®©webpackæ¥å¸®æˆ‘å®Œæˆå‘¢ã€‚ğŸ¤” è¿™ä¸ªæ—¶å€™pluginså°±æ´¾ä¸Šäº†ç”¨åœºã€‚ html-webpack-plugin The HtmlWebpackPlugin simplifies creation of HTML files to serve your webpack bundles. This is especially useful for webpack bundles that include a hash in the filename which changes every compilation. You can either let the plugin generate an HTML file for you, supply your own template using lodash templates, or use your own loader. å®˜ç½‘ä»‹ç»åˆ°ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨åˆ›é€ HTMLæ–‡ä»¶ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„HTMLæ¨¡æ¿ã€‚ ç›´æ¥çœ‹ä¾‹å­ï¼š npm i html-webpack-plugin -D webpacktest â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.jsindex.js var root = document.getElementById(&#39;root&#39;); root.innerHTML = &#39;&lt;div&gt;Hello Webpack&lt;/div&gt;&#39; webpack.config.js const path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;bundle.js&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, plugins: [new HtmlWebpackPlugin()] }; npm run buildè¿›è¡Œæ‰“åŒ…çœ‹ä¸‹ç»“æœ webpacktest â”œâ”€â”€ dist â”‚ â”œâ”€â”€ bundle.js â”‚ â””â”€â”€ index.html â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.jsHtmlWebpackPluginæ’ä»¶è‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†index.htmlï¼Œä½†æ˜¯â€¦æµè§ˆå™¨æ‰“å¼€index.htmlä¸€çœ‹ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚è¿™æ˜¯å’‹å›äº‹ï¼Œæ¥çœ‹ä¸€çœ‹ç”Ÿæˆçš„index.htmlæ–‡ä»¶å‘ç°äº†é—®é¢˜ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Webpack App&lt;/title&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;&lt;/head&gt; &lt;body&gt; &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;&lt;/body&gt; &lt;/html&gt; ç”Ÿæˆçš„æ–‡ä»¶ä¸­æ˜¯æ²¡æœ‰#rootèŠ‚ç‚¹çš„ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ä¸‹HtmlWebpackPluginï¼Œå‰é¢å®˜ç½‘çš„ä»‹ç»ä¸­ä¹Ÿæåˆ°äº† You can either let the plugin generate an HTML file for you, supply your own template using lodash templates, or use your own loader æˆ‘ä»¬éœ€è¦è‡ªå·±æä¾›ä¸€ä¸ªHTMLæ¨¡æ¿ï¼Œäºæ˜¯åœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªindex.htmlä½œä¸ºHtmlWebpackPluginæ‰“åŒ…çš„æ¨¡æ¿ index.htmlwebpack.config.js&lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;html template&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\"root\"&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt;plugins: [new HtmlWebpackPlugin({ template: './src/index.html' })] å†æ‰“åŒ…ä¸€æ¬¡çœ‹ä¸€ä¸‹distç›®å½•ä¸‹ç”Ÿæˆçš„index.htmlæ–‡ä»¶å’Œæˆ‘ä»¬å®šä¹‰çš„htmlæ¨¡æ¿æ˜¯ä¸€æ ·çš„äº†ã€‚ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;html template&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;root&quot;&gt;&lt;/div&gt; &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;&lt;/body&gt; &lt;/html&gt; æ‰“å¼€æµè§ˆå™¨å‘ç°Hello Webpackä¹Ÿæ­£ç¡®æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ğŸ‰ clean-webpack-pluginhttps://www.npmjs.com/package/clean-webpack-plugin å®ƒçš„ä½œç”¨å°±æ˜¯åœ¨æ¯æ¬¡æ‰“åŒ…å‰ä¼šå°†webpackä¸­é…ç½®çš„out.path(distç›®å½•)æ¸…ç©º npm i clean-webpack-plugin -Dä¸ºäº†éªŒè¯æ˜¯å¦æ¸…ç©ºäº†distç›®å½•ï¼Œæˆ‘ä»¬å…ˆåœ¨distç›®å½•ä¸‹è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶my.js dist â”œâ”€â”€ bundle.js â”œâ”€â”€ index.html â””â”€â”€ my.jsconst path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;bundle.js&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, plugins: [new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39; }), new CleanWebpackPlugin()] }; npm run buildæ‰“åŒ… dist â”œâ”€â”€ bundle.js â””â”€â”€ index.htmlæˆ‘ä»¬å‘ç°ä¹‹å‰åˆ›å»ºçš„my.jsæ–‡ä»¶å·²ç»è¢«CleanWebpackPluginç»™æ¸…é™¤äº†ã€‚ å¤šå…¥å£æ–‡ä»¶æœ‰æ—¶æˆ‘ä»¬çš„æ‰“åŒ…å…¥å£æ–‡ä»¶æœ‰å¤šä¸ªï¼Œè¿™æ—¶å€™å°±è¦é€šè¿‡è®¾ç½®entryæ¥å®Œæˆæ‰“åŒ…ã€‚å¹¶é€šè¿‡[name]å ä½ç¬¦æ¥è®¾ç½®æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶çš„åç§°ã€‚ const path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ enrty: &#39;./src/entry.js&#39;, }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;[name].js&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, plugins: [new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39; }), new CleanWebpackPlugin()] }; npm run buildæ‰“åŒ…ç»“æœ dist â”œâ”€â”€ enrty.js â”œâ”€â”€ index.html â””â”€â”€ main.jsçœ‹ä¸€çœ‹index.html &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;html template&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;root&quot;&gt;&lt;/div&gt; &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;enrty.js&quot;&gt;&lt;/script&gt;&lt;/body&gt; &lt;/html&gt; å¯ä»¥çœ‹åˆ°HtmlWebpackPluginå¸®æˆ‘ä»¬æŠŠmain.jså’Œentry.j2ä¸ªæ–‡ä»¶éƒ½è‡ªåŠ¨å¼•å…¥åˆ°htmlæ–‡ä»¶å½“ä¸­äº†ã€‚ åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸ºäº†ä¼˜åŒ–æœåŠ¡å™¨æ€§èƒ½ï¼Œæˆ‘ä»¬ä¼šå°†æ‰“åŒ…å¥½çš„distç›®å½•ä¸­çš„ä¸€éƒ¨åˆ†æ–‡ä»¶ä¸¢åˆ°cdnä¸­æ¥åŠ å¿«è®¿é—®é€Ÿåº¦ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±è¦å°†cdnçš„åœ°å€æ‰‹åŠ¨å¤åˆ¶åˆ°æ‰“åŒ…åçš„htmlæ–‡ä»¶ä¸­äº†ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®outputçš„publicPathæ¥å®Œæˆã€‚ output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;[name].js&#39;, publicPath: &#39;https://cdn.example.com/assets&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, æ‰“åŒ…åçš„æ•ˆæœ &lt;script src=&quot;https://cdn.example.com/assets/main.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;https://cdn.example.com/assets/enrty.js&quot;&gt;&lt;/script&gt; SourceMapsourcemapæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹index.jsæ–‡ä»¶å†…å®¹å¹¶ä¸”åœ¨webpacké…ç½®ä¸­å…³é—­sourcemap(devtool: â€˜noneâ€™) index.js var root = document.getElementById(&#39;root&#39;); errfun(); root.innerHTML = &#39;&lt;div&gt;Hello Webpack&lt;/div&gt;&#39; webpack.config.js const path = require(&#39;path&#39;); const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction devtool: &#39;none&#39;, entry: { main: &#39;./src/index.js&#39;, // æ‰“åŒ…å…¥å£æ–‡ä»¶ enrty: &#39;./src/entry.js&#39;, }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;[name].js&#39;, path: path.resolve(__dirname, &#39;dist&#39;), }, plugins: [new HtmlWebpackPlugin({ template: &#39;./src/index.html&#39; }), new CleanWebpackPlugin()] }; index.jsä¸­ä½¿ç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å‡½æ•°errfun()ï¼Œæ‰“åŒ…è¿è¡Œä¸€ä¸‹æ˜¯ä¼šæŠ¥é”™çš„ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æƒ³è¦è°ƒè¯•ä»£ç ï¼Œä½†æ˜¯å®ƒè¿™é‡Œæç¤ºçš„é”™è¯¯è¡Œæ˜¯æ‰“åŒ…åçš„main.jsæ‰€åœ¨çš„ä½ç½®ã€‚ ç°åœ¨æˆ‘ä»¬é…ç½®sourcemapçœ‹çœ‹ã€‚ devtool: &#39;source-map&#39;, è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±èƒ½å®šä½åˆ°é”™è¯¯æ˜¯å‡ºç°åœ¨æˆ‘ä»¬index.jsçš„ç¬¬ä¸‰è¡Œäº†ã€‚ é…ç½®ä¸åŒsourceMapä¼šä¸åŒç¨‹åº¦ä¸Šå¢åŠ åº”ç”¨çš„æ‰“åŒ…æ—¶é—´æˆ–æ¶ˆè€—æ€§èƒ½ å®˜ç½‘æä¾›äº†å¤šç§sourceMapé…ç½®ï¼Œä¸åŒsourceMapæ‰“åŒ…æ¶ˆè€—æ—¶é—´ä¸åŒï¼Œè¯¦æƒ…ã€‚ sourcemapå…¶å®å°±æ˜¯main.jså’Œindex.jsä¹‹é—´çš„ä¸€ç§æ˜ å°„å…³ç³»ï¼Œåœ¨ä»£ç å­˜åœ¨é”™è¯¯æ—¶ï¼Œå®ƒèƒ½æ ¹æ®æ˜ å°„å…³ç³»æ‰¾åˆ°index.jsä¸­çš„é”™è¯¯æ‰€åœ¨å¤„ï¼Œæœ‰åˆ©äºæˆ‘ä»¬debugä»£ç ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"Hexoåšå®¢å®šåˆ¶","slug":"Hexoåšå®¢å®šåˆ¶","date":"2020-05-16T08:02:54.891Z","updated":"2020-05-16T08:02:54.891Z","comments":true,"path":"posts/b050203a/","link":"","permalink":"https://alanwang.site/posts/b050203a/","excerpt":"ä»‹ç»äº†è¯„è®ºç³»ç»Ÿä»¥åŠä¸€äº›è‡ªå®šä¹‰é…ç½®","text":"ä»‹ç»äº†è¯„è®ºç³»ç»Ÿä»¥åŠä¸€äº›è‡ªå®šä¹‰é…ç½® è¯„è®ºç³»ç»Ÿæ³¨å†Œä¸€ä¸ªLeanCloudå›½é™…ç‰ˆè´¦å·ï¼ˆå›½å†…çš„å¥½åƒéœ€è¦ç»‘å®šåŸŸåå’Œå¤‡æ¡ˆï¼‰æ³¨å†Œåœ°å€ğŸ‘‰https://console.leancloud.app/login.html#/signup ä¹‹ååˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œåå­—éšä¾¿å– åœ¨è®¾ç½®ä¸­æ‰¾åˆ°åº”ç”¨keys,æŠŠappidå’Œappkeyå¤åˆ¶åˆ°hexoå¯¹åº”çš„é…ç½®å½“ä¸­ã€‚ç”±äºæœ¬æ–‡é‡ç‚¹è®²é‚®ä»¶å›å¤åŠŸèƒ½ï¼Œè¿™ä¸€éƒ¨åˆ†å°±ä¸å¤šè¿‡èµ˜è¿°äº†ğŸ˜ã€‚ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚ ä¿®æ”¹é‚®ä»¶æ¨¡æ¿ &lt;p&gt;Hi, {{username}}&lt;/p&gt; &lt;p&gt; ä½ åœ¨ {{appname}} çš„è¯„è®ºæ”¶åˆ°äº†æ–°çš„å›å¤ï¼Œè¯·ç‚¹å‡»æŸ¥çœ‹ï¼š &lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://alanwang.site&quot; style=&quot;display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;&quot;&gt;é©¬ä¸ŠæŸ¥çœ‹&lt;/a&gt;&lt;/p&gt; éƒ¨ç½²valine-adminé¦–å…ˆè¿›è¡Œé…ç½® æ›´å¤šé…ç½®å‚è€ƒï¼šhttps://github.com/DesertsP/Valine-Admin https://github.com/DesertsP/Valine-Admin.gitç½‘ä¸Šçš„zhaojun1998ç‰ˆæœ¬æˆ‘ä¹‹å‰ä¹Ÿè¯•è¿‡ï¼Œä½†æ˜¯åœ¨å›½é™…ç‰ˆéƒ¨ç½²æ˜¯ä¼šæŠ¥é”™çš„ï¼Œçœ‹é”™è¯¯ä¿¡æ¯åº”è¯¥æ˜¯nodeç‰ˆæœ¬å¤ªä½äº†ï¼Œè€Œä¸”å°±ç®—éƒ¨ç½²æˆåŠŸäº†ï¼Œåå°ä¹Ÿæ˜¯ç™»å½•ä¸äº†çš„ã€‚è¿™ä¸ªç‰ˆæœ¬æˆ‘å®æµ‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ éƒ¨ç½²åˆ†æ”¯é»˜è®¤ä¸ºmaster ç‚¹å‡»éƒ¨ç½²å³å¯ ç‚¹å‡»è¯¥é“¾æ¥è®¿é—®åå°ç®¡ç†ç³»ç»Ÿï¼ˆè¿™é‡Œéœ€è¦ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼Œéœ€è¦åˆ°å­˜å‚¨ä¸­çš„_Userä¸­è‡ªè¡Œåˆ›å»ºï¼‰ è¿™é‡Œåªéœ€è¦å¡«å†™usernameã€passwordã€emailå³å¯ï¼Œæ·»åŠ ååœ¨åå°ç®¡ç†ç³»ç»Ÿè¾“å…¥é‚®ç®±å’Œå¯†ç å°±å¯ä»¥æˆåŠŸç™»å½•äº†ã€‚ è®¾ç½®å®šæ—¶å”¤é†’ 0 */30 7-23 * * ? æ·»åŠ ç™¾åº¦ç»Ÿè®¡å®Œæˆä»¥ä¸‹æ“ä½œ æ³¨å†Œç™¾åº¦ç»Ÿè®¡è´¦å· å¤åˆ¶ç»Ÿè®¡ä»£ç  å°†ä»£ç ç²˜è´´åˆ°G:\\blog\\themes\\volantis\\layout\\_partialä¸‹çš„footer.ejs é…ç½®G:\\blog\\_config.yml baidu_analytics_key: ä¸Šé¢å›¾ç‰‡ä¸­çš„keyå€¼ æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ ç›´æ¥ä½¿ç”¨å®˜ç½‘çš„ä»£ç æ£€æŸ¥å°±å¯ä»¥ï¼Œå¦‚æœæ²¡æœ‰ç”¨å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹æ³•ã€‚ åœ¨æ§åˆ¶å°networkä¸­æŸ¥çœ‹è‡ªå·±çš„ç½‘ç«™æ˜¯å¦æœ‰hmå¼€å¤´çš„è¯·æ±‚ï¼Œæœ‰å°±ä»£è¡¨äº†æˆåŠŸäº†ï¼Œå¤§æ¦‚20åˆ†é’Ÿåå°±å¯ä»¥åœ¨ç™¾åº¦ç»Ÿè®¡ä¸­çœ‹åˆ°æ•°æ®äº†ã€‚ ä½¿ç”¨hexo-adminç®¡ç†å®‰è£…hexo-admin npm i hexo-admin -Sè¿è¡Œå‘½ä»¤ hexo s -dé€šè¿‡localhost:4000/adminè®¿é—®å³å¯å¦‚éœ€ä½¿ç”¨hexo-adminä¸­çš„deployï¼Œåªéœ€åœ¨_config.ymlä¸­é…ç½® admin: deployCommand: &#39;./hexo-deploy.sh&#39; hexo-abbrlinkç”Ÿæˆæ°¸ä¹…é“¾æ²¡ä¿®æ”¹å‰çš„é“¾æ¥æ˜¯è¿™æ ·çš„ æˆ‘ä»¬ä¸€æ—¦ä¿®æ”¹äº†æ–‡ç« çš„å‘å¸ƒæ—¥æœŸï¼Œ é‚£ä¹ˆè¿™ä¸ªé“¾æ¥å°±ä¼šå¤±æ•ˆäº†ã€‚ é‚£æˆ‘ä»¬é€šè¿‡hexo-abbrlinkå¤„ç†ä¸€ä¸‹ é¦–å…ˆå®‰è£… npm i hexo-abbrlink -S ä¿®æ”¹_config.ymlä¸‹çš„é…ç½® permalink: posts/:abbrlink/ abbrlink: alg: crc32 rep: hex è¯¦ç»†é…ç½®å¯ä»¥æŸ¥çœ‹å®˜ç½‘ æœ¬åšå®¢å¾…ä¼˜åŒ–ï¼š ä¼˜åŒ–seoï¼Œæ”¶å½•åˆ°ç™¾åº¦å’Œè°·æ­Œæœç´¢ æ ·å¼å¾®è°ƒ å»é™¤æ¶ˆè€—åŠ è½½é€Ÿåº¦çš„æ’ä»¶ ä½¿ç”¨cdn","categories":[{"name":"Hexoåšå®¢","slug":"Hexoåšå®¢","permalink":"https://alanwang.site/categories/Hexo%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://alanwang.site/tags/Hexo/"},{"name":"Valineå›½é™…ç‰ˆ","slug":"Valineå›½é™…ç‰ˆ","permalink":"https://alanwang.site/tags/Valine%E5%9B%BD%E9%99%85%E7%89%88/"},{"name":"Hexoè¯„è®ºç³»ç»Ÿ","slug":"Hexoè¯„è®ºç³»ç»Ÿ","permalink":"https://alanwang.site/tags/Hexo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"},{"name":"DIYåšå®¢","slug":"DIYåšå®¢","permalink":"https://alanwang.site/tags/DIY%E5%8D%9A%E5%AE%A2/"}]},{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰","date":"2020-05-15T12:00:22.000Z","updated":"2020-05-16T05:33:00.000Z","comments":true,"path":"posts/cf86baf1/","link":"","permalink":"https://alanwang.site/posts/cf86baf1/","excerpt":"è¿™èŠ‚ä¸»è¦è®²ä¸€è®²ä¸€äº›å¸¸è§çš„Loderçš„ä½¿ç”¨ã€‚åŒ…æ‹¬file-loaderã€url-loaderä»¥åŠcss-loaderå’Œstyle-loaderã€‚","text":"è¿™èŠ‚ä¸»è¦è®²ä¸€è®²ä¸€äº›å¸¸è§çš„Loderçš„ä½¿ç”¨ã€‚åŒ…æ‹¬file-loaderã€url-loaderä»¥åŠcss-loaderå’Œstyle-loaderã€‚ Loaderfile-loaderä¸Šä¸€èŠ‚ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆï¼Œwebpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œå¯ä»¥å°†esçš„æ¨¡å—æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚ä¸Šä¸€èŠ‚æˆ‘ä»¬åªæ‰“åŒ…äº†jsæ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½æ‰“åŒ…å…¶ä»–ç±»å‹çš„æ–‡ä»¶å‘¢ï¼Œå…ˆæ¥è¯•ä¸€è¯•æ‰“åŒ…å›¾ç‰‡å§ã€‚ è¿™é‡Œä½¿ç”¨åˆ°äº†file-loader npm i file-loader -Dindex.js // ES Moudule æ¨¡å—åŒ–å¼•å…¥ import ComponentB from &#39;./componentB&#39;; var root = document.getElementById(&#39;root&#39;); // CommonJs æ¨¡å—å¼•å…¥ var ComponentA = require(&#39;./componentA&#39;); var img1 = require(&#39;./IMG_3294.jpg&#39;); console.log(img1); var img = new Image(); img.src = img1; root.append(img); new ComponentA(); new ComponentB(); webpack.config.js const path = require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39; // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, module: { rules: [ { test: /\\.jpg$/, use: { loader: &#39;file-loader&#39; } } ] }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;bundle.js&#39;, path: path.resolve(__dirname, &#39;dist&#39;) } } npm run buildè¿›è¡Œæ‰“åŒ…ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ§åˆ¶å°æ‰“å°å‡ºæ¥çš„img1 è¿™é‡Œå¯ä»¥çœ‹åˆ°img1æ˜¯ä¸€ä¸ªModuleã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡img1.defaultæ¥è·å–è·¯å¾„æˆ–è€…ç›´æ¥é€šè¿‡importå½¢å¼æ¥å¼•å…¥ï¼Œè¿™æ ·å›¾ç‰‡å°±æˆåŠŸå¾—æ˜¾ç¤ºå‡ºæ¥äº†ğŸ˜„ import img1 from &#39;./IMG_3294.jpg&#39; é€šè¿‡è¿™ä¸ªä¾‹å­å¯ä»¥çŸ¥é“äº†loaderçš„å¤§è‡´ä½œç”¨æ–¹æ³•äº†ï¼Œé€šè¿‡testæ¥åŒ¹é…ç‰¹å®šæ–‡ä»¶ä½¿ç”¨ï¼ˆuse)ç‰¹å®šçš„loaderæ¥å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…å¤„ç†ã€‚ æˆ‘ä»¬å†çœ‹ä¸€ä¸‹æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ dist â”œâ”€â”€ a2099657cfcaf9f019ccf08e9dc8747d.jpg â”œâ”€â”€ bundle.js â””â”€â”€ index.htmlå‘ç°æˆ‘ä»¬çš„å›¾ç‰‡åç§°è¢«æ”¹å˜æˆäº†ä¸€é•¿ä¸²å­—ç¬¦ï¼Œé‚£æˆ‘æ€ä¹ˆè®©å®ƒä¸æ”¹å˜åå­—å‘¢ã€‚è¿™æ—¶å€™loaderçš„optionså°±æ´¾ä¸Šç”¨åœºäº†ğŸ˜ rules: [ { test: /\\.(jpg|png)$/, use: { loader: &#39;file-loader&#39;, options: { name: &#39;[name].[ext]&#39; } } } ] è¿™é‡Œçš„[name]å’Œ[ext]æ˜¯loaderä¸­çš„placeholder,åˆ†åˆ«è¡¨ç¤ºæ–‡ä»¶çš„åå­—å’Œåç¼€åï¼Œå½“ç„¶loaderä¸­è¿˜æœ‰å¾ˆå¤šçš„placeholderã€‚ è®¾ç½®å¥½åè¿›è¡Œæ‰“åŒ…å¾—åˆ°å¦‚ä¸‹ç»“æœ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ IMG_3294.jpg â””â”€â”€ index.htmlç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬çš„å›¾ç‰‡ä¸€æ—¦å¤šèµ·æ¥é‚£å…¨éƒ¨æ‰“åŒ…æ”¾åœ¨æ ¹ç›®å½•ä¸‹æ‹¿å²‚ä¸æ˜¯å¾ˆä¹±ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨optionsä¸­çš„outputæ¥è§„å®šç»è¿‡loaderå¤„ç†åçš„è¾“å‡ºè·¯å¾„äº†ã€‚ options: { name: &#39;[name].[ext]&#39;, outputPath: &#39;images/&#39; } æ‰“åŒ…çœ‹ä¸€ä¸‹ç»“æœæˆåŠŸğŸ‘Œï¼Œè¿è¡Œä¸€ä¸‹htmlæ–‡ä»¶å›¾ç‰‡ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºã€‚ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ images â”‚ â””â”€â”€ IMG_3294.jpg â””â”€â”€ index.htmlåˆ°è¿™é‡Œæˆ‘ä»¬å°±äº†è§£äº†file-loaderçš„åŸºæœ¬ä½¿ç”¨äº†ã€‚ url-loaderurl-loaderä¹Ÿå¯ä»¥æ‰“åŒ…æ–‡ä»¶ï¼Œä½†æ˜¯å’Œfile-loaderä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šå°†æˆ‘ä»¬çš„å›¾ç‰‡è½¬åŒ–æˆbase64ç¼–ç ï¼Œé‚£å¦‚æœæˆ‘ä¸æƒ³è½¬åŒ–å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨optionsä¸­çš„limitå±æ€§æ¥é™åˆ¶æ–‡ä»¶åœ¨å°äºå¤šå°‘æ—¶è½¬åŒ–æˆbase64ç¼–ç ï¼Œä¸€æ—¦å¤§äºè¿™ä¸ªå€¼æ‰“åŒ…å‡ºæ¥çš„æ•ˆæœå°±å’Œfile-loaderä¸€æ ·äº†ã€‚ çœ‹ä¸€ä¸‹ä¾‹å­å°±æ¸…æ¥šäº† npm i url-loader -Dè¿™é‡Œå‡†å¤‡ä¸¤ä¸ªå›¾ç‰‡ï¼Œä¸€ä¸ªå¤§å°300kï¼Œä¸€ä¸ªå¤§å°7k webpacké…ç½® const path = require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39; // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, module: { rules: [ { test: /\\.(jpg|png)$/, use: { loader: &#39;url-loader&#39;, options: { name: &#39;[name].[ext]&#39;, outputPath: &#39;images/&#39;, limit: 10240 } } } ] }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;bundle.js&#39;, path: path.resolve(__dirname, &#39;dist&#39;) } } çœ‹ä¸€ä¸‹æ‰“åŒ…åçš„æ–‡ä»¶ dist â”œâ”€â”€ bundle.js â”œâ”€â”€ images â”‚ â””â”€â”€ 300k.jpg â””â”€â”€ index.htmlç»“æœæ˜¯å¤§äº10240çš„300k.jpgæ–‡ä»¶è¢«ä»¥å›¾ç‰‡å½¢å¼æ‰“åŒ…å‡ºæ¥äº†ï¼Œé‚£7k.jpgæ–‡ä»¶å»å“ªäº†å‘¢ï¼Œæˆ‘ä»¬åœ¨bundle.jsæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°äº†å®ƒï¼Œå®ƒè¢«è½¬åŒ–æˆäº†base64ç¼–ç ã€‚ data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD...å½“ç„¶limitä¹Ÿå¯ä»¥è®¾ç½®ä¸ºtrue/falseï¼Œæ›´å¤šé…ç½® æˆ‘åœ¨æ“ä½œä¸­å‘ç°äº†å¦‚æœhtmlä¸­æ²¡æœ‰ä½¿ç”¨åˆ°7k.jpgï¼Œurl-loaderæ˜¯ä¸ä¼šå¯¹å®ƒè¿›è¡Œæ‰“åŒ…çš„ã€‚ è¿™é‡Œå¹¶ä¸å»ºè®®æŠŠå¤§æ–‡ä»¶è½¬åŒ–ä¸ºbase64ï¼Œè¿™æ ·ä¼šå¢åŠ bundle.jsçš„ä½“ç§¯ï¼Œå¯¹é¡¹ç›®ä¼˜åŒ–ä¸å¤ªå‹å¥½ æ ·å¼æ–‡ä»¶æ¥ç€ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ç°åœ¨æƒ³è¦ä¸ºé¡µé¢ä¸­çš„å›¾ç‰‡æ·»åŠ ä¸€äº›æ ·å¼ index.js // ES Moudule æ¨¡å—åŒ–å¼•å…¥ import ComponentB from &#39;./componentB&#39;; import &#39;./index.css&#39;; var root = document.getElementById(&#39;root&#39;); // CommonJs æ¨¡å—å¼•å…¥ var ComponentA = require(&#39;./componentA&#39;); import img1 from &#39;./300k.jpg&#39;; console.log(img1); var img = new Image(); img.src = img1; img.classList.add(&#39;circle&#39;); root.append(img); new ComponentA(); new ComponentB(); index.css .circle { width: 100px; height: 100px; border-radius: 50px; } ç°åœ¨æˆ‘æƒ³è¦æ‰“åŒ…cssæ–‡ä»¶è¯¥æ€ä¹ˆåŠå‘¢ğŸ˜¶ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°ä¸¤ä¸ªloaderï¼Œcss-loaderå’Œstyle-loader å®‰è£… npm i style-loader css-loader -Dwebpacké…ç½® { test: /\\.css$/, use: [&#39;style-loader&#39;, &#39;css-loader&#39;] } æ‰“åŒ…æˆåŠŸï¼Œæ‰“å¼€ç½‘é¡µçœ‹ä¸€çœ‹æ•ˆæœç”Ÿæ•ˆäº† è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹style-loaderå’Œcss-loaderçš„ä½œç”¨ï¼Œé¦–å…ˆå®ƒä»¬æ‰§è¡Œæœ‰å…ˆåé¡ºåºçš„ï¼Œå…ˆä½¿ç”¨css-loaderå¯¹cssæ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œå†ç”¨style-loaderæŠŠæ‰“åŒ…åçš„cssæ–‡ä»¶å†…å®¹ä»¥&lt;style&gt;&lt;/style&gt;åŠ åˆ°é¡µé¢çš„headerä¸­ã€‚ æœ‰æ—¶å€™æˆ‘ä»¬è¦ä¸ºcssåŠ ä¸Šæµè§ˆå™¨å¼•æ“å‰ç¼€-webkitï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªloaderå¯ä»¥å¸®æˆ‘ä»¬å®Œæˆpostcss-loader å®‰è£… npm i postcss-loader autoprefixer -Dwebpacké…ç½® { test: /\\.css$/, use: [&#39;style-loader&#39;, &#39;css-loader&#39;, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, pulgins: [ require(&#39;autoprefixer&#39;) ] } }], }, è¿™é‡Œè²Œä¼¼æœ‰ç‚¹é—®é¢˜ï¼ŒåæœŸæˆ‘å†ç ”ç©¶ç ”ç©¶ã€‚ æ‰©å±•cssæ¨¡å—åŒ–å…ˆçœ‹ä¸€ä¸ªåœºæ™¯ index.jscomponentA.jsimport './index.css'; import img1 from './300k.jpg'; import ComponentA from './componentA'; var root = document.getElementById('root'); var img = new Image(); img.src = img1; img.classList.add('circle'); root.append(img); ComponentA();import img1 from './300k.jpg'; function ComponentA() { var img = new Image(); img.src = img1; img.classList.add('circle'); var root = document.getElementById('root'); root.append(img); } export default ComponentA; æˆ‘ä»¬çœ‹åˆ°circleæ ·å¼åŒæ ·ä½œç”¨åœ¨äº†componentAä¸Šäº†ï¼Œä¹Ÿå°±æ˜¯è¯´circleå·²ç»ç­‰åŒäºæ˜¯å…¨å±€æ ·å¼äº†ğŸ˜¥ã€‚è¿˜å¥½æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®css-loaderçš„optionsæ¥ä½¿ç”¨cssçš„æ¨¡å—åŒ–æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ { test: /\\.css$/, use: [ &#39;style-loader&#39;, { loader: &#39;css-loader&#39;, options: { modules: true, } }, { loader: &#39;postcss-loader&#39;, options: { ident: &#39;postcss&#39;, pulgins: [require(&#39;autoprefixer&#39;)], }, }, ], }, é…ç½®å¥½åæˆ‘ä»¬åœ¨è¦ä½¿ç”¨æ ·å¼çš„åœ°æ–¹ä½¿ç”¨ä¸‹é¢è¿™ç§å†™æ³• import circle from &#39;./index.css&#39;; img.classList.add(circle.circle); è¿™æ ·æˆ‘ä»¬å†ä¿®æ”¹æ ·å¼å°±ä¸ä¼šå½±å“åˆ°å…¶ä»–åœ°æ–¹äº†ã€‚ csså¤–éƒ¨å¼•å…¥è¿™é‡Œä¸»è¦ä»‹ç»css-loaderçš„optionsimportLoadersã€‚ æˆ‘ä»¬åœ¨index.cssæ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨cssæ–‡ä»¶ @import &#39;./import.css&#39;; å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹å‡ ä¸ªloaderå¤„ç†cssæ–‡ä»¶ [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;sass-loader&#39;, &#39;postcss-loader&#39;] å½“webpackå¤„ç†index.cssæ–‡ä»¶æ—¶æŒ‰ç…§postcss-loader-&gt;sass-loader-&gt;css-loaderé¡ºåºæ¥æ‰§è¡Œcssæ–‡ä»¶çš„ å½“é‡åˆ°@importæ—¶å¤„ç†import.cssæ—¶ï¼Œå¦‚æœä¸åšå¤„ç†çš„è¯ï¼Œimport.csså°†ç›´æ¥ä»css-loaderå¼€å§‹å¤„ç†çš„ï¼Œé‚£æˆ‘æƒ³è®©å®ƒä»postcss-loaderä»å¤´å¤„ç†çš„è¯å°±è¦è®¾ç½®imortLoadersæ•°ç›®äº†ã€‚ { loader: &#39;css-loader&#39;, options: { importLoaders: 1, } }, è¿™é‡Œçš„1è¡¨ç¤ºå¤„ç†@importå¼•å…¥çš„cssæ–‡ä»¶æ˜¯ï¼Œå…ˆè¦è¢«å‰é¢çš„1ä¸ªloaderå¤„ç†ï¼Œä¹Ÿå°±æ˜¯import.cssçš„å¤„ç†é¡ºåºæ˜¯sass-loader-&gt;css-loader-style-loaderã€‚ å¤„ç†å­—ä½“æ–‡ä»¶ç›´æ¥ä½¿ç”¨file-loaderå¤„ç†å°±å¯ä»¥äº† webpack.config.jsindex.jsiconfont.css{ test: /\\.(eot|ttf|svg|woff)$/, use: { loader: 'file-loader', }, },import './font/iconfont.css'; var root = document.getElementById('root'); root.innerHTML = '&lt;div class=\"iconfont icon-smile\"&gt;&lt;/div&gt;'@font-face {font-family: \"iconfont\"; src: url('iconfont.eot?t=1589604469136'); /* IE9 */ src: url('iconfont.eot?t=1589604469136#iefix') format('embedded-opentype'), /* IE6-IE8 */ url('data:application/x-font-woff2;charset=utf-8;base64,è¿™é‡Œbase64ä»£ç å¤ªé•¿åˆ é™¤æ‰äº†') format('woff2'), url('iconfont.woff?t=1589604469136') format('woff'), url('iconfont.ttf?t=1589604469136') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */ url('iconfont.svg?t=1589604469136#iconfont') format('svg'); /* iOS 4.1- */ } .iconfont { font-family: \"iconfont\" !important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } .icon-smile:before { content: \"\\e783\"; } ok!è¿™ç« åˆ°æ­¤ä»‹ç»ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿå¤„ç†ä¸€äº›å¸¸è§æ–‡ä»¶çš„æ‰“åŒ…äº†ï¼Œå¯¹webpackçš„è®¤è¯†ä¹Ÿåº”è¯¥ç®—ä¸€ä¸ªç®€å•çš„å…¥é—¨äº†ã€‚ğŸ˜","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰","slug":"webpack4.0å­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰","date":"2020-05-14T08:01:46.000Z","updated":"2020-05-14T08:01:46.000Z","comments":true,"path":"posts/ff905629/","link":"","permalink":"https://alanwang.site/posts/ff905629/","excerpt":"è¿™ä¸€ç¯‡æ–‡ç« ä¸»è¦ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆä»¥åŠwebpackçš„ä¸€äº›ç®€å•é…ç½®ï¼Œä½ åªè¦è·Ÿç€æˆ‘æ•²å®Œè¿™äº›ä»£ç åä¸€å®šä¼šå¯¹webpackæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£çš„ã€‚ğŸ˜","text":"è¿™ä¸€ç¯‡æ–‡ç« ä¸»è¦ç®€å•ä»‹ç»äº†webpackæ˜¯ä»€ä¹ˆä»¥åŠwebpackçš„ä¸€äº›ç®€å•é…ç½®ï¼Œä½ åªè¦è·Ÿç€æˆ‘æ•²å®Œè¿™äº›ä»£ç åä¸€å®šä¼šå¯¹webpackæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£çš„ã€‚ğŸ˜ webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚ ä¸Šé¢å¼•ç”¨äº†webpackå®˜ç½‘çš„ä¸€æ®µä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç†è§£webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œé‚£ä»€ä¹ˆæ˜¯æ¨¡å—æ‰“åŒ…å™¨å‘¢ï¼ŸğŸ˜‚å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ index.htmlindex.jscomponentA.jscomponentB.js&lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\"root\"&gt;&lt;/div&gt; &lt;script src=\"./index.js\"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;// ES Moudule æ¨¡å—åŒ–å¼•å…¥ import ComponentB from './componentB'; var root = document.getElementById('root'); // CommonJs æ¨¡å—å¼•å…¥ var ComponentA = require('./componentA'); new ComponentA(); new ComponentB(); function ComponentA() { var componentA = document.createElement('div'); componentA.innerHTML = 'ComponentA'; root.append(componentA); } module.exports = ComponentA;function ComponentB() { var componentB = document.createElement('div'); componentB.innerHTML = 'ComponentB'; root.append(componentB); } export default ComponentB; è¿™é‡Œçš„æ¨¡å—å¯ä»¥ç†è§£æˆcomponentAå’ŒcomponentBï¼Œè¿™ç§å†™æ³•åœ¨vueå’Œreactä¸­éå¸¸å¸¸è§ï¼Œå†™å®Œè¿™äº›æ–‡ä»¶åæ‰“å¼€index.htmlæ–‡ä»¶ï¼Œæµè§ˆå™¨æ˜¯ä¼šæŠ¥é”™çš„ã€‚ Uncaught SyntaxError: Cannot use import statement outside a module è¿™æ˜¯ç”±äºè¿™é‡Œä½¿ç”¨äº†es6ä¸­çš„æ¨¡æ¿å¼•å…¥çš„æ–¹å¼ï¼Œæµè§ˆå™¨æ˜¯è¯†åˆ«ä¸äº†è¿™ç§æ–¹å¼çš„ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼ŸğŸ˜¥ è¿™ä¸ªæ—¶å€™webpackå°±æ´¾ä¸Šç”¨åœºäº†ï¼Œé¦–å…ˆåˆå§‹åŒ–è¯¥é¡¹ç›® npm init -yåˆå§‹åŒ–åä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶ å®‰è£…webpack-cliå’Œwebpackï¼ˆä¸å»ºè®®å…¨å±€å®‰è£…ï¼‰ npm install webpack-cli -D npm install webpack -Så®‰è£…å›ºå®šç‰ˆæœ¬çš„webpack npm install webpack@ç‰ˆæœ¬å· npm info webpack // æŸ¥çœ‹åŒ…ä¿¡æ¯æ‰“åŒ…index.js npx webpack index.js è¿™é‡Œå¦‚æœä¸ä½¿ç”¨npxçš„è¯nodeä¼šé»˜è®¤åœ¨å…¨å±€ç¯å¢ƒä¸­æ‰¾å¯»webpackï¼ŒåŠ ä¸Šnpxçš„è¯å°±ä¼šä½¿ç”¨é¡¹ç›®ä¸­å®‰è£…çš„webpackæ¥æ‰§è¡Œå‘½ä»¤ æ‰“åŒ…åå¯ä»¥çœ‹åˆ°æ ¹ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªdistæ–‡ä»¶å¤¹ï¼ˆwebpacké»˜è®¤è®¾ç½®å¥½çš„ï¼Œåé¢ä¼šè®²å¦‚ä½•æ”¹å˜ï¼‰ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªmain.jsæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç»è¿‡webpackå¤„ç†åçš„index.jsã€‚ ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹index.htmlçš„ä»£ç  &lt;script src=&quot;./dist/main.js&quot;&gt;&lt;/script&gt; è¿™ä¸‹æµè§ˆå™¨å°±èƒ½æ­£å¸¸è¯†åˆ«htmlä¸­çš„jsæ–‡ä»¶äº†ï¼Œåˆ°è¿™é‡Œä¸ºæ­¢ç†è§£webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨åº”è¯¥ä¸æ˜¯å¾ˆéš¾äº†å§ã€‚webpackå°†æ¨¡å—componentAå’ŒcomponentBæ‰“åŒ…ç”Ÿæˆäº†æœ€åçš„main.jsã€‚ webpacké…ç½®æ–‡ä»¶webpackçš„é…ç½®æ–‡ä»¶åé»˜è®¤æ˜¯webpack.config.jsï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶ã€‚ å¼€å§‹ä¹‹å‰æˆ‘ä»¬å…ˆä¿®æ”¹ä¸€ä¸‹é¡¹ç›®ç›®å½• webpacktest â”œâ”€â”€ index.html â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ src â”‚ â”œâ”€â”€ componentA.js â”‚ â”œâ”€â”€ componentB.js â”‚ â””â”€â”€ index.js â””â”€â”€ webpack.config.jsåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶webpack.config.jsï¼š const path = require(&#39;path&#39;); module.exports = { mode: &#39;development&#39;, // é»˜è®¤ä¸ºproduction entry: { main: &#39;./src/index.js&#39; // æ‰“åŒ…å…¥å£æ–‡ä»¶ }, output: { // è¾“å‡ºæ–‡ä»¶é…ç½® filename: &#39;bundle.js&#39;, path: path.resolve(__dirname, &#39;dist&#39;) } } ä¸Šé¢å¼•ç”¨çš„pathæ˜¯nodeä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œ__dirnameè¡¨ç¤ºwebpack.config.jsæ‰€åœ¨çš„ç›®å½•ã€‚ entryå¯ä»¥ç®€å†™ä¸ºentry: â€˜./src/index.jsâ€™ modeä¸­çš„developmentå’Œproductionæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶bundle.jså°±çŸ¥é“äº†ï¼Œproductionæ¨¡å¼ä¸‹çš„ä»£ç æ˜¯ä¸€æ•´è¡Œçš„ï¼Œä½“ç§¯æ›´å°ã€‚è€Œdevelopmentæ¨¡å¼ä¸‹çš„ä»£ç ä¸æ˜¯ä¸€æ•´è¡Œçš„æœ‰åˆ©äºè°ƒè¯•ã€‚ node pathçš„ æ›´å¤š æ‰§è¡Œä¸‹é¢å‘½ä»¤åå³å¯å®Œæˆæ‰“åŒ…ï¼Œæ•ˆæœå’Œä¸Šä¸€èŠ‚ä¸€æ · npx webpackå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ npx webpack --config è‡ªå®šä¹‰é…ç½®æ–‡ä»¶å†™è¿‡é¡¹ç›®çš„å°ä¼™ä¼´åº”è¯¥éƒ½å‘ç°å¹³æ—¶éƒ½æ˜¯ä½¿ç”¨npm run xxxæ¥æ‰“åŒ…é¡¹ç›®çš„ï¼Œä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½® ä¿®æ”¹package.jsonæ–‡ä»¶ä¸­çš„script &quot;scripts&quot;: { &quot;build&quot;: &quot;webpack&quot; }, è¿™æ ·å°±å¯ä»¥é€šè¿‡npm run buildæ¥è¿›è¡Œæ‰“åŒ…äº†ï¼Œä¸è¿‡çœ‹è¿‡ç¬¬ä¸€èŠ‚çš„å°ä¼™ä¼´è‚¯å®šæœ‰ç–‘é—®äº†ï¼Œè¿™æ ·é…ç½®ä¼šä¸ä¼šä½¿ç”¨å…¨å±€çš„webpackå»è¿›è¡Œæ‰“åŒ…å‘¢ğŸ™„ï¼Œå…¶å®å¹¶ä¸ä¼šï¼Œè¿™é‡Œnpm scriptå‘½ä»¤ä¼šåœ¨é¡¹ç›®çš„node_modulesæ–‡ä»¶ä¸­å»å¯»æ‰¾webpackå¹¶æ‰§è¡Œã€‚ æ‰“åŒ…å¥½åæˆ‘ä»¬æ‰“å¼€index.htmlçœ‹çœ‹ï¼Œå‘ç°æ˜¯ä¼šæŠ¥é”™çš„ï¼Œè¿™é‡Œæ³¨æ„ï¼šæˆ‘ä»¬è¦æ‰‹åŠ¨æŠŠindex.htmlç§»åŠ¨åˆ°distç›®å½•ä¸‹å¹¶ä¿®æ”¹ä¸€ä¸‹jsè·¯å¾„ï¼Œå› ä¸ºwebpackå¹¶æ²¡æœ‰å°†index.htmlæ‰“åŒ…åˆ°distç›®å½•ä¸‹ã€‚ &lt;script src=&quot;./bundle.js&quot;&gt;&lt;/script&gt; è¿™ä¸‹å†è¿è¡Œindex.htmlå°±æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ã€‚ğŸ‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"}]},{"title":"reactåšå®¢-egg-jwtå®ç°ç™»å½•ç³»ç»Ÿ","slug":"reactåšå®¢-egg-jwtå®ç°ç™»å½•ç³»ç»Ÿ","date":"2020-05-13T08:11:11.000Z","updated":"2020-05-13T08:11:11.000Z","comments":true,"path":"posts/3b0a6cbe/","link":"","permalink":"https://alanwang.site/posts/3b0a6cbe/","excerpt":"reactåšå®¢ç³»åˆ—æ–‡ç« ","text":"reactåšå®¢ç³»åˆ—æ–‡ç«  ä½•ä¸ºjwtegg-jwtå®‰è£…egg-jwtyarn add egg-jwt é…ç½®egg-jwt é…ç½®config/plugin.jsæ–‡ä»¶ exports.jwt = { enable: true, package: &#39;egg-jwt&#39;, }; é…ç½®config/config.default.jsæ–‡ä»¶ // è‡ªå·±è®¾å®šçš„å¯†é’¥ï¼Œç”¨äºå¯¹ä¿¡æ¯è¿›è¡Œç­¾å config.jwt = { secret: &#39;xxxxxx&#39;, }; å®ä¾‹åå°å®ç°ç™»å½•æ“ä½œè¿”å›token è·¯ç”±å±‚ åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸ŠåŠ ä¸Šjwtå³å¯å®ç°å¯¹è¯¥è·¯ç”±çš„é‰´æƒ ä¸‹é¢çš„jwtæ˜¯è‡ªå®šä¹‰çš„ä¸­é—´ä»¶auth.jsï¼Œè¯¥æ–‡ä»¶åœ¨ä¸‹ä¸€éƒ¨åˆ†ä»‹ç» &#39;use strict&#39;; /** * @param {Egg.Application} app - egg application */ module.exports = app =&gt; { const { router, controller, middleware, config } = app; const { admin } = controller.admin; const jwt = middleware.auth(config.jwt); router.post(&#39;/admin/login&#39;, admin.login); // éœ€è¦é‰´æƒçš„è·¯ç”±å†ç¬¬äºŒä¸ªå‚æ•°ä¸ŠåŠ ä¸Šjwt router.get(&#39;/admin/get_type_list&#39;, jwt, admin.getTypeList); }; controllerå±‚ ä½¿ç”¨jwt.sign(åŠ å¯†æ•°æ®, å¯†é’¥, [options, callback]) æ¥ç”Ÿæˆtoken ç›¸å…³é…ç½®å¯ä»¥æŸ¥çœ‹jsonwebtoken async login() { const { app, ctx } = this; const { username, password } = ctx.request.body; const checkValidate = await ctx.service.admin.admin.checkUserValidate(username, password); if (checkValidate) { // å°†ä¿¡æ¯ä½¿ç”¨jwtè¿›è¡Œç­¾ååŠ å¯†ç”Ÿæˆtokenï¼ŒexpiresInï¼ˆtokenæœ‰æ•ˆæ—¶é—´ï¼‰ const token = app.jwt.sign({ username, password }, app.config.jwt.secret, { expiresIn: &#39;2h&#39; }); ctx.body = { code: &#39;0001&#39;, msg: &#39;ç™»å½•æˆåŠŸ&#39;, token, }; } else { ctx.body = { code: &#39;0002&#39;, msg: &#39;ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼&#39;, }; } } serviceå±‚ async checkUserValidate(username, password) { const isValidate = await this.app.mysql.get(&#39;admin&#39;, { username, password }); return !!isValidate; } ä½¿ç”¨postmanè¿›è¡Œæµ‹è¯• å°†ç”Ÿæˆçš„tokenè¿”å›ç»™å‰å°åä½¿ç”¨localStorage.setItemæŠŠtokenä¿å­˜åˆ°æœ¬åœ° å‰å°ä¼ é€’tokenè¿›è¡Œé‰´æƒå°è£…axiosæ–°å»ºaxiosæ–‡ä»¶å¯¹axioè¿›è¡Œå°è£…ï¼Œé€šè¿‡axiosçš„æ‹¦æˆªå™¨æ¥å®ç°æ¯æ¬¡è¯·æ±‚æ—¶è‡ªåŠ¨åœ¨headersä¸Šæºå¸¦tokenæ•°æ®åˆ°åå°ï¼Œåå°ä½¿ç”¨jwt.verifyæ¥æ£€éªŒtokençš„æ­£ç¡®æ€§ axios.js import axios from &#39;axios&#39;; axios.interceptors.request.use(config =&gt; { // ç™»å½•æˆåŠŸåä¿å­˜åœ¨æœ¬åœ°çš„token const token = localStorage.getItem(&#39;token&#39;); config.headers.Authorization = `Bearer ${token}`; return config; }); axios.interceptors.response.use(response =&gt; { // codeæ˜¯åå°æ¥å£è®¾ç½®çš„ const { code } = response.data; if (code === &#39;0003&#39; || code === &#39;0004&#39;) { window.location.href = &#39;/login&#39;; } return response; }); export default axios; å°è£…å¥½åï¼Œä¹‹åéƒ½ä½¿ç”¨è¯¥å°è£…å¥½åçš„axiosè¿›è¡Œè¯·æ±‚ã€‚ åå°æ ¡éªŒå¤„ç†auth.js &#39;use strict&#39;; module.exports = options =&gt; { return async function auth(ctx, next) { // è·å–å‰å°é€šè¿‡axioså°è£…åç©¿è¿‡æ¥çš„token const token = ctx.header.authorization; if (token) { try { // éªŒè¯å¹¶å¯¹tokenè¿›è¡Œè§£ç  const decode = ctx.app.jwt.verify(token.split(&#39; &#39;)[1], options.secret); console.log(decode); await next(); } catch (error) { console.log(error.name); if (error.name === &#39;JsonWebTokenError&#39; || error.name === &#39;TokenExpiredError&#39;) { // è¿™é‡Œçš„é”™è¯¯æœ‰è®¸å¤šç§æƒ…å†µï¼š1.tokené”™è¯¯ï¼Œ2.tokenè¿‡æœŸ... è¿™é‡Œç»Ÿä¸€å¤„ç†ä¸ºé‰´æƒå¤±è´¥ ctx.body = { code: &#39;0003&#39;, msg: &#39;ç”¨æˆ·é‰´æƒå¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•&#39;, }; } else { throw error; } } } else { ctx.body = { code: &#39;0004&#39;, msg: &#39;æ‚¨æ²¡æœ‰ç™»å½•ï¼Œè¯·å…ˆç™»å½•&#39;, }; } }; }; åå°é€šè¿‡/middleware/auth.jsä¸­é—´ä»¶æ¥å®ç°ç»™éœ€è¦é‰´æƒçš„æ¥å£è¿›è¡Œé‰´æƒï¼Œé€šè¿‡å¯¹å‰å°ä¼ è¿‡æ¥çš„tokenæ•°æ®è¿›è¡ŒéªŒè¯jwt.verifyæ¥è¯†åˆ«ç™»å½•çŠ¶æ€ã€‚å¯¹JsonWebTokenErroré”™è¯¯ç»Ÿä¸€å¤„ç†ï¼Œåº”ä¸ºauth.jsä½œä¸ºä¸­é—´ä»¶ï¼Œæ‰€ä»¥æ¥å£ä¸­å‡ºç°çš„å…¶ä»–é”™è¯¯ä¹Ÿä¼šåœ¨è¿™é‡Œè¢«catchåˆ°ï¼Œå¯¹äºä¸æ˜¯JsonWebTokenErrorçš„é”™è¯¯ï¼Œç›´æ¥æŠŠé”™è¯¯æŠ›å‡ºå»ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"ReactHook","slug":"ReactHook","permalink":"https://alanwang.site/tags/ReactHook/"},{"name":"jwt","slug":"jwt","permalink":"https://alanwang.site/tags/jwt/"}]},{"title":"reactåšå®¢-é¡¹ç›®éƒ¨ç½²","slug":"reactåšå®¢-é¡¹ç›®éƒ¨ç½²","date":"2020-05-13T07:51:16.000Z","updated":"2020-05-13T07:51:16.000Z","comments":true,"path":"posts/d4ddb122/","link":"","permalink":"https://alanwang.site/posts/d4ddb122/","excerpt":"é˜¿é‡Œäº‘æœ€è¿‘æ¨å‡ºäº†ä¸€ä¸ªâ€œåœ¨å®¶å®è·µæ´»åŠ¨â€ï¼Œå…è´¹é¢†å–åŠå¹´çš„æœåŠ¡å™¨ï¼ŒçœŸé¦™ã€‚é¢†å–åœ°å€","text":"é˜¿é‡Œäº‘æœ€è¿‘æ¨å‡ºäº†ä¸€ä¸ªâ€œåœ¨å®¶å®è·µæ´»åŠ¨â€ï¼Œå…è´¹é¢†å–åŠå¹´çš„æœåŠ¡å™¨ï¼ŒçœŸé¦™ã€‚é¢†å–åœ°å€ è´­ä¹°é˜¿é‡Œäº‘æœåŠ¡å™¨è´­ä¹°å®Œæˆåä¼šå¾—åˆ°ä¸€ä¸ªå…¬ç½‘ip ä¸‹è½½è½¯ä»¶puttyæ¥è¿æ¥æˆ‘ä»¬åˆšæ‰è´­ä¹°çš„æœåŠ¡å™¨ï¼Œåªéœ€è¾“å…¥å…¬ç½‘ipç‚¹å‡»openå³å¯ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ç”¨æˆ·årootå’Œå¯†ç å¾—åˆ°Welcome to Alibaba Cloud Elastic Compute Service !å³å®Œæˆäº†è¿æ¥ã€‚ ä½¿ç”¨å®å¡”è¿›è¡Œç®¡ç†https://www.bt.cn/bbs/thread-19376-1-1.html è¿æ¥æˆåŠŸæœåŠ¡å™¨ååœ¨å‘½ä»¤è¡Œè¾“å…¥(Centosç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»ŸæŸ¥çœ‹ä¸Šé¢ç½‘å€)ï¼Œå¤åˆ¶æŒ‰ä¸‹é¼ æ ‡å³é”®å®Œæˆå®å¡”çš„å®‰è£… yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.shå®‰è£…æˆåŠŸåä¼šè¿”å›ä¸€ä¸ªç«¯å£å·ä¸º8888çš„ç½‘ç«™ä»¥åŠè´¦å·å’Œå¯†ç ï¼š è®¿é—®è¯¥åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™ç½‘ç«™æ—¶ä¸èƒ½è®¿é—®çš„ï¼Œå› ä¸ºè¿œç¨‹æœåŠ¡å™¨æ²¡æœ‰å¼€æ”¾8888ç«¯å£ã€‚ è®¾ç½®æ•™ç¨‹ï¼š https://www.bt.cn/bbs/thread-2897-1-1.html ç™»å½•æˆåŠŸåå®‰è£…mysqlå’Œnginxï¼ˆä¹‹åå‡ ä¹æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨å®å¡”ä¸Šè¿›è¡Œï¼‰ éœ€è¦å®‰è£…è½¯ä»¶ phpç¯å¢ƒï¼ˆç”¨äºphpmyadminï¼‰ phpMyAdminï¼ˆç”¨äºç®¡ç†mysqlæ•°æ®åº“ï¼‰ PM2ï¼ˆè‡ªå¸¦nodeç¯å¢ƒï¼‰ nginx å¼€æ”¾80(http)ç«¯å£è®¿é—®æœåŠ¡å™¨åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†æ§åˆ¶å°å®‰å…¨ç»„ä¸­è®¾ç½® è®¾ç½®åå°±å¯ä»¥é€šè¿‡å…¬ç½‘ipè®¿é—®æœåŠ¡å™¨äº† éƒ¨ç½²é¡¹ç›®åˆ‡æ¢é•œåƒæºå®‰è£…nrmï¼ˆç”¨æ¥ç®¡ç†npmé•œåƒæºçš„å·¥å…·ï¼‰npm install -g nrm å¸¸ç”¨å‘½ä»¤ nrm ls æŸ¥çœ‹æ‰€æœ‰æºåœ°å€ nrm use taobao åˆ‡æ¢ä¸ºæ·˜å®é•œåƒæº nrm add [name] [url] æ·»åŠ æºåœ°å€ é€šè¿‡gitå…‹éš†ä»£ç åˆ°æœåŠ¡å™¨æŠŠä»£ç cloneåˆ°æœåŠ¡å™¨ æ‰“åŒ…é¡¹ç›®å¹¶ä¸”éƒ¨ç½² éƒ¨ç½²å‰å°é¡µé¢ï¼ˆnext.jsï¼‰ yarn build yarn start æˆ–è€…ç”¨PM2è¿›è¡Œè¿›ç¨‹å®ˆæŠ¤ï¼ˆå¾…ç ”ç©¶ï¼‰ éƒ¨ç½²åå°æ¥å£ï¼ˆegg.jsï¼‰ npm start éƒ¨ç½²åå°ç®¡ç†ç³»ç»Ÿ ç›´æ¥npm buildç„¶åä½¿ç”¨nginxè¿›è¡Œä»£ç† å¯¼å…¥mysqlæ•°æ®å‡ºé”™åœ¨å¯¼å…¥æœ¬åœ°mysqlæ–‡ä»¶æ—¶é‡åˆ°äº†ä¸€äº›é”™è¯¯ï¼Œå‚è€ƒæ–‡ç« ï¼š https://www.jianshu.com/p/788dceb93eff LinuxæŸ¥çœ‹ç«¯å£å·å ç”¨æƒ…å†µä»¥åŠæ€è¿›ç¨‹å‘½ä»¤ netstart -anpï¼ˆæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µï¼‰ lsof -i:8080ï¼ˆæŸ¥çœ‹8080ç«¯å£å ç”¨æƒ…å†µï¼‰ kill -9 1234ï¼ˆæ€PID=1234è¿›ç¨‹ï¼‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"https://alanwang.site/tags/%E9%83%A8%E7%BD%B2/"},{"name":"é˜¿é‡Œäº‘","slug":"é˜¿é‡Œäº‘","permalink":"https://alanwang.site/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"}]},{"title":"æµ‹è¯•ä¸»é¢˜","slug":"test1","date":"2020-05-13T01:19:17.000Z","updated":"2020-05-13T07:19:17.000Z","comments":true,"path":"posts/f032f0/","link":"","permalink":"https://alanwang.site/posts/f032f0/","excerpt":"è¿™é‡Œæ˜¯æ‘˜è¦","text":"è¿™é‡Œæ˜¯æ‘˜è¦ è¿™é‡Œæ˜¯æ­£æ–‡ title: æµ‹è¯•ä¸»é¢˜ date: 2020-05-13 09:19:17 top: true categories: æµ‹è¯•åˆ†ç±» tags: æµ‹è¯•æ ‡ç­¾ author: name: æµ‹è¯•ä½œè€… avatar: https://gitee.com/alannum3/MyImages/raw/master/img/20200508165134.png music: # æ–‡ç« éŸ³ä¹ server: netease # netease, tencent, kugou, xiami, baidu type: song # song, playlist, album, search, artist id: 16846091 thumbnail: # æ–‡ç« ç¼©ç•¥å›¾ https://gitee.com/alannum3/MyImages/raw/master/img/20200508165134.png # å½’æ¡£é¡µé¢å¯¹åº”æ–‡ç« å›¾æ ‡ icons: [fas fa-fire red, fas fa-star green] meta: # æ–‡ç« åº•éƒ¨æŒ‰é’® footer: [btns] btns: repo: https://github.com/xaoxuu/hexo-theme-volantis bug: https://github.com/xaoxuu/hexo-theme-volantis/issues/ doubt: https://github.com/xaoxuu/hexo-theme-volantis/issues/ idea: https://github.com/xaoxuu/hexo-theme-volantis/issues/ cover: false #æ˜¯å¦æ˜¾ç¤ºå°é¢å›¾ h1h2h3ä»£ç å—index.jsindex.jsindex.jsjsdalkjfdajsdalkjfdajsdalkjfda index.jsjsdalkjfda index.jsjsdalkjfda index.jsjsdalkjfda","categories":[{"name":"æµ‹è¯•åˆ†ç±»","slug":"æµ‹è¯•åˆ†ç±»","permalink":"https://alanwang.site/categories/%E6%B5%8B%E8%AF%95%E5%88%86%E7%B1%BB/"}],"tags":[{"name":"æµ‹è¯•æ ‡ç­¾","slug":"æµ‹è¯•æ ‡ç­¾","permalink":"https://alanwang.site/tags/%E6%B5%8B%E8%AF%95%E6%A0%87%E7%AD%BE/"}]},{"title":"Typora+PicGo+Giteeï¼ˆä¹¦å†™åšå®¢ç¥å™¨ï¼‰","slug":"Typora-PicGo-Giteeï¼ˆä¹¦å†™åšå®¢ç¥å™¨ï¼‰","date":"2020-05-12T13:06:52.000Z","updated":"2020-05-15T12:49:17.000Z","comments":true,"path":"posts/24b4915a/","link":"","permalink":"https://alanwang.site/posts/24b4915a/","excerpt":"å†™åšå®¢ï¼Œéš¾å…ä¼šéšæ‰‹æˆªå›¾æ¥è§£é‡Šåšå®¢ä¸­çš„ä¸€äº›çŸ¥è¯†ç‚¹æˆ–è€…å†…å®¹ã€‚å½“é«˜é«˜å…´å…´åœ°åœ¨æœ¬åœ°ç”µè„‘å†™å®Œåšå®¢åå°†å®ƒä¸Šä¼ ä¹‹åå‘ç°æ‰€æœ‰å›¾ç‰‡éƒ½æµè§ˆä¸äº†äº†ï¼Œè¿™å…¶å®å°±æ˜¯å› ä¸ºå›¾ç‰‡éƒ½ä¿å­˜åœ¨æœ¬åœ°äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»é•¿è¿œå’Œè´¢åŠ›æ¥è€ƒè™‘ï¼Œæˆ‘ä½¿ç”¨äº†giteeæ­é…å¼€æºé¡¹ç›®PicGoæ¥åšå›¾åºŠç”Ÿæˆåœ¨çº¿å›¾ç‰‡é“¾æ¥ï¼Œè¿™æ ·æ— è®ºåœ¨å“ªéƒ½èƒ½ç•…é€šæŸ¥çœ‹å›¾ç‰‡äº†ã€‚è€Œä¸ä½¿ç”¨githubä¸»è¦æ˜¯å›½å†…è®¿é—®é€Ÿåº¦æ˜¯éå¸¸åœ°æ…¢ã€‚","text":"å†™åšå®¢ï¼Œéš¾å…ä¼šéšæ‰‹æˆªå›¾æ¥è§£é‡Šåšå®¢ä¸­çš„ä¸€äº›çŸ¥è¯†ç‚¹æˆ–è€…å†…å®¹ã€‚å½“é«˜é«˜å…´å…´åœ°åœ¨æœ¬åœ°ç”µè„‘å†™å®Œåšå®¢åå°†å®ƒä¸Šä¼ ä¹‹åå‘ç°æ‰€æœ‰å›¾ç‰‡éƒ½æµè§ˆä¸äº†äº†ï¼Œè¿™å…¶å®å°±æ˜¯å› ä¸ºå›¾ç‰‡éƒ½ä¿å­˜åœ¨æœ¬åœ°äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»é•¿è¿œå’Œè´¢åŠ›æ¥è€ƒè™‘ï¼Œæˆ‘ä½¿ç”¨äº†giteeæ­é…å¼€æºé¡¹ç›®PicGoæ¥åšå›¾åºŠç”Ÿæˆåœ¨çº¿å›¾ç‰‡é“¾æ¥ï¼Œè¿™æ ·æ— è®ºåœ¨å“ªéƒ½èƒ½ç•…é€šæŸ¥çœ‹å›¾ç‰‡äº†ã€‚è€Œä¸ä½¿ç”¨githubä¸»è¦æ˜¯å›½å†…è®¿é—®é€Ÿåº¦æ˜¯éå¸¸åœ°æ…¢ã€‚ å‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/disILLL/article/details/104944710 å¼€æè½¯ä»¶ç‰ˆæœ¬ typora 0.9.86 PicGo 2.2.2 åˆ›å»ºgiteeä»“åº“åœ¨giteeè´¦æˆ·ä¸­åˆ›å»ºä¸€ä¸ªå…¬å¼€çš„ä»“åº“ç”¨æ¥ä¿å­˜å›¾ç‰‡ PicGoé…ç½®è¿™è¾¹å®‰è£…æœ‰ä¸€ä¸ªå·¨å‘ï¼Œä¸è¦å®‰è£…åœ¨Programe Filesç›®å½•ä¸‹é¢ï¼Œåˆ‡è®° å®‰è£…gitee-uploaderæ’ä»¶ å®‰è£…å®Œåé…ç½®gitee tokenåœ¨è‡ªå·±çš„giteeä¸­åˆ›å»º ç‚¹å‡»commitç”Ÿæˆtokenï¼Œå°†tokenå¡«å…¥PicGoä¸­ç‚¹å‡»ç¡®å®šå³å¯ã€‚ æ£€æŸ¥ä¸€ä¸‹ç«¯å£å·æ˜¯ä¸æ˜¯36677ï¼Œè¿™æ˜¯æˆ‘è¸©è¿‡çš„ä¸€ä¸ªå‘ é…ç½®Typoraå®ç°æ’å…¥å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ æ–°ç‰ˆæœ¬çš„Typoraå·²ç»æ”¯æŒå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼ˆæ–‡ä»¶-&gt;åå¥½è®¾ç½®ï¼‰ï¼š æµ‹è¯•å¯ä»¥çœ‹åˆ°è¿™é‡Œå›¾ç‰‡çš„é“¾æ¥æ˜¯ä¹‹å‰åœ¨giteeä¸­åˆ›å»ºçš„ç”¨æ¥ä¿å­˜å›¾ç‰‡çš„Repositoryçš„åœ°å€äº† å“ˆå“ˆï¼ŒæˆåŠŸäº†ï¼Œè¿™æ ·æ•ˆç‡å°±æé«˜äº†è®¸å¤šäº†ã€‚","categories":[{"name":"æ•ˆç‡å·¥å…·","slug":"æ•ˆç‡å·¥å…·","permalink":"https://alanwang.site/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Typora","slug":"Typora","permalink":"https://alanwang.site/tags/Typora/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://alanwang.site/tags/%E5%B7%A5%E5%85%B7/"}]}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/"},{"name":"React","slug":"å‰ç«¯/React","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/React/"},{"name":"webpack4.0å­¦ä¹ æ€»ç»“","slug":"å‰ç«¯/webpack4-0å­¦ä¹ æ€»ç»“","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/webpack4-0%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"},{"name":"é¢è¯•é€ è½®","slug":"å‰ç«¯/é¢è¯•é€ è½®","permalink":"https://alanwang.site/categories/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%80%A0%E8%BD%AE/"},{"name":"è®°å½•ç”Ÿæ´»","slug":"è®°å½•ç”Ÿæ´»","permalink":"https://alanwang.site/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"},{"name":"2020","slug":"è®°å½•ç”Ÿæ´»/2020","permalink":"https://alanwang.site/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/2020/"},{"name":"Hexoåšå®¢","slug":"Hexoåšå®¢","permalink":"https://alanwang.site/categories/Hexo%E5%8D%9A%E5%AE%A2/"},{"name":"æµ‹è¯•åˆ†ç±»","slug":"æµ‹è¯•åˆ†ç±»","permalink":"https://alanwang.site/categories/%E6%B5%8B%E8%AF%95%E5%88%86%E7%B1%BB/"},{"name":"æ•ˆç‡å·¥å…·","slug":"æ•ˆç‡å·¥å…·","permalink":"https://alanwang.site/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"React","slug":"React","permalink":"https://alanwang.site/tags/React/"},{"name":"webpack4.0","slug":"webpack4-0","permalink":"https://alanwang.site/tags/webpack4-0/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"https://alanwang.site/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"},{"name":"è®°å½•ç”Ÿæ´»","slug":"è®°å½•ç”Ÿæ´»","permalink":"https://alanwang.site/tags/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"},{"name":"Hexo","slug":"Hexo","permalink":"https://alanwang.site/tags/Hexo/"},{"name":"Valineå›½é™…ç‰ˆ","slug":"Valineå›½é™…ç‰ˆ","permalink":"https://alanwang.site/tags/Valine%E5%9B%BD%E9%99%85%E7%89%88/"},{"name":"Hexoè¯„è®ºç³»ç»Ÿ","slug":"Hexoè¯„è®ºç³»ç»Ÿ","permalink":"https://alanwang.site/tags/Hexo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/"},{"name":"DIYåšå®¢","slug":"DIYåšå®¢","permalink":"https://alanwang.site/tags/DIY%E5%8D%9A%E5%AE%A2/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://alanwang.site/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"ReactHook","slug":"ReactHook","permalink":"https://alanwang.site/tags/ReactHook/"},{"name":"jwt","slug":"jwt","permalink":"https://alanwang.site/tags/jwt/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"https://alanwang.site/tags/%E9%83%A8%E7%BD%B2/"},{"name":"é˜¿é‡Œäº‘","slug":"é˜¿é‡Œäº‘","permalink":"https://alanwang.site/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"},{"name":"æµ‹è¯•æ ‡ç­¾","slug":"æµ‹è¯•æ ‡ç­¾","permalink":"https://alanwang.site/tags/%E6%B5%8B%E8%AF%95%E6%A0%87%E7%AD%BE/"},{"name":"Typora","slug":"Typora","permalink":"https://alanwang.site/tags/Typora/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://alanwang.site/tags/%E5%B7%A5%E5%85%B7/"}]}